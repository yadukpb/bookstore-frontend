/*! For license information please see main.2cc44b3a.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,U=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case A:return"Portal";case I:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ae(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function _e(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(_e(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,je=!1,Be=null,Fe={onError:function(e){Me=!0,Ue=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Ue=null,Le.apply(Fe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,At,xt,Et,It,St=!1,Ct=[],Tt=null,_t=null,Nt=null,Dt=new Map,Rt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ft(){St=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==_t&&jt(_t)&&(_t=null),null!==Nt&&jt(Nt)&&(Nt=null),Dt.forEach(Bt),Rt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==_t&&Vt(_t,e),null!==Nt&&Vt(Nt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ut(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Qt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return _t=Mt(_t,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),Tn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Wn(e){jr(e,0)}function Yn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Sr=Ir("animationend"),Cr=Ir("animationiteration"),Tr=Ir("animationstart"),_r=Ir("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Pr=Dr[Or];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Sr:case Cr:case Tr:s=yn;break;case _r:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Hn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Qr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=en(),$t=Zt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ai=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=Ai[xi],Ai[xi]=null,xi--)}function Si(e,t){xi++,Ai[xi]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),_i=Ei(!1),Ni=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(_i),Ii(Ti)}function Pi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Si(Ti,t),Si(_i,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,Si(Ti,e),Si(_i,_i.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(_i),Ii(Ti),Si(Ti,e)):Ii(_i),Si(_i,n)}var ji=null,Bi=!1,Fi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Fi&&null!==ji){Fi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,qi),i}finally{kt=t,Fi=!1}}return null}var zi=[],Hi=0,Gi=null,Qi=0,Ki=[],Wi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){zi[Hi++]=Qi,zi[Hi++]=Gi,Gi=e,Qi=t}function $i(e,t,n){Ki[Wi++]=Xi,Ki[Wi++]=Ji,Ki[Wi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=zi[--Hi],zi[Hi]=null,Qi=zi[--Hi],zi[Hi]=null;for(;e===Yi;)Yi=Ki[--Wi],Ki[Wi]=null,Ji=Ki[--Wi],Ki[Wi]=null,Xi=Ki[--Wi],Ki[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function Aa(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ca(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Ni:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case A:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case A:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Si($a,t)}function io(){Ii($a),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ii($a),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function Ao(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,Po.bind(null,n,r,i,t),void 0,null),null===_s)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Uo(e){var t=_a(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Co().memoizedState}function Vo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Go(e,t){return qo(4,2,e,t)}function Qo(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_s)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=_s.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Jo,useReducer:_o,useRef:Fo,useState:function(){return _o(To)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[_o(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Jo,useReducer:No,useRef:Fo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function Au(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Ri(n)?Ni:Ti.current;return a=Di(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Tu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Di(t,c=Ri(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Na?("function"===typeof l&&(Fa(t,n,l,r),s=t.memoizedState),(u=Na||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Di(t,s=Ri(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Na?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Ou,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Bu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Bu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Bu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=_s)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),nc(r,e,i,-1))}return vc(),Bu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Wi++]=Xi,Ki[Wi++]=Ji,Ki[Wi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fu(e,n,t);else if(19===e.tag)Fu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qu(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Qu(t),null;case 3:return r=t.stateNode,io(),Ii(_i),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Qu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":Q(r),$(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":Q(e),$(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Qu(t),null;case 10:return Aa(t.type._context),Qu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Qu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Qu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Qu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Qu(t),6&t.subtreeFlags&&(t.flags|=8192)):Qu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(_i),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ec(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Zu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?As(i):null!==s?(s.return=o,Zu=s):As(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function As(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var xs,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ts=0,_s=null,Ns=null,Ds=0,Rs=0,Os=Ei(0),Ps=0,Ls=null,Ms=0,Us=0,js=0,Bs=null,Fs=null,Vs=0,qs=1/0,zs=null,Hs=!1,Gs=null,Qs=null,Ks=!1,Ws=null,Ys=0,Xs=0,Js=null,Zs=-1,$s=0;function ec(){return 0!==(6&Ts)?Je():-1!==Zs?Zs:Zs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===_s||(e===_s&&(0===(2&Ts)&&(Us|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(qs=Je()+500,Bi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===_s?Ds:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===_s?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(_s===e&&Ds===t||(zs=null,qs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Ts=i,null!==Ns?t=0:(_s=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Fs,zs),t);break}wc(e,Fs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Fs,zs),r);break}wc(e,Fs,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fs,Fs=n,null!==t&&oc(t)),e}function oc(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function uc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));Ac();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fs,zs),rc(e,Je()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(qs=Je()+500,Bi&&qi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Ts)&&Ac();var t=Ts;Ts|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ts=t))&&qi()}}function fc(){Rs=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(_i),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:Aa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(_s=e,Ns=e=Oc(e.current,null),Ds=Rs=t,Ps=0,Ls=null,js=Us=Ms=0,Fs=Bs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ps=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Bs?Bs=[o]:Bs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Qs||!Qs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===_s||0===(268435455&Ms)&&0===(268435455&Us)||uc(_s,Ds)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(_s===e&&Ds===t||(zs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Ts=n,Is.current=r,null!==Ns)throw Error(a(261));return _s=null,Ds=0,Ps}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ye();)kc(Ns)}function kc(e){var t=xs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Rs)))return void(Ns=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{Ac()}while(null!==Ws);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_s&&(Ns=_s=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,_c(tt,(function(){return Ac(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ts;Ts|=4,Ss.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Ts=s,kt=u,Cs.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Ys=i),o=e.pendingLanes,0===o&&(Qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,qi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function Ac(){if(null!==Ws){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(A){Ec(s,s.return,A)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ts=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function xc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Je()-Vs?hc(e,0):js|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=_a(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function _c(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Dc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case _:return(e=Dc(13,n,t,i)).elementType=_,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case T:u=11;break e;case D:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,a,o,u,s){return e=new Bc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Fc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ua(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!_i.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ga(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Fc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Ts)&&(qs=Je()+500,qi()))}break;case 13:lc((function(){var t=_a(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},At=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=_a(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,_e=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Ce,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=_(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=_(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)A.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(A);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function A(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,C=5,T=-1;function _(){return!(t.unstable_now()-T<C)}function N(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function O(e){I=e,E||(E=!0,x())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(A))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return dt},SDK_VERSION:function(){return Sn},_DEFAULT_ENTRY_NAME:function(){return dn},_addComponent:function(){return yn},_addOrOverwriteComponent:function(){return gn},_apps:function(){return vn},_clearComponents:function(){return An},_components:function(){return mn},_getProvider:function(){return bn},_registerComponent:function(){return kn},_removeServiceInstance:function(){return wn},deleteApp:function(){return Nn},getApp:function(){return Tn},getApps:function(){return _n},initializeApp:function(){return Cn},onLog:function(){return On},registerVersion:function(){return Rn},setLogLevel:function(){return Pn}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function E(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function I(e,t,n){return I=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},I.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},S(e)}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var _,N="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:P(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),h=e,function(){u.removeEventListener(N,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=O(y.location,e,n);r&&r(i,e);var a=R(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=O(y.location,e,n);r&&r(i,e);var a=R(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function U(e,t,n){void 0===n&&(n="/");var r=Q(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=z(i[o],G(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=J([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),j(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n,r=o(n=t)||f(n)||s(n)||c(),i=r[0],a=r.slice(1),u=i.endsWith("?"),l=i.replace(/\?$/,"");if(0===a.length)return u?[l,""]:[l];var d=B(a.join("/")),p=[];return p.push.apply(p,h(d.map((function(e){return""===e?l:[l,e].join("/")})))),u&&p.push.apply(p,h(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_||(_={}));var F=/^:\w+$/,V=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(V)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!V(e)})).reduce((function(e,t){return e+(F.test(t)?3:""===t?1:10)}),r)}function z(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=H({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:J([i,l.pathname]),pathnameBase:Z(J([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=J([i,l.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);K("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return K(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return K(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function W(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function X(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(D(!(i=T({},e)).pathname||!i.pathname.includes("?"),W("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),W("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),W("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:$(a),hash:ee(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var J=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},te=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(S(Error));function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var re=["post","put","patch","delete"],ie=(new Set(re),["get"].concat(re));new Set(ie),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var oe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ue=r.useState,se=r.useEffect,ce=r.useLayoutEffect,le=r.useDebugValue;function fe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!oe(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext({outlet:null,matches:[]});var ge=r.createContext(null);function ke(){return null!=r.useContext(me)}function be(){return ke()||D(!1),r.useContext(me).location}function we(){ke()||D(!1);var e=r.useContext(ve),t=e.basename,n=e.navigator,i=r.useContext(ye).matches,a=be().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=X(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:J([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Ae(){var e=r.useContext(ye).matches,t=e[e.length-1];return t?t.params:{}}function xe(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ye).matches,a=be().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return X(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(){var e=function(){var e,t=r.useContext(ge),n=Ne(Se.UseRouteError),i=De(Se.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie,Se,Ce=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Te(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(he);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function _e(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(Ee,null):null,l=t.concat(i.slice(0,u+1)),f=function(){return r.createElement(Te,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Ce,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ne(e){var t=r.useContext(de);return t||D(!1),t}function De(e){var t=function(e){var t=r.useContext(ye);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ie||(Ie={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Se||(Se={}));var Re;function Oe(e){D(!1)}function Pe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ke()&&D(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=L(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,A=v.state,x=void 0===A?null:A,E=v.key,I=void 0===E?"default":E,S=r.useMemo((function(){var e=Q(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:I}}),[d,y,k,w,x,I]);return null==S?null:r.createElement(ve.Provider,{value:p},r.createElement(me.Provider,{children:o,value:{location:S,navigationType:c}}))}function Le(e){var n=e.children,i=e.location,a=r.useContext(he);return function(e,n){ke()||D(!1);var i,a=r.useContext(ve).navigator,o=r.useContext(de),u=r.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,be());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),i=d}else i=f;var p=i.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=_e(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:J([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(me.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ue(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Me=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Oe&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,t))})),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Fe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ve=["aria-current","caseSensitive","className","end","style","to","children"];function qe(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),M((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,t)));var u=o.current,s=l(r.useState({action:u.action,location:u.location}),2),c=s[0],f=s[1];return r.useLayoutEffect((function(){return u.listen(f)}),[u]),r.createElement(Pe,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,He=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Be(e,Fe),h="string"===typeof c?c:P(c),d=/^[a-z+]+:\/\//i.test(h)||h.startsWith("//"),p=h,v=!1;if(ze&&d){var m=new URL(window.location.href),y=h.startsWith("//")?new URL(m.protocol+h):new URL(h);y.origin===m.origin?p=y.pathname+y.search+y.hash:v=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;ke()||D(!1);var i=r.useContext(ve),a=i.basename,o=i.navigator,u=xe(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:J([a,c])),o.createHref({pathname:f,search:l,hash:s})}(p,{relative:i}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=we(),l=be(),f=xe(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(p,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return r.createElement("a",je({},f,{href:d?h:g,onClick:v||a?n:function(e){n&&n(e),e.defaultPrevented||k(e)},ref:t,target:s}))}));var Ge=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Be(e,Ve),v=xe(h,{relative:p.relative}),m=be(),y=r.useContext(de),g=r.useContext(ve).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var A,x=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),E=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),I=x?i:void 0;A="function"===typeof s?s({isActive:x,isPending:E}):[s,x?"active":null,E?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:x,isPending:E}):f;return r.createElement(He,je({},p,{"aria-current":I,className:A,ref:t,style:S,to:h}),"function"===typeof d?d({isActive:x,isPending:E}):d)}));var Qe,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));var We=n.p+"static/media/search.239dd3d47f1dadf5fd37e91a64ef47ac.svg",Ye=n(184);var Xe=function(){var e=l((0,r.useState)("name"),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1];return(0,Ye.jsx)("div",{id:"topNav",children:(0,Ye.jsxs)("form",{id:"topNavSearch",onClick:function(e){e.preventDefault(),o("")},children:[(0,Ye.jsxs)("select",{value:t,onChange:function(e){return n(e.target.value)},children:[(0,Ye.jsx)("option",{value:"name",children:"Name"}),(0,Ye.jsx)("option",{value:"publisher",children:"Publisher"}),(0,Ye.jsx)("option",{value:"location",children:"Location"})]}),(0,Ye.jsx)("input",{type:"text",placeholder:"Enter ".concat(t," to search"),value:a,onChange:function(e){o(e.target.value)}}),(0,Ye.jsx)(Ge,{to:"/search/".concat(t,"/").concat(a),children:(0,Ye.jsx)("button",{type:"submit",style:{backgroundColor:"transparent",border:"none"},children:(0,Ye.jsx)("img",{id:"topNavSearchBtn",src:We,alt:"search"})})})]})})};function Je(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},et=function(e){return function(e){var t=Ze(e);return $e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tt=function(e){try{return $e.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=nt(e[n],t[n]));return e}var rt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},it=function(){try{return rt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&tt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},at=function(e){var t,n;return null===(n=null===(t=it())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ot=function(){var e;return null===(e=it())||void 0===e?void 0:e.config},ut=function(e){var t;return null===(t=it())||void 0===t?void 0:t["_".concat(e)]},st=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ct(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(a)),""].join(".")}function lt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ft(){var e,t=null===(e=it())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ht(){try{return"object"===typeof indexedDB}catch(e){return!1}}var dt=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(A(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(A(a),pt.prototype.create),a}return y(n)}(S(Error)),pt=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new dt(n,a,t);return o}}]),e}();function vt(e,t){return e.replace(mt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mt=/\{\$([^}]+)}/g;function yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(kt(u)&&kt(s)){if(!gt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function kt(e){return null!==e&&"object"===typeof e}function bt(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function wt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function At(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xt(e,t){var n=new Et(e,t);return n.subscribe.bind(n)}var Et=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=It),void 0===r.error&&(r.error=It),void 0===r.complete&&(r.complete=It);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function It(){}function St(e){return e&&e._delegate?e._delegate:e}function Ct(){Ct=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(_){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:A(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function A(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Tt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function _t(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tt(a,r,i,o,u,"next",e)}function u(e){Tt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Nt=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Dt="[DEFAULT]",Rt=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new st;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dt})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Tw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Tw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.component?this.component.multipleInstances?e:Dt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ot,Pt,Lt=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pt||(Pt={}));var Ut={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},jt=Pt.INFO,Bt=(Je(Ot={},Pt.DEBUG,"log"),Je(Ot,Pt.VERBOSE,"log"),Je(Ot,Pt.INFO,"info"),Je(Ot,Pt.WARN,"warn"),Je(Ot,Pt.ERROR,"error"),Ot),Ft=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vt=function(){function e(t){d(this,e),this.name=t,this._logLevel=jt,this._logHandler=Ft,this._userLogHandler=null,Mt.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ut[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Pt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Pt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.INFO].concat(t)),this._logHandler.apply(this,[this,Pt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.WARN].concat(t)),this._logHandler.apply(this,[this,Pt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.ERROR].concat(t)),this._logHandler.apply(this,[this,Pt.ERROR].concat(t))}}]),e}();function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht,Gt;var Qt=new WeakMap,Kt=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap;var Jt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(tn(this),n),en(Qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return en(e.apply(tn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[tn(this),t].concat(r));return Wt.set(a,t.sort?t.sort():[t]),en(a)}}function $t(e){return"function"===typeof e?Zt(e):(e instanceof IDBTransaction&&function(e){if(!Kt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kt.set(e,t)}}(e),t=e,(Ht||(Ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Jt):e);var t}function en(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(en(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qt.set(t,e)})).catch((function(){})),Xt.set(t,e),t}(e);if(Yt.has(e))return Yt.get(e);var t=$t(e);return t!==e&&(Yt.set(e,t),Xt.set(t,e)),t}var tn=function(e){return Xt.get(e)};var nn,rn,an=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],un=new Map;function sn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(un.get(t))return un.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=on.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||an.includes(n))){var a=function(){var e=_t(Ct().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return un.set(t,a),a}}}Jt=function(e){return zt(zt({},e),{},{get:function(t,n,r){return sn(t,n)||e.get(t,n,r)},has:function(t,n){return!!sn(t,n)||e.has(t,n)}})}(Jt);var cn=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ln="@firebase/app",fn="0.9.1",hn=new Vt("@firebase/app"),dn="[DEFAULT]",pn=(Je(nn={},ln,"fire-core"),Je(nn,"@firebase/app-compat","fire-core-compat"),Je(nn,"@firebase/analytics","fire-analytics"),Je(nn,"@firebase/analytics-compat","fire-analytics-compat"),Je(nn,"@firebase/app-check","fire-app-check"),Je(nn,"@firebase/app-check-compat","fire-app-check-compat"),Je(nn,"@firebase/auth","fire-auth"),Je(nn,"@firebase/auth-compat","fire-auth-compat"),Je(nn,"@firebase/database","fire-rtdb"),Je(nn,"@firebase/database-compat","fire-rtdb-compat"),Je(nn,"@firebase/functions","fire-fn"),Je(nn,"@firebase/functions-compat","fire-fn-compat"),Je(nn,"@firebase/installations","fire-iid"),Je(nn,"@firebase/installations-compat","fire-iid-compat"),Je(nn,"@firebase/messaging","fire-fcm"),Je(nn,"@firebase/messaging-compat","fire-fcm-compat"),Je(nn,"@firebase/performance","fire-perf"),Je(nn,"@firebase/performance-compat","fire-perf-compat"),Je(nn,"@firebase/remote-config","fire-rc"),Je(nn,"@firebase/remote-config-compat","fire-rc-compat"),Je(nn,"@firebase/storage","fire-gcs"),Je(nn,"@firebase/storage-compat","fire-gcs-compat"),Je(nn,"@firebase/firestore","fire-fst"),Je(nn,"@firebase/firestore-compat","fire-fst-compat"),Je(nn,"fire-js","fire-js"),Je(nn,"firebase","fire-js-all"),nn),vn=new Map,mn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(n){hn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function gn(e,t){e.container.addOrOverwriteComponent(t)}function kn(e){var t=e.name;if(mn.has(t))return hn.debug("There were multiple attempts to register component ".concat(t,".")),!1;mn.set(t,e);var n,r=C(vn.values());try{for(r.s();!(n=r.n()).done;){yn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dn;bn(e,t).clearInstance(n)}function An(){mn.clear()}var xn=(Je(rn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(rn,"bad-app-name","Illegal App name: '{$appName}"),Je(rn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Je(rn,"app-deleted","Firebase App named '{$appName}' already deleted"),Je(rn,"no-options","Need to provide options, when not being deployed to hosting via source."),Je(rn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je(rn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je(rn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Je(rn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Je(rn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Je(rn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),rn),En=new pt("app","Firebase",xn),In=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}]),e}(),Sn="9.16.0";function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:dn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw En.create("bad-app-name",{appName:String(a)});if(n||(n=ot()),!n)throw En.create("no-options");var o=vn.get(a);if(o){if(gt(n,o.options)&&gt(i,o.config))return o;throw En.create("duplicate-app",{appName:a})}var u,s=new Lt(a),c=C(mn.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new In(n,i,s);return vn.set(a,f),f}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=vn.get(e);if(!t&&e===dn)return Cn();if(!t)throw En.create("no-app",{appName:e});return t}function _n(){return Array.from(vn.values())}function Nn(e){return Dn.apply(this,arguments)}function Dn(){return Dn=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vn.has(n)){e.next=6;break}return vn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function Rn(e,t,n){var r,i=null!==(r=pn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hn.warn(u.join(" "))}kn(new Nt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function On(e,t){if(null!==e&&"function"!==typeof e)throw En.create("invalid-log-argument");!function(e,t){var n,r=C(Mt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ut[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Pt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Pn(e){var t;t=e,Mt.forEach((function(e){e.setLogLevel(t)}))}var Ln="firebase-heartbeat-store",Mn=null;function Un(){return Mn||(Mn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=en(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(en(u.result),e.oldVersion,e.newVersion,en(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ln)}}).catch((function(e){throw En.create("idb-open",{originalErrorMessage:e.message})}))),Mn}function jn(e){return Bn.apply(this,arguments)}function Bn(){return Bn=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Un();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ln).objectStore(Ln).get(qn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof dt?hn.warn(e.t0.message):(r=En.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Bn.apply(this,arguments)}function Fn(e,t){return Vn.apply(this,arguments)}function Vn(){return Vn=_t(Ct().mark((function e(t,n){var r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Un();case 3:return r=e.sent,i=r.transaction(Ln,"readwrite"),a=i.objectStore(Ln),e.next=8,a.put(n,qn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof dt?hn.warn(e.t0.message):(o=En.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Vn.apply(this,arguments)}function qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var zn=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=_t(Ct().mark((function e(){var t,n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Hn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Hn(),n=Gn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=et(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hn(){return(new Date).toISOString().substring(0,10)}function Gn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Yn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qn,Kn,Wn=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,jn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yn(e){return et(JSON.stringify({version:2,heartbeats:e})).length}Qn="",kn(new Nt("platform-logger",(function(e){return new cn(e)}),"PRIVATE")),kn(new Nt("heartbeat",(function(e){return new zn(e)}),"PRIVATE")),Rn(ln,fn,Qn),Rn(ln,fn,"esm2017"),Rn("fire-js","");var Xn=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,yn(t,new Nt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Nn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){gn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Jn=(Je(Kn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(Kn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Kn),Zn=new pt("app-compat","Firebase",Jn);var $n=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Cn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Rn,setLogLevel:Pn,onLog:On,apps:null,SDK_VERSION:Sn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(kn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Zn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&nt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!yt(n,e=e||dn))throw Zn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){nt(n,e)},createSubscribe:xt,ErrorFactory:pt,deepExtend:nt}),n}(),er=new Vt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){er.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tr=self.firebase.SDK_VERSION;tr&&tr.indexOf("LITE")>=0&&er.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var nr=$n;!function(e){Rn("@firebase/app-compat","0.2.1",e)}();function rr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function ir(){return ir="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=rr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ir.apply(this,arguments)}nr.registerVersion("firebase","9.16.0","app-compat");function ar(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var or;Object.create;function ur(){return Je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sr=ur,cr=new pt("auth","Firebase",ur()),lr=new Vt("@firebase/auth");function fr(e){if(lr.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.error.apply(lr,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mr.apply(void 0,[e].concat(n))}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mr.apply(void 0,[e].concat(n))}function pr(e,t,n){var r=Object.assign(Object.assign({},sr()),Je({},t,n));return new pt("auth","Firebase",r).create(t,{appName:e.name})}function vr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hr(e,"argument-error"),pr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return cr.create.apply(cr,[e].concat(n))}function yr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mr.apply(void 0,[t].concat(r))}}function gr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw fr(t),new Error(t)}function kr(e,t){e||gr(t)}var br=new Map;function wr(e){kr(e instanceof Function,"Expected a class definition");var t=br.get(e);return t?(kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,br.set(e,t),t)}function Ar(e,t){var n=bn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(gt(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;hr(r,"already-initialized")}return n.initialize({options:t})}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Er(){return"http:"===Ir()||"https:"===Ir()}function Ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Sr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Er()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Cr=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,kr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return y(e,[{key:"get",value:function(){return Sr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Tr(e,t){kr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var _r=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Nr=(Je(or={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Je(or,"MISSING_CUSTOM_TOKEN","internal-error"),Je(or,"INVALID_IDENTIFIER","invalid-email"),Je(or,"MISSING_CONTINUE_URI","internal-error"),Je(or,"INVALID_PASSWORD","wrong-password"),Je(or,"MISSING_PASSWORD","internal-error"),Je(or,"EMAIL_EXISTS","email-already-in-use"),Je(or,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Je(or,"INVALID_IDP_RESPONSE","invalid-credential"),Je(or,"INVALID_PENDING_TOKEN","invalid-credential"),Je(or,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Je(or,"MISSING_REQ_TYPE","internal-error"),Je(or,"EMAIL_NOT_FOUND","user-not-found"),Je(or,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Je(or,"EXPIRED_OOB_CODE","expired-action-code"),Je(or,"INVALID_OOB_CODE","invalid-action-code"),Je(or,"MISSING_OOB_CODE","internal-error"),Je(or,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Je(or,"INVALID_ID_TOKEN","invalid-user-token"),Je(or,"TOKEN_EXPIRED","user-token-expired"),Je(or,"USER_NOT_FOUND","user-token-expired"),Je(or,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Je(or,"INVALID_CODE","invalid-verification-code"),Je(or,"INVALID_SESSION_INFO","invalid-verification-id"),Je(or,"INVALID_TEMPORARY_PROOF","invalid-credential"),Je(or,"MISSING_SESSION_INFO","missing-verification-id"),Je(or,"SESSION_EXPIRED","code-expired"),Je(or,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Je(or,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Je(or,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Je(or,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Je(or,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Je(or,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Je(or,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Je(or,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Je(or,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Je(or,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Je(or,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),or),Dr=new Cr(3e4,6e4);function Rr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Or(e,t,n,r){return Pr.apply(this,arguments)}function Pr(){return Pr=_t(Ct().mark((function e(t,n,r,i){var a,o=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Lr(t,a,_t(Ct().mark((function e(){var a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=bt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",_r.fetch()(Br(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Lr(e,t,n){return Mr.apply(this,arguments)}function Mr(){return Mr=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Nr),n),e.prev=2,a=new Fr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Vr(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Vr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Vr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Vr(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw pr(t,p,d);case 34:hr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof dt)){e.next=41;break}throw e.t0;case 41:hr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Mr.apply(this,arguments)}function Ur(e,t,n,r){return jr.apply(this,arguments)}function jr(){return jr=_t(Ct().mark((function e(t,n,r,i){var a,o,u=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Or(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&hr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Br(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Tr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fr=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(dr(n.auth,"network-request-failed"))}),Dr.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=dr(e,t,r);return i.customData._tokenResponse=n,i}function qr(e,t){return zr.apply(this,arguments)}function zr(){return zr=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Hr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Qr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kr(){return Kr=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=St(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,yr((a=Yr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Qr(Wr(a.auth_time)),issuedAtTime:Qr(Wr(a.iat)),expirationTime:Qr(Wr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Wr(e){return 1e3*Number(e)}function Yr(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return fr("JWT malformed, contained fewer than 3 sections"),null;try{var a=tt(r);return a?JSON.parse(a):(fr("Failed to decode base64 JWT payload"),null)}catch(o){return fr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=_t(Ct().mark((function e(t,n){var r=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof dt&&Zr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jr.apply(this,arguments)}function Zr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $r=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ti(e){return ni.apply(this,arguments)}function ni(){return ni=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xr(t,Hr(r,{idToken:i}));case 6:yr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ai(o.providerUserInfo):[],s=ii(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return(ri=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=St(t),e.next=3,ti(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function ai(e){return e.map((function(e){var t=e.providerId,n=ar(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(t,{},_t(Ct().mark((function e(){var r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Br(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",_r.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}var si=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){yr(e.idToken,"internal-error"),yr("undefined"!==typeof e.idToken,"internal-error"),yr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yr(e);return yr(t,"internal-error"),yr("undefined"!==typeof t.exp,"internal-error"),yr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=_t(Ct().mark((function e(t){var n,r=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],yr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return gr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(yr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(yr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(yr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ci(e,t){yr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var li=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ar(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new ei(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(yr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_t(Ct().mark((function e(t){var n,r,i=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ti(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xr(this,qr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,A=n.providerData,x=n.stsTokenManager;yr(k&&x,t,"internal-error");var E=si.fromJSON(this.name,x);yr("string"===typeof k,t,"internal-error"),ci(f,t.name),ci(h,t.name),yr("boolean"===typeof b,t,"internal-error"),yr("boolean"===typeof w,t,"internal-error"),ci(d,t.name),ci(p,t.name),ci(v,t.name),ci(m,t.name),ci(y,t.name),ci(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return A&&Array.isArray(A)&&(I.providerData=A.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=_t(Ct().mark((function t(n,r){var i,a,o,u=arguments;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new si).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ti(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fi=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fi.type="NONE";var hi=fi;function di(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pi=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=di(this.userKey,a.apiKey,o),this.fullPersistenceKey=di("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?li._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_t(Ct().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(wr(hi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||wr(hi),u=di(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=li._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ki(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wi(t))return"Blackberry";if(Ai(t))return"Webos";if(yi(t))return"Safari";if((t.includes("chrome/")||gi(t))&&!t.includes("edge/"))return"Chrome";if(bi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/firefox\//i.test(e)}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/crios\//i.test(e)}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/iemobile/i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/android/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/blackberry/i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/webos/i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ei(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return xi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ii(){return function(){var e=lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt();return xi(e)||bi(e)||Ai(e)||wi(e)||/windows phone/i.test(e)||ki(e)}function Ci(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vi(lt());break;case"Worker":t="".concat(vi(lt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}var Ti=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_i=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Di(this),this.idTokenSubscription=new Di(this),this.beforeStateQueue=new Ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(_t(Ct().mark((function r(){var i,a;return Ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return yr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?St(t):null)&&yr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_t(Ct().mark((function e(t){var n,r=this,i=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&yr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(_t(Ct().mark((function n(){return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(wr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return yr(n=t&&wr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pi.create(this,[wr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_t(Ct().mark((function e(t){var n=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ci(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_t(Ct().mark((function e(){var t,n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ni(e){return St(e)}var Di=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=xt((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ri(e,t,n){var r=Ni(e);yr(r._canInitEmulator,r,"emulator-config-failed"),yr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Oi(t),o=function(e){var t=Oi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Pi(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Pi(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Oi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Li=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return gr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return gr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return gr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return gr("not implemented")}}]),e}();function Mi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function ji(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPassword",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Fi(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function qi(e,t){return zi.apply(this,arguments)}function zi(){return zi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}var Hi=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ji(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fi(t,{email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Li);function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithIdp",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}var Ki=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ar(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Li);function Wi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:sendVerificationCode",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Xi(){return Xi=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(){return Ji=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}var Zi=Je({},"USER_NOT_FOUND","user-not-found");function $i(){return $i=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,r),Zi));case 2:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var ea=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Xi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ji.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $i.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Li);var ta=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=wt(At(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);yr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=wt(At(e)).link,n=t?wt(At(t)).deep_link_id:null,r=wt(At(e)).deep_link_id;return(r?wt(At(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Tw){return null}}}]),e}();var na=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return Hi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ta.parseLink(t);return yr(n,"argument-error"),Hi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();na.PROVIDER_ID="password",na.EMAIL_PASSWORD_SIGN_IN_METHOD="password",na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ra=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ia=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(ra),aa=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Tw){return null}}}]),n}(ia);aa.FACEBOOK_SIGN_IN_METHOD="facebook.com",aa.PROVIDER_ID="facebook.com";var oa=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Tw){return null}}}]),n}(ia);oa.GOOGLE_SIGN_IN_METHOD="google.com",oa.PROVIDER_ID="google.com";var ua=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Tw){return null}}}]),n}(ia);ua.GITHUB_SIGN_IN_METHOD="github.com",ua.PROVIDER_ID="github.com";var sa=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Tw){return null}}}]),n}(ia);sa.TWITTER_SIGN_IN_METHOD="twitter.com",sa.PROVIDER_ID="twitter.com";var ca=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_t(Ct().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,li._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=la(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_t(Ct().mark((function t(n,r,i){var a;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=la(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function la(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var fa=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(A(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(dt);function ha(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw fa._fromErrorAndOperation(e,n,t,r);throw n}))}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=_t(Ct().mark((function e(t,n){var r,i,a=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ca._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Xr(t,ha(i,a,n,t),r);case 6:return yr((o=e.sent).idToken,i,"internal-error"),yr(u=Yr(o.idToken),i,"internal-error"),s=u.sub,yr(t.uid===s,i,"user-mismatch"),e.abrupt("return",ca._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&hr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=_t(Ct().mark((function e(t,n){var r,i,a,o,u=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ha(t,i,n);case 4:return a=e.sent,e.next=7,ca._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t,n,r){return St(e).onIdTokenChanged(t,n,r)}function ba(e,t,n){return St(e).beforeAuthStateChanged(t,n)}function wa(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:start",Rr(e,t))}new WeakMap;var Aa="__sak",xa=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(Tw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ea=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=lt();return yi(e)||xi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Si(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ii()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_t(Ct().mark((function e(t,r){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(Ct().mark((function e(t){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(xa);Ea.type="LOCAL";var Ia=Ea,Sa=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(xa);Sa.type="SESSION";var Ca=Sa;function Ta(e){return Promise.all(e.map(function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var _a=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s,c;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ta(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Na(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_a.receivers=[];var Da=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Na("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ra(){return window}function Oa(){return"undefined"!==typeof Ra().WorkerGlobalScope&&"function"===typeof Ra().importScripts}function Pa(){return La.apply(this,arguments)}function La(){return(La=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ma(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ua="firebaseLocalStorageDb",ja="firebaseLocalStorage",Ba="fbase_key",Fa=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Va(e,t){return e.transaction([ja],t?"readwrite":"readonly").objectStore(ja)}function qa(){var e=indexedDB.deleteDatabase(Ua);return new Fa(e).toPromise()}function za(){var e=indexedDB.open(Ua,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ja,{keyPath:Ba})}catch(r){n(r)}})),e.addEventListener("success",_t(Ct().mark((function n(){var r;return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ja)){n.next=12;break}return r.close(),n.next=5,qa();case 5:return n.t0=t,n.next=8,za();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ha(e,t,n){return Ga.apply(this,arguments)}function Ga(){return Ga=_t(Ct().mark((function e(t,n,r){var i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Va(t,!0).put((Je(i={},Ba,n),Je(i,"value",r),i)),e.abrupt("return",new Fa(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t,!1).get(n),e.next=3,new Fa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Wa(e,t){var n=Va(e,!0).delete(t);return new Fa(n).toPromise()}var Ya=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,za();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_t(Ct().mark((function e(){var t=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=_a._getInstance(Oa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=_t(Ct().mark((function e(n,r){var i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_t(Ct().mark((function e(){var t,n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Da(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ma()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,za();case 5:return t=e.sent,e.next=8,Ha(t,Aa,"1");case 8:return e.next=10,Wa(t,Aa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(Ct().mark((function e(t,n){var r=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ha(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(Ct().mark((function e(t){var n=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Wa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Va(e,!1).getAll();return new Fa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ya.type="LOCAL";var Xa=Ya;function Ja(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:start",Rr(e,t))}function Za(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=dr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $a(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}$a("rcb"),new Cr(3e4,6e4);var eo="recaptcha";function to(e,t,n){return no.apply(this,arguments)}function no(){return no=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,yr("string"===typeof a,t,"argument-error"),yr(r.type===eo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return yr("enroll"===u.type,t,"internal-error"),e.next=13,wa(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return yr("signin"===u.type,t,"internal-error"),yr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ja(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),no.apply(this,arguments)}var ro=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ni(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return to(this.auth,e,St(t))}}],[{key:"credential",value:function(e,t){return ea._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ea._fromTokenResponse(n,r):null}}]),e}();function io(e,t){return t?wr(t):(yr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ro.PROVIDER_ID="phone",ro.PHONE_SIGN_IN_METHOD="phone";var ao=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Gi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Li);function oo(e){return ya(e.auth,new ao(e),e.bypassAuthState)}function uo(e){var t=e.auth,n=e.user;return yr(n,t,"internal-error"),va(n,new ao(e),e.bypassAuthState)}function so(e){return co.apply(this,arguments)}function co(){return co=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,yr(r=t.user,n,"internal-error"),e.abrupt("return",da(r,new ao(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_t(Ct().mark((function t(n,r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_t(Ct().mark((function e(t){var n,r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return so;case"reauthViaPopup":case"reauthViaRedirect":return uo;default:hr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),fo=new Cr(2e3,1e4);function ho(){return ho=_t(Ct().mark((function e(t,n,r){var i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(t),vr(t,n,ra),a=io(i,r),o=new po(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}var po=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=A(u),u}return y(n,[{key:"executeNotNull",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return yr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(Ct().mark((function e(){var t,n=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(1===this.filter.length,"Popup operations only handle one event"),t=Na(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(dr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(dr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(dr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,fo.get())}()}}]),n}(lo);po.currentPopupAction=null;var vo=new Map,mo=function(e){k(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=_t(Ct().mark((function e(){var t,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=vo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,yo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ir(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:vo.set(this.auth._key(),t);case 21:return this.bypassAuthState||vo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_t(Ct().mark((function e(t){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ir(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ir(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(lo);function yo(e,t){return go.apply(this,arguments)}function go(){return go=_t(Ct().mark((function e(t,n){var r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo(n),i=bo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t){vo.set(e._key(),t)}function bo(e){return wr(e._redirectPersistence)}function wo(e){return di("pendingRedirect",e.config.apiKey,e.name)}function Ao(e,t){return xo.apply(this,arguments)}function xo(){return xo=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ni(t),a=io(i,n),o=new mo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}var Eo=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return So(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!So(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Io(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Io(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function So(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Co(e){return To.apply(this,arguments)}function To(){return To=_t(Ct().mark((function e(t){var n,r=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Or(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}var _o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function Do(){return Do=_t(Ct().mark((function e(t){var n,r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Co(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ro(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:hr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Do.apply(this,arguments)}function Ro(e){var t=xr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!No.test(r))return!1;if(_o.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Oo=new Cr(3e4,6e4);function Po(){var e=Ra().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Lo=null;function Mo(e){return Lo=Lo||function(e){return new Promise((function(t,n){var r,i,a;function o(){Po(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Po(),n(dr(e,"network-request-failed"))},timeout:Oo.get()})}if(null===(i=null===(r=Ra().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ra().gapi)||void 0===a?void 0:a.load)){var u=$a("iframefcb");return Ra()[u]=function(){gapi.load?o():n(dr(e,"network-request-failed"))},Za("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Lo=null,e}))}(e),Lo}var Uo=new Cr(5e3,15e3),jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fo(e){var t=e.config;yr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Tr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=Bo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(bt(r).slice(1))}function Vo(e){return qo.apply(this,arguments)}function qo(){return qo=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(t);case 2:return n=e.sent,yr(r=Ra().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Fo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jo,dontclear:!0},(function(e){return new Promise(function(){var n=_t(Ct().mark((function n(r,i){var a,o,u;return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ra().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=dr(t,"network-request-failed"),o=Ra().setTimeout((function(){i(a)}),Uo.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}var zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ho="_blank",Go="http://localhost",Qo=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ko(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},zo),{width:r.toString(),height:i.toString(),top:a,left:o}),c=lt().toLowerCase();n&&(u=gi(c)?Ho:n),mi(c)&&(t=t||Go,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ei(c)&&"_self"!==u)return Wo(t||"",u),new Qo(null);var h=window.open(t||"",u,f);yr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Qo(h)}function Wo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Yo="__/auth/handler",Xo="emulator/auth/handler";function Jo(e,t,n,r,i,a){yr(e.config.authDomain,e,"auth-domain-config-required"),yr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(t instanceof ra){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof ia){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yo);return Tr(t,Xo)}(e),"?").concat(bt(p).slice(1))}var Zo="webStorageSupport",$o=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=Ao,this._overrideRedirectResult=ko}return y(e,[{key:"_openPopup",value:function(){var e=_t(Ct().mark((function e(t,n,r,i){var a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Jo(t,n,r,xr(),i),e.abrupt("return",Ko(t,o,Na()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_t(Ct().mark((function e(t,n,r,i){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Jo(t,n,r,xr(),i),Ra().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(kr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(t);case 2:return n=e.sent,r=new Eo(t),n.register("authEvent",(function(e){return yr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Zo,{type:Zo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zo];void 0!==i&&t(!!i),hr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Do.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Si()||yi()||xi()}}]),e}(),eu=$o,tu=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return gr("unexpected MultiFactorSessionType")}}}]),e}(),nu=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:finalize",Rr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:finalize",Rr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(tu);(function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return nu._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ru="@firebase/auth",iu="0.21.1",au=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ou,uu=ut("authIdTokenMaxAge")||300,su=null,cu=function(e){return function(){var t=_t(Ct().mark((function t(n){var r,i,a;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>uu)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,su!==a){t.next=12;break}return t.abrupt("return");case 12:return su=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};ou="Browser",kn(new Nt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){yr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),yr(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ou,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ci(ou)},i=new _i(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),kn(new Nt("auth-internal",(function(e){return function(e){return new au(e)}(Ni(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(ru,iu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ou)),Rn(ru,iu,"esm2017");var lu,fu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},hu={},du=du||{},pu=fu||self;function vu(){}function mu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gu="closure_uid_"+(1e9*Math.random()>>>0),ku=0;function bu(e,t,n){return e.call.apply(e.bind,arguments)}function wu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Au(e,t,n){return(Au=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bu:wu).apply(null,arguments)}function xu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Eu(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Iu(){this.s=this.s,this.o=this.o}Iu.prototype.s=!1,Iu.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,gu)&&e[gu]||(e[gu]=++ku))},Iu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Su=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(mu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function _u(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_u.prototype.h=function(){this.defaultPrevented=!0};var Nu=function(){if(!pu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pu.addEventListener("test",vu,t),pu.removeEventListener("test",vu,t)}catch(n){}return e}();function Du(e){return/^[\s\xa0]*$/.test(e)}var Ru=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ou(e,t){return e<t?-1:e>t?1:0}function Pu(){var e=pu.navigator;return e&&(e=e.userAgent)?e:""}function Lu(e){return-1!=Pu().indexOf(e)}function Mu(e){return Mu[" "](e),e}Mu[" "]=vu;var Uu,ju=Lu("Opera"),Bu=Lu("Trident")||Lu("MSIE"),Fu=Lu("Edge"),Vu=Fu||Bu,qu=Lu("Gecko")&&!(-1!=Pu().toLowerCase().indexOf("webkit")&&!Lu("Edge"))&&!(Lu("Trident")||Lu("MSIE"))&&!Lu("Edge"),zu=-1!=Pu().toLowerCase().indexOf("webkit")&&!Lu("Edge");function Hu(){var e=pu.document;return e?e.documentMode:void 0}e:{var Gu="",Qu=function(){var e=Pu();return qu?/rv:([^\);]+)(\)|;)/.exec(e):Fu?/Edge\/([\d\.]+)/.exec(e):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):zu?/WebKit\/(\S+)/.exec(e):ju?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qu&&(Gu=Qu?Qu[1]:""),Bu){var Ku=Hu();if(null!=Ku&&Ku>parseFloat(Gu)){Uu=String(Ku);break e}}Uu=Gu}var Wu,Yu={};function Xu(){return function(e){var t=Yu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ru(String(Uu)).split("."),n=Ru("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ou(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ou(0==a[2].length,0==o[2].length)||Ou(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(pu.document&&Bu){var Ju=Hu();Wu=Ju||(parseInt(Uu,10)||void 0)}else Wu=void 0;var Zu=Wu;function $u(e,t){if(_u.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qu){e:{try{Mu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:es[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$u.X.h.call(this)}}Eu($u,_u);var es={2:"touch",3:"pen",4:"mouse"};$u.prototype.h=function(){$u.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ts="closure_listenable_"+(1e6*Math.random()|0),ns=0;function rs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ns,this.ba=this.ea=!1}function is(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function as(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function os(e){var t={};for(var n in e)t[n]=e[n];return t}var us="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ss(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<us.length;a++)n=us[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cs(e){this.src=e,this.g={},this.h=0}function ls(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Su(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(is(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}cs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=fs(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new rs(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var hs="closure_lm_"+(1e6*Math.random()|0),ds={};function ps(e,t,n,r,i){if(r&&r.once)return ms(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ps(e,t[a],n,r,i);return null}return n=xs(n),e&&e[ts]?e.N(t,n,yu(r)?!!r.capture:!!r,i):vs(e,t,n,!1,r,i)}function vs(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yu(i)?!!i.capture:!!i,u=ws(e);if(u||(e[hs]=u=new cs(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=bs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Nu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ks(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ms(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ms(e,t[a],n,r,i);return null}return n=xs(n),e&&e[ts]?e.O(t,n,yu(r)?!!r.capture:!!r,i):vs(e,t,n,!0,r,i)}function ys(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ys(e,t[a],n,r,i);else r=yu(r)?!!r.capture:!!r,n=xs(n),e&&e[ts]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fs(a=e.g[t],n,r,i))&&(is(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ws(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fs(t,n,r,i)),(n=-1<e?t[e]:null)&&gs(n))}function gs(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ts])ls(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ks(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ws(t))?(ls(n,e),0==n.h&&(n.src=null,t[hs]=null)):is(e)}}}function ks(e){return e in ds?ds[e]:ds[e]="on"+e}function bs(e,t){if(e.ba)e=!0;else{t=new $u(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&gs(e),e=n.call(r,t)}return e}function ws(e){return(e=e[hs])instanceof cs?e:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(e){return"function"===typeof e?e:(e[As]||(e[As]=function(t){return e.handleEvent(t)}),e[As])}function Es(){Iu.call(this),this.i=new cs(this),this.P=this,this.I=null}function Is(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _u(t,e);else if(t instanceof _u)t.target=t.target||e;else{var i=t;ss(t=new _u(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ss(o,r,!0,t)&&i}if(i=Ss(o=t.g=e,r,!0,t)&&i,i=Ss(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ss(o=t.g=n[a],r,!1,t)&&i}function Ss(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ls(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Eu(Es,Iu),Es.prototype[ts]=!0,Es.prototype.removeEventListener=function(e,t,n,r){ys(this,e,t,n,r)},Es.prototype.M=function(){if(Es.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)is(n[r]);delete t.g[e],t.h--}}this.I=null},Es.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Es.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cs=pu.JSON.stringify;function Ts(){var e=Ms,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _s,Ns=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Ds.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ds=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Rs}),(function(e){return e.reset()})),Rs=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Os(e){pu.setTimeout((function(){throw e}),0)}function Ps(e,t){_s||function(){var e=pu.Promise.resolve(void 0);_s=function(){e.then(Us)}}(),Ls||(_s(),Ls=!0),Ms.add(e,t)}var Ls=!1,Ms=new Ns;function Us(){for(var e;e=Ts();){try{e.h.call(e.g)}catch(n){Os(n)}var t=Ds;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ls=!1}function js(e,t){Es.call(this),this.h=e||1,this.g=t||pu,this.j=Au(this.lb,this),this.l=Date.now()}function Bs(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Fs(e,t,n){if("function"===typeof e)n&&(e=Au(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Au(e.handleEvent,e)}return 2147483647<Number(t)?-1:pu.setTimeout(e,t||0)}function Vs(e){e.g=Fs((function(){e.g=null,e.i&&(e.i=!1,Vs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Eu(js,Es),(lu=js.prototype).ca=!1,lu.R=null,lu.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Is(this,"tick"),this.ca&&(Bs(this),this.start()))}},lu.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lu.M=function(){js.X.M.call(this),Bs(this),delete this.g};var qs=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vs(this)}},{key:"M",value:function(){ir(b(n.prototype),"M",this).call(this),this.g&&(pu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Iu);function zs(e){Iu.call(this),this.h=e,this.g={}}Eu(zs,Iu);var Hs=[];function Gs(e,t,n,r){Array.isArray(n)||(n&&(Hs[0]=n.toString()),n=Hs);for(var i=0;i<n.length;i++){var a=ps(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qs(e){as(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gs(e)}),e),e.g={}}function Ks(){this.g=!0}function Ws(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cs(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}zs.prototype.M=function(){zs.X.M.call(this),Qs(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ks.prototype.Aa=function(){this.g=!1},Ks.prototype.info=function(){};var Ys={},Xs=null;function Js(){return Xs=Xs||new Es}function Zs(e){_u.call(this,Ys.Pa,e)}function $s(e){var t=Js();Is(t,new Zs(t))}function ec(e,t){_u.call(this,Ys.STAT_EVENT,e),this.stat=t}function tc(e){var t=Js();Is(t,new ec(t,e))}function nc(e,t){_u.call(this,Ys.Qa,e),this.size=t}function rc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pu.setTimeout((function(){e()}),t)}Ys.Pa="serverreachability",Eu(Zs,_u),Ys.STAT_EVENT="statevent",Eu(ec,_u),Ys.Qa="timingevent",Eu(nc,_u);var ic={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ac={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function oc(){}function uc(e){return e.h||(e.h=e.i())}function sc(){}oc.prototype.h=null;var cc,lc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fc(){_u.call(this,"d")}function hc(){_u.call(this,"c")}function dc(){}function pc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new zs(this),this.O=mc,e=Vu?125:void 0,this.T=new js(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vc}function vc(){this.i=null,this.g="",this.h=!1}Eu(fc,_u),Eu(hc,_u),Eu(dc,oc),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},cc=new dc;var mc=45e3,yc={},gc={};function kc(e,t,n){e.K=1,e.v=jc(Oc(t)),e.s=n,e.P=!0,bc(e,null)}function bc(e,t){e.F=Date.now(),Ec(e),e.A=Oc(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Jc(n.i,"t",r),e.C=0,n=e.l.H,e.h=new vc,e.g=Zl(e.l,n?t:null,!e.s),0<e.N&&(e.L=new qs(Au(e.La,e,e.g),e.N)),Gs(e.S,e.g,"readystatechange",e.ib),t=e.H?os(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),$s(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function wc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ac(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=xc(e,n))==gc){4==t&&(e.o=4,tc(14),i=!1),Ws(e.j,e.m,null,"[Incomplete Response]");break}if(r==yc){e.o=4,tc(15),Ws(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ws(e.j,e.m,r,null),_c(e,r)}wc(e)&&r!=gc&&r!=yc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hl(t),t.K=!0,tc(11))):(Ws(e.j,e.m,n,"[Invalid Chunked Response]"),Tc(e),Cc(e))}function xc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gc:(n=Number(t.substring(n,r)),isNaN(n)?yc:(r+=1)+n>t.length?gc:(t=t.substr(r,n),e.C=r+n,t))}function Ec(e){e.V=Date.now()+e.O,Ic(e,e.O)}function Ic(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rc(Au(e.gb,e),t)}function Sc(e){e.B&&(pu.clearTimeout(e.B),e.B=null)}function Cc(e){0==e.l.G||e.I||Kl(e.l,e)}function Tc(e){Sc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bs(e.T),Qs(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _c(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||al(n.h,e)))if(!e.J&&al(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ql(n),Ml(n)}zl(n),tc(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=rc(Au(n.cb,n),6e3));if(1>=il(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Yl(n,11)}else if((e.J||n.g==e)&&Ql(n),!Du(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ol(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Uc(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Jl(r,r.H?r.ka:null,r.V),d.J){ul(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Sc(p),Ec(p)),r.g=d}else ql(r);0<n.i.length&&jl(n)}else"stop"!=a[0]&&"close"!=a[0]||Yl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Yl(n,7):Ll(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}$s()}catch(a){}}function Nc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(mu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(mu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(lu=pc.prototype).setTimeout=function(e){this.O=e},lu.ib=function(e){e=e.target;var t=this.L;t&&3==_l(e)?t.l():this.La(e)},lu.La=function(e){try{if(e==this.g)e:{var t=_l(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Vu||this.g&&(this.h.h||this.g.fa()||Nl(this.g)))){this.I||4!=t||7==n||$s(),Sc(this);var r=this.g.aa();this.Y=r;t:if(wc(this)){var i=Nl(this.g);e="";var a=i.length,o=4==_l(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Tc(this),Cc(this);var u="";break t}this.h.i=new pu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Du(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,tc(12),Tc(this),Cc(this);break e}Ws(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_c(this,r)}this.P?(Ac(this,t,u),Vu&&this.i&&3==t&&(Gs(this.S,this.T,"tick",this.hb),this.T.start())):(Ws(this.j,this.m,u,null),_c(this,u)),4==t&&Tc(this),this.i&&!this.I&&(4==t?Kl(this.l,this):(this.i=!1,Ec(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,tc(12)):(this.o=0,tc(13)),Tc(this),Cc(this)}}}catch(t){}},lu.hb=function(){if(this.g){var e=_l(this.g),t=this.g.fa();this.C<t.length&&(Sc(this),Ac(this,e,t),this.i&&4!=e&&Ec(this))}},lu.cancel=function(){this.I=!0,Tc(this)},lu.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($s(),tc(17)),Tc(this),this.o=2,Cc(this)):Ic(this,this.V-e)};var Dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rc){this.h=void 0!==t?t:e.h,Pc(this,e.j),this.s=e.s,this.g=e.g,Lc(this,e.m),this.l=e.l,t=e.i;var n=new Kc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Mc(this,n),this.o=e.o}else e&&(n=String(e).match(Dc))?(this.h=!!t,Pc(this,n[1]||"",!0),this.s=Bc(n[2]||""),this.g=Bc(n[3]||"",!0),Lc(this,n[4]),this.l=Bc(n[5]||"",!0),Mc(this,n[6]||"",!0),this.o=Bc(n[7]||"")):(this.h=!!t,this.i=new Kc(null,this.h))}function Oc(e){return new Rc(e)}function Pc(e,t,n){e.j=n?Bc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mc(e,t,n){t instanceof Kc?(e.i=t,function(e,t){t&&!e.j&&(Wc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yc(this,t),Jc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Fc(t,Gc)),e.i=new Kc(t,e.h))}function Uc(e,t,n){e.i.set(t,n)}function jc(e){return Uc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fc(t,qc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fc(t,qc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fc(n,"/"==n.charAt(0)?Hc:zc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fc(n,Qc)),e.join("")};var qc=/[#\/\?@]/g,zc=/[#\?:]/g,Hc=/[#\?]/g,Gc=/[#\?@]/g,Qc=/#/g;function Kc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yc(e,t){Wc(e),t=Zc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xc(e,t){return Wc(e),t=Zc(e,t),e.g.has(t)}function Jc(e,t,n){Yc(e,t),0<n.length&&(e.i=null,e.g.set(Zc(e,t),Cu(n)),e.h+=n.length)}function Zc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lu=Kc.prototype).add=function(e,t){Wc(this),this.i=null,e=Zc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lu.forEach=function(e,t){Wc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},lu.oa=function(){Wc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lu.W=function(e){Wc(this);var t=[];if("string"===typeof e)Xc(this,e)&&(t=t.concat(this.g.get(Zc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},lu.set=function(e,t){return Wc(this),this.i=null,Xc(this,e=Zc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lu.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},lu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var $c=y((function e(t,n){d(this,e),this.h=t,this.g=n}));function el(e){this.l=e||nl,pu.PerformanceNavigationTiming?e=0<(e=pu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pu.g&&pu.g.Ga&&pu.g.Ga()&&pu.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tl,nl=10;function rl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function il(e){return e.h?1:e.g?e.g.size:0}function al(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ol(e,t){e.g?e.g.add(t):e.h=t}function ul(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Cu(e.i)}function cl(){}function ll(){this.g=new cl}function fl(e,t,n){var r=n||"";try{Nc(e,(function(e,n){var i=e;yu(e)&&(i=Cs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function dl(e){this.l=e.ac||null,this.j=e.jb||!1}function pl(e,t){Es.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}el.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},cl.prototype.stringify=function(e){return pu.JSON.stringify(e,void 0)},cl.prototype.parse=function(e){return pu.JSON.parse(e,void 0)},Eu(dl,oc),dl.prototype.g=function(){return new pl(this.l,this.j)},dl.prototype.i=(tl={},function(){return tl}),Eu(pl,Es);var vl=0;function ml(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function yl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gl(e)}function gl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lu=pl.prototype).open=function(e,t){if(this.readyState!=vl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gl(this)},lu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pu).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},lu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yl(this)),this.readyState=vl},lu.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof pu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ml(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},lu.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yl(this):gl(this),3==this.readyState&&ml(this)}},lu.Va=function(e){this.g&&(this.response=this.responseText=e,yl(this))},lu.Ua=function(e){this.g&&(this.response=e,yl(this))},lu.ga=function(){this.g&&yl(this)},lu.setRequestHeader=function(e,t){this.v.append(e,t)},lu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kl=pu.JSON.parse;function bl(e){Es.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wl,this.K=this.L=!1}Eu(bl,Es);var wl="",Al=/^https?$/i,xl=["POST","PUT"];function El(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Il(e),Cl(e)}function Il(e){e.D||(e.D=!0,Is(e,"complete"),Is(e,"error"))}function Sl(e){if(e.h&&"undefined"!=typeof du&&(!e.C[1]||4!=_l(e)||2!=e.aa()))if(e.v&&4==_l(e))Fs(e.Ha,0,e);else if(Is(e,"readystatechange"),4==_l(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dc)[1]||null;if(!a&&pu.self&&pu.self.location){var o=pu.self.location.protocol;a=o.substr(0,o.length-1)}i=!Al.test(a?a.toLowerCase():"")}t=i}if(t)Is(e,"complete"),Is(e,"success");else{e.m=6;try{var u=2<_l(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Il(e)}}finally{Cl(e)}}}function Cl(e,t){if(e.g){Tl(e);var n=e.g,r=e.C[0]?vu:null;e.g=null,e.C=null,t||Is(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Tl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pu.clearTimeout(e.A),e.A=null)}function _l(e){return e.g?e.g.readyState:0}function Nl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case wl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vf){return null}}function Dl(e){var t="";return as(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Uc(e,t,n))}function Ol(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pl(e){this.Ca=0,this.i=[],this.j=new Ks,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ol("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ol("baseRetryDelayMs",5e3,e),this.bb=Ol("retryDelaySeedMs",1e4,e),this.$a=Ol("forwardChannelMaxRetries",2,e),this.ta=Ol("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new el(e&&e.concurrentRequestLimit),this.Fa=new ll,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ll(e){if(Ul(e),3==e.G){var t=e.U++,n=Oc(e.F);Uc(n,"SID",e.I),Uc(n,"RID",t),Uc(n,"TYPE","terminate"),Fl(e,n),(t=new pc(e,e.j,t,void 0)).K=2,t.v=jc(Oc(n)),n=!1,pu.navigator&&pu.navigator.sendBeacon&&(n=pu.navigator.sendBeacon(t.v.toString(),"")),!n&&pu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Zl(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ec(t)}Xl(e)}function Ml(e){e.g&&(Hl(e),e.g.cancel(),e.g=null)}function Ul(e){Ml(e),e.u&&(pu.clearTimeout(e.u),e.u=null),Ql(e),e.h.cancel(),e.m&&("number"===typeof e.m&&pu.clearTimeout(e.m),e.m=null)}function jl(e){rl(e.h)||e.m||(e.m=!0,Ps(e.Ja,e),e.C=0)}function Bl(e,t){var n;n=t?t.m:e.U++;var r=Oc(e.F);Uc(r,"SID",e.I),Uc(r,"RID",n),Uc(r,"AID",e.T),Fl(e,r),e.o&&e.s&&Rl(r,e.o,e.s),n=new pc(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Vl(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ol(e.h,n),kc(n,r,t)}function Fl(e,t){e.ia&&as(e.ia,(function(e,n){Uc(t,n,e)})),e.l&&Nc({},(function(e,n){Uc(t,n,e)}))}function Vl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Au(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{fl(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ql(e){e.g||e.u||(e.Z=1,Ps(e.Ia,e),e.A=0)}function zl(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=rc(Au(e.Ia,e),Wl(e,e.A)),e.A++,!0)}function Hl(e){null!=e.B&&(pu.clearTimeout(e.B),e.B=null)}function Gl(e){e.g=new pc(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Oc(e.sa);Uc(t,"RID","rpc"),Uc(t,"SID",e.I),Uc(t,"CI",e.L?"0":"1"),Uc(t,"AID",e.T),Uc(t,"TYPE","xmlhttp"),Fl(e,t),e.o&&e.s&&Rl(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=jc(Oc(t)),n.s=null,n.P=!0,bc(n,e)}function Ql(e){null!=e.v&&(pu.clearTimeout(e.v),e.v=null)}function Kl(e,t){var n=null;if(e.g==t){Ql(e),Hl(e),e.g=null;var r=2}else{if(!al(e.h,t))return;n=t.D,ul(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Is(r=Js(),new nc(r,n)),jl(e)}else ql(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(il(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=rc(Au(e.Ja,e,t),Wl(e,e.C)),e.C++,!0))}(e,t)||2==r&&zl(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Yl(e,5);break;case 4:Yl(e,10);break;case 3:Yl(e,6);break;default:Yl(e,2)}}function Wl(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Yl(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Au(e.kb,e);n||(n=new Rc("//www.google.com/images/cleardot.gif"),pu.location&&"http"==pu.location.protocol||Pc(n,"https"),jc(n)),function(e,t){var n=new Ks;if(pu.Image){var r=new Image;r.onload=xu(hl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xu(hl,n,r,"TestLoadImage: error",!1,t),r.onabort=xu(hl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xu(hl,n,r,"TestLoadImage: timeout",!1,t),pu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tc(2);e.G=0,e.l&&e.l.va(t),Xl(e),Ul(e)}function Xl(e){if(e.G=0,e.la=[],e.l){var t=sl(e.h);0==t.length&&0==e.i.length||(Tu(e.la,t),Tu(e.la,e.i),e.h.i.length=0,Cu(e.i),e.i.length=0),e.l.ua()}}function Jl(e,t,n){var r=n instanceof Rc?Oc(n):new Rc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Lc(r,r.m);else{var i=pu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Rc(null,void 0);r&&Pc(a,r),t&&(a.g=t),i&&Lc(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Uc(r,n,t),Uc(r,"VER",e.ma),Fl(e,r),r}function Zl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new bl(new dl({jb:!0})):new bl(e.ra)).Ka(e.H),t}function $l(){}function ef(){if(Bu&&!(10<=Number(Zu)))throw Error("Environmental error: no available transport.")}function tf(e,t){Es.call(this),this.g=new Pl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Du(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Du(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new af(this)}function nf(e){fc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rf(){hc.call(this),this.status=1}function af(e){this.g=e}(lu=bl.prototype).Ka=function(e){this.L=e},lu.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc.g(),this.C=this.u?uc(this.u):uc(cc),this.g.onreadystatechange=Au(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void El(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=pu.FormData&&e instanceof pu.FormData,!(0<=Su(xl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tl(this),0<this.B&&((this.K=function(e){return Bu&&Xu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Au(this.qa,this)):this.A=Fs(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){El(this,u)}},lu.qa=function(){"undefined"!=typeof du&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Is(this,"timeout"),this.abort(8))},lu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Is(this,"complete"),Is(this,"abort"),Cl(this))},lu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cl(this,!0)),bl.X.M.call(this)},lu.Ha=function(){this.s||(this.F||this.v||this.l?Sl(this):this.fb())},lu.fb=function(){Sl(this)},lu.aa=function(){try{return 2<_l(this)?this.g.status:-1}catch(tl){return-1}},lu.fa=function(){try{return this.g?this.g.responseText:""}catch(tl){return""}},lu.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kl(t)}},lu.Ea=function(){return this.m},lu.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(lu=Pl.prototype).ma=8,lu.G=1,lu.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new pc(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ss(n=os(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vl(this,t,r),Uc(i=Oc(this.F),"RID",e),Uc(i,"CVER",22),this.D&&Uc(i,"X-HTTP-Session-Id",this.D),Fl(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Dl(n)))+"&"+r:this.o&&Rl(i,this.o,n)),ol(this.h,t),this.Ya&&Uc(i,"TYPE","init"),this.O?(Uc(i,"$req",r),Uc(i,"SID","null"),t.Z=!0,kc(t,i,null)):kc(t,i,r),this.G=2}}else 3==this.G&&(e?Bl(this,e):0==this.i.length||rl(this.h)||Bl(this))},lu.Ia=function(){if(this.u=null,Gl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=rc(Au(this.eb,this),e)}},lu.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,tc(10),Ml(this),Gl(this))},lu.cb=function(){null!=this.v&&(this.v=null,Ml(this),zl(this),tc(19))},lu.kb=function(e){e?(this.j.info("Successfully pinged google.com"),tc(2)):(this.j.info("Failed to ping google.com"),tc(1))},(lu=$l.prototype).xa=function(){},lu.wa=function(){},lu.va=function(){},lu.ua=function(){},lu.Ra=function(){},ef.prototype.g=function(e,t){return new tf(e,t)},Eu(tf,Es),tf.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;tc(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Jl(e,null,e.V),jl(e)},tf.prototype.close=function(){Ll(this.g)},tf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Cs(e),e=n);t.i.push(new $c(t.ab++,e)),3==t.G&&jl(t)},tf.prototype.M=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,tf.X.M.call(this)},Eu(nf,fc),Eu(rf,hc),Eu(af,$l),af.prototype.xa=function(){Is(this.g,"a")},af.prototype.wa=function(e){Is(this.g,new nf(e))},af.prototype.va=function(e){Is(this.g,new rf)},af.prototype.ua=function(){Is(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,tf.prototype.send=tf.prototype.u,tf.prototype.open=tf.prototype.m,tf.prototype.close=tf.prototype.close,ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,ac.COMPLETE="complete",sc.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",Es.prototype.listen=Es.prototype.N,bl.prototype.listenOnce=bl.prototype.O,bl.prototype.getLastError=bl.prototype.Oa,bl.prototype.getLastErrorCode=bl.prototype.Ea,bl.prototype.getStatus=bl.prototype.aa,bl.prototype.getResponseJson=bl.prototype.Sa,bl.prototype.getResponseText=bl.prototype.fa,bl.prototype.send=bl.prototype.da,bl.prototype.setWithCredentials=bl.prototype.Ka;var of=hu.createWebChannelTransport=function(){return new ef},uf=hu.getStatEventTarget=function(){return Js()},sf=hu.ErrorCode=ic,cf=hu.EventType=ac,lf=hu.Event=Ys,ff=hu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hf=hu.FetchXmlHttpFactory=dl,df=hu.WebChannel=sc,pf=hu.XhrIo=bl,vf="@firebase/firestore",mf=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();mf.UNAUTHENTICATED=new mf(null),mf.GOOGLE_CREDENTIALS=new mf("google-credentials-uid"),mf.FIRST_PARTY=new mf("first-party-uid"),mf.MOCK_USER=new mf("mock-user");var yf="9.16.0",gf=new Vt("@firebase/firestore");function kf(){return gf.logLevel}function bf(e){if(gf.logLevel<=Pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xf);gf.debug.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(h(i)))}}function wf(e){if(gf.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xf);gf.error.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(h(i)))}}function Af(e){if(gf.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xf);gf.warn.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(h(i)))}}function xf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(yf,") INTERNAL ASSERTION FAILED: ")+e;throw wf(t),new Error(t)}function If(e,t){e||Ef()}function Sf(e,t){return e}var Cf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tf=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(dt),_f=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Nf=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Df=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Rf=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Of=function(){function e(t){d(this,e),this.t=t,this.currentUser=mf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _f;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _f,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){bf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(bf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _f)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(If("string"==typeof n.accessToken),new Nf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return If(null===e||"string"==typeof e),new mf(e)}}]),e}(),Pf=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=mf.FIRST_PARTY,this.p=new Map}return y(e,[{key:"I",value:function(){return this.g?this.g():(If(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Lf=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Pf(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Mf=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Uf=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,bf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):bf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(If("string"==typeof t.token),e.A=t.token,new Mf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function jf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bf=function(){function e(){d(this,e)}return y(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ff(e,t){return e<t?-1:e>t?1:0}function Vf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qf(e){return e+"\0"}var zf=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tf(Cf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tf(Cf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tf(Cf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tf(Cf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ff(this.nanoseconds,e.nanoseconds):Ff(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Hf=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new zf(0,0))}},{key:"max",value:function(){return new e(new zf(253402300799,999999999))}}]),e}(),Gf=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Ef(),void 0===r?r=t.length-n:r>t.length-n&&Ef(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qf=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gf),Kf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wf=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Kf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Tf(Cf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Tf(Cf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Tf(Cf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gf),Yf=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qf.fromString(t))}},{key:"fromName",value:function(t){return new e(Qf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qf.emptyPath())}},{key:"comparator",value:function(e,t){return Qf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qf(t.slice()))}}]),e}(),Xf=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Jf(e){return e.fields.find((function(e){return 2===e.kind}))}function Zf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xf.UNKNOWN_ID=-1;var $f=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var eh=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,rh.min())}}]),e}();function th(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hf.fromTimestamp(1e9===r?new zf(n+1,0):new zf(n,r));return new rh(i,Yf.empty(),t)}function nh(e){return new rh(e.readTime,e.key,-1)}var rh=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Hf.min(),Yf.empty(),-1)}},{key:"max",value:function(){return new e(Hf.max(),Yf.empty(),-1)}}]),e}();function ih(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yf.comparator(e.documentKey,t.documentKey))?n:Ff(e.largestBatchId,t.largestBatchId)}var ah="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oh=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function uh(e){return sh.apply(this,arguments)}function sh(){return sh=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Cf.FAILED_PRECONDITION&&t.message===ah){e.next=2;break}throw t;case 2:bf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}var ch=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ef(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),lh=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new _f,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new dh(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=gh(e.target.error);r.P.reject(new dh(t,n))}}return y(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(bf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new dh(n,t)}}}]),e}(),fh=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(lt())&&wf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"F",value:function(){var e=_t(Ct().mark((function e(t){var n=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return bf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Tf(Cf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Tf(Cf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new dh(t,n))},i.onupgradeneeded=function(e){bf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){bf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=_t(Ct().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Ct().mark((function e(){var n,u,s,l;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=lh.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ch.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,bf("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return bf("SimpleDb","Removing database:",e),mh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ht())return!1;if(e.N())return!0;var t=lt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hh=function(){function e(t){d(this,e),this.q=t,this.U=!1,this.K=null}return y(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return mh(this.q.delete())}}]),e}(),dh=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Cf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Tf);function ph(e){return"IndexedDbTransactionError"===e.name}var vh=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(bf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mh(n)}},{key:"add",value:function(e){return bf("SimpleDb","ADD",this.store.name,e,e),mh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return mh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),bf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return bf("SimpleDb","DELETE",this.store.name,e),mh(this.store.delete(e))}},{key:"count",value:function(){return bf("SimpleDb","COUNT",this.store.name),mh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ch((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ch((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){bf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ch((function(n,r){t.onerror=function(e){var t=gh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ch((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hh(i),o=t(i.primaryKey,i.value,a);if(o instanceof ch){var u=o.catch((function(e){return a.done(),ch.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ch.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function mh(e){return new ch((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gh(e.target.error);n(t)}}))}var yh=!1;function gh(e){var t=fh.D(lt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Tf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yh||(yh=!0,setTimeout((function(){throw r}),0)),r}}return e}var kh=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return y(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;bf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=bf,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ph(e.t4)){e.next=17;break}bf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,uh(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),bh=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"st",value:function(){var e=_t(Ct().mark((function e(){var t,n=this,r=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ch.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return bf("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return bf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=nh(t);ih(r,n)>0&&(n=r)})),new rh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),wh=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();wh.at=-1;var Ah=y((function e(t,n,r,i,a,o,u,s){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),xh=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Eh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ih(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ch(e){return null==e}function Th(e){return 0===e&&1/e==-1/0}function _h(e){return"number"==typeof e&&Number.isInteger(e)&&!Th(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Nh=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ff(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nh.EMPTY_BYTE_STRING=new Nh("");var Dh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rh(e){if(If(!!e),"string"==typeof e){var t=0,n=Dh.exec(e);if(If(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oh(e.seconds),nanos:Oh(e.nanos)}}function Oh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ph(e){return"string"==typeof e?Nh.fromBase64String(e):Nh.fromUint8Array(e)}function Lh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mh(e){var t=e.mapValue.fields.__previous_value__;return Lh(t)?Mh(t):t}function Uh(e){var t=Rh(e.mapValue.fields.__local_write_time__.timestampValue);return new zf(t.seconds,t.nanos)}var jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bh={nullValue:"NULL_VALUE"};function Fh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lh(e)?4:ed(e)?9007199254740991:10:Ef()}function Vh(e,t){if(e===t)return!0;var n=Fh(e);if(n!==Fh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uh(e).isEqual(Uh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Rh(e.timestampValue),r=Rh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ph(e.bytesValue).isEqual(Ph(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oh(e.geoPointValue.latitude)===Oh(t.geoPointValue.latitude)&&Oh(e.geoPointValue.longitude)===Oh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oh(e.integerValue)===Oh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Oh(e.doubleValue),r=Oh(t.doubleValue);return n===r?Th(n)===Th(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vf(e.arrayValue.values||[],t.arrayValue.values||[],Vh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eh(n)!==Eh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vh(n[i],r[i])))return!1;return!0}(e,t);default:return Ef()}}function qh(e,t){return void 0!==(e.values||[]).find((function(e){return Vh(e,t)}))}function zh(e,t){if(e===t)return 0;var n=Fh(e),r=Fh(t);if(n!==r)return Ff(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ff(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Oh(e.integerValue||e.doubleValue),r=Oh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hh(e.timestampValue,t.timestampValue);case 4:return Hh(Uh(e),Uh(t));case 5:return Ff(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ph(e),r=Ph(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ff(n[i],r[i]);if(0!==a)return a}return Ff(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ff(Oh(e.latitude),Oh(t.latitude));return 0!==n?n:Ff(Oh(e.longitude),Oh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zh(n[i],r[i]);if(a)return a}return Ff(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jh.mapValue&&t===jh.mapValue)return 0;if(e===jh.mapValue)return 1;if(t===jh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ff(r[o],a[o]);if(0!==u)return u;var s=zh(n[r[o]],i[a[o]]);if(0!==s)return s}return Ff(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ef()}}function Hh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ff(e,t);var n=Rh(e),r=Rh(t),i=Ff(n.seconds,r.seconds);return 0!==i?i:Ff(n.nanos,r.nanos)}function Gh(e){return Qh(e)}function Qh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Rh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ph(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Qh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Qh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ef();var t,n}function Kh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Wh(e){return!!e&&"integerValue"in e}function Yh(e){return!!e&&"arrayValue"in e}function Xh(e){return!!e&&"nullValue"in e}function Jh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zh(e){return!!e&&"mapValue"in e}function $h(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ih(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=$h(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$h(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ed(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function td(e){return"nullValue"in e?Bh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kh(xh.empty(),Yf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ef()}function nd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kh(xh.empty(),Yf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jh:Ef()}function rd(e,t){var n=zh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function id(e,t){var n=zh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ad=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function od(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yf.comparator(Yf.fromName(o.referenceValue),n.key):zh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ud(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vh(e.position[n],t.position[n]))return!1;return!0}var sd=y((function e(){d(this,e)})),cd=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zh(t,this.value)):null!==t&&Fh(this.value)===Fh(t)&&this.matchesComparison(zh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ef()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new kd(e,t,r):"array-contains"===t?new xd(e,r):"in"===t?new Ed(e,r):"not-in"===t?new Id(e,r):"array-contains-any"===t?new Sd(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new bd(e,n):new wd(e,n)}}]),n}(sd),ld=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return y(n,[{key:"matches",value:function(e){return fd(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(sd);function fd(e){return"and"===e.op}function hd(e){return"or"===e.op}function dd(e){return pd(e)&&fd(e)}function pd(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ld)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function vd(e){if(e instanceof cd)return e.field.canonicalString()+e.op.toString()+Gh(e.value);if(dd(e))return e.filters.map((function(e){return vd(e)})).join(",");var t=e.filters.map((function(e){return vd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function md(e,t){return e instanceof cd?function(e,t){return t instanceof cd&&e.op===t.op&&e.field.isEqual(t.field)&&Vh(e.value,t.value)}(e,t):e instanceof ld?function(e,t){return t instanceof ld&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&md(n,t.filters[r])}),!0)}(e,t):void Ef()}function yd(e,t){var n=e.filters.concat(t);return ld.create(n,e.op)}function gd(e){return e instanceof cd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gh(e.value))}(e):e instanceof ld?function(e){return e.op.toString()+" {"+e.getFilters().map(gd).join(" ,")+"}"}(e):"Filter"}var kd=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Yf.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=Yf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(cd),bd=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Ad("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cd),wd=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Ad("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cd);function Ad(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yf.fromName(e.referenceValue)}))}var xd=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Yh(t)&&qh(t.arrayValue,this.value)}}]),n}(cd),Ed=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&qh(this.value.arrayValue,t)}}]),n}(cd),Id=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qh(this.value.arrayValue,t)}}]),n}(cd),Sd=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return qh(t.value.arrayValue,e)}))}}]),n}(cd),Cd=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Td(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var _d=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Dd.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Dd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Nd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Nd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Nd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Nd(this.root,e,this.comparator,!0)}}]),e}(),Nd=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Dd=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ef();if(this.right.isRed())throw Ef();var e=this.left.check();if(e!==this.right.check())throw Ef();return e+(this.isRed()?0:1)}}]),e}();Dd.EMPTY=null,Dd.RED=!0,Dd.BLACK=!1,Dd.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw Ef()}},{key:"value",get:function(){throw Ef()}},{key:"color",get:function(){throw Ef()}},{key:"left",get:function(){throw Ef()}},{key:"right",get:function(){throw Ef()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Dd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rd=function(){function e(t){d(this,e),this.comparator=t,this.data=new _d(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Od(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Od(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Od=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Pd(e){return e.hasNext()?e.getNext():void 0}var Ld=function(){function e(t){d(this,e),this.fields=t,t.sort(Wf.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Rd(Wf.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Vf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Md=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}},{key:"setAll",value:function(e){var t=this,n=Wf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=$h(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ih(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e($h(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ud(e){var t=[];return Ih(e.fields,(function(e,n){var r=new Wf([e]);if(Zh(n)){var i=Ud(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ld(t)}var jd=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Hf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Md.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Md.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Hf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Hf.min(),Hf.min(),Hf.min(),Md.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Hf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Hf.min(),Hf.min(),Md.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Hf.min(),Hf.min(),Md.empty(),2)}}]),e}(),Bd=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bd(e,t,n,r,i,a,o)}function Vd(e){var t=Sf(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return vd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Gh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Gh(e)})).join(",")),t.ft=n}return t.ft}function qd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Td(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!md(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ud(e.startAt,t.startAt)&&ud(e.endAt,t.endAt)}function zd(e){return Yf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hd(e,t){return e.filters.filter((function(e){return e instanceof cd&&e.field.isEqual(t)}))}function Gd(e,t,n){var r,i=Bh,a=!0,o=C(Hd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Bh,c=!0;switch(u.op){case"<":case"<=":s=td(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Bh}rd({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];rd({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Qd(e,t,n){var r,i=jh,a=!0,o=C(Hd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=jh,c=!0;switch(u.op){case">=":case">":s=nd(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=jh}id({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];id({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Kd=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Wd(e,t,n,r,i,a,o,u){return new Kd(e,t,n,r,i,a,o,u)}function Yd(e){return new Kd(e)}function Xd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zd(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function $d(e){return null!==e.collectionGroup}function ep(e){var t=Sf(e);if(null===t.dt){t.dt=[];var n=Zd(t),r=Jd(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Cd(n)),t.dt.push(new Cd(Wf.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Cd(Wf.keyField(),s))}}}return t.dt}function tp(e){var t=Sf(e);if(!t._t)if("F"===t.limitType)t._t=Fd(t.path,t.collectionGroup,ep(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(ep(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Cd(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;t._t=Fd(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function np(e,t){t.getFirstInequalityField(),Zd(e);var n=e.filters.concat([t]);return new Kd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rp(e,t,n){return new Kd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ip(e,t){return qd(tp(e),tp(t))&&e.limitType===t.limitType}function ap(e){return"".concat(Vd(tp(e)),"|lt:").concat(e.limitType)}function op(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return gd(e)})).join(", "),"]")),Ch(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Gh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Gh(e)})).join(",")),"Target(".concat(t,")")}(tp(e)),"; limitType=").concat(e.limitType,")")}function up(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(ep(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=od(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ep(e),t))&&!(e.endAt&&!function(e,t,n){var r=od(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ep(e),t))}(e,t)}function sp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cp(e){return function(t,n){var r,i=!1,a=C(ep(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=lp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function lp(e,t,n){var r=e.field.isKeyField()?Yf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zh(r,i):Ef()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ef()}}function fp(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(t)?"-0":t}}function hp(e){return{integerValue:""+e}}function dp(e,t){return _h(t)?hp(t):fp(e,t)}var pp=y((function e(){d(this,e),this._=void 0}));function vp(e,t,n){return e instanceof gp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kp?bp(e,t):e instanceof wp?Ap(e,t):function(e,t){var n=yp(e,t),r=Ep(n)+Ep(e.gt);return Wh(n)&&Wh(e.gt)?hp(r):fp(e.yt,r)}(e,t)}function mp(e,t,n){return e instanceof kp?bp(e,t):e instanceof wp?Ap(e,t):n}function yp(e,t){return e instanceof xp?Wh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gp=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(pp),kp=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(pp);function bp(e,t){var n,r=Ip(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wp=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(pp);function Ap(e,t){var n,r=Ip(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xp=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return y(n)}(pp);function Ep(e){return Oh(e.integerValue||e.doubleValue)}function Ip(e){return Yh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Sp=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Cp=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Tp=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Np=y((function e(){d(this,e)}));function Dp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zp(e.key,Tp.none()):new Mp(e.key,e.data,Tp.none());var n,r=e.data,i=Md.empty(),a=new Rd(Wf.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Up(e.key,i,new Ld(a.toArray()),Tp.none())}function Rp(e,t,n){e instanceof Mp?function(e,t,n){var r=e.value.clone(),i=Bp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Up?function(e,t,n){if(_p(e.precondition,t)){var r=Bp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Op(e,t,n,r){return e instanceof Mp?function(e,t,n,r){if(!_p(e.precondition,t))return n;var i=e.value.clone(),a=Fp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Up?function(e,t,n,r){if(!_p(e.precondition,t))return n;var i=Fp(e.fieldTransforms,r,t),a=t.data;return a.setAll(jp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _p(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pp(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=yp(a.transform,o||null);null!=u&&(null===r&&(r=Md.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Lp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kp&&t instanceof kp||e instanceof wp&&t instanceof wp?Vf(e.elements,t.elements,Vh):e instanceof xp&&t instanceof xp?Vh(e.gt,t.gt):e instanceof gp&&t instanceof gp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Mp=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Np),Up=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Np);function jp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bp(e,t,n){var r=new Map;If(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,mp(o,u,n[i]))}return r}function Fp(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,vp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vp,qp,zp=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Np),Hp=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Np),Gp=y((function e(t){d(this,e),this.count=t}));function Qp(e){switch(e){default:return Ef();case Cf.CANCELLED:case Cf.UNKNOWN:case Cf.DEADLINE_EXCEEDED:case Cf.RESOURCE_EXHAUSTED:case Cf.INTERNAL:case Cf.UNAVAILABLE:case Cf.UNAUTHENTICATED:return!1;case Cf.INVALID_ARGUMENT:case Cf.NOT_FOUND:case Cf.ALREADY_EXISTS:case Cf.PERMISSION_DENIED:case Cf.FAILED_PRECONDITION:case Cf.ABORTED:case Cf.OUT_OF_RANGE:case Cf.UNIMPLEMENTED:case Cf.DATA_LOSS:return!0}}function Kp(e){if(void 0===e)return wf("GRPC error has no .code"),Cf.UNKNOWN;switch(e){case Vp.OK:return Cf.OK;case Vp.CANCELLED:return Cf.CANCELLED;case Vp.UNKNOWN:return Cf.UNKNOWN;case Vp.DEADLINE_EXCEEDED:return Cf.DEADLINE_EXCEEDED;case Vp.RESOURCE_EXHAUSTED:return Cf.RESOURCE_EXHAUSTED;case Vp.INTERNAL:return Cf.INTERNAL;case Vp.UNAVAILABLE:return Cf.UNAVAILABLE;case Vp.UNAUTHENTICATED:return Cf.UNAUTHENTICATED;case Vp.INVALID_ARGUMENT:return Cf.INVALID_ARGUMENT;case Vp.NOT_FOUND:return Cf.NOT_FOUND;case Vp.ALREADY_EXISTS:return Cf.ALREADY_EXISTS;case Vp.PERMISSION_DENIED:return Cf.PERMISSION_DENIED;case Vp.FAILED_PRECONDITION:return Cf.FAILED_PRECONDITION;case Vp.ABORTED:return Cf.ABORTED;case Vp.OUT_OF_RANGE:return Cf.OUT_OF_RANGE;case Vp.UNIMPLEMENTED:return Cf.UNIMPLEMENTED;case Vp.DATA_LOSS:return Cf.DATA_LOSS;default:return Ef()}}(qp=Vp||(Vp={}))[qp.OK=0]="OK",qp[qp.CANCELLED=1]="CANCELLED",qp[qp.UNKNOWN=2]="UNKNOWN",qp[qp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qp[qp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qp[qp.NOT_FOUND=5]="NOT_FOUND",qp[qp.ALREADY_EXISTS=6]="ALREADY_EXISTS",qp[qp.PERMISSION_DENIED=7]="PERMISSION_DENIED",qp[qp.UNAUTHENTICATED=16]="UNAUTHENTICATED",qp[qp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qp[qp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qp[qp.ABORTED=10]="ABORTED",qp[qp.OUT_OF_RANGE=11]="OUT_OF_RANGE",qp[qp.UNIMPLEMENTED=12]="UNIMPLEMENTED",qp[qp.INTERNAL=13]="INTERNAL",qp[qp.UNAVAILABLE=14]="UNAVAILABLE",qp[qp.DATA_LOSS=15]="DATA_LOSS";var Wp=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ih(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Yp=new _d(Yf.comparator);function Xp(){return Yp}var Jp=new _d(Yf.comparator);function Zp(){for(var e=Jp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $p(e){var t=Jp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ev(){return nv()}function tv(){return nv()}function nv(){return new Wp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var rv=new _d(Yf.comparator),iv=new Rd(Yf.comparator);function av(){for(var e=iv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ov=new Rd(Ff);function uv(){return ov}var sv=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,cv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Hf.min(),i,uv(),Xp(),av())}}]),e}(),cv=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,av(),av(),av())}}]),e}(),lv=y((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),fv=y((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),hv=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),dv=function(){function e(){d(this,e),this.At=0,this.Rt=mv(),this.bt=Nh.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return y(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=av(),t=av(),n=av();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ef()}})),new cv(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=mv()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),pv=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=Xp(),this.qt=vv(),this.Ut=new Rd(Ff)}return y(e,[{key:"Kt",value:function(e){var t,n=C(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Ef()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(zd(i))if(0===n){var a=new Yf(i.path);this.Qt(t,a,jd.newNoDocument(a,Hf.min()))}else If(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&zd(a.target)){var o=new Yf(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,jd.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=av();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new sv(e,n,this.Ut,this.Lt,r);return this.Lt=Xp(),this.qt=vv(),this.Ut=new Rd(Ff),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new dv,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Rd(Ff),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||bf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new dv),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function vv(){return new _d(Yf.comparator)}function mv(){return new _d(Yf.comparator)}var yv={asc:"ASCENDING",desc:"DESCENDING"},gv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kv={and:"AND",or:"OR"},bv=y((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function wv(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Av(e,t){return e.wt?t.toBase64():t.toUint8Array()}function xv(e,t){return wv(e,t.toTimestamp())}function Ev(e){return If(!!e),Hf.fromTimestamp(function(e){var t=Rh(e);return new zf(t.seconds,t.nanos)}(e))}function Iv(e,t){return function(e){return new Qf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Sv(e){var t=Qf.fromString(e);return If(Yv(t)),t}function Cv(e,t){return Iv(e.databaseId,t.path)}function Tv(e,t){var n=Sv(t);if(n.get(1)!==e.databaseId.projectId)throw new Tf(Cf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tf(Cf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yf(Rv(n))}function _v(e,t){return Iv(e.databaseId,t)}function Nv(e){var t=Sv(e);return 4===t.length?Qf.emptyPath():Rv(t)}function Dv(e){return new Qf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rv(e){return If(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ov(e,t,n){return{name:Cv(e,t),fields:n.value.mapValue.fields}}function Pv(e,t,n){var r=Tv(e,t.name),i=Ev(t.updateTime),a=t.createTime?Ev(t.createTime):Hf.min(),o=new Md({mapValue:{fields:t.fields}}),u=jd.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Lv(e,t){return"found"in t?function(e,t){If(!!t.found),t.found.name,t.found.updateTime;var n=Tv(e,t.found.name),r=Ev(t.found.updateTime),i=t.found.createTime?Ev(t.found.createTime):Hf.min(),a=new Md({mapValue:{fields:t.found.fields}});return jd.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){If(!!t.missing),If(!!t.readTime);var n=Tv(e,t.missing),r=Ev(t.readTime);return jd.newNoDocument(n,r)}(e,t):Ef()}function Mv(e,t){var n;if(t instanceof Mp)n={update:Ov(e,t.key,t.value)};else if(t instanceof zp)n={delete:Cv(e,t.key)};else if(t instanceof Up)n={update:Ov(e,t.key,t.data),updateMask:Wv(t.fieldMask)};else{if(!(t instanceof Hp))return Ef();n={verify:Cv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xp)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ef()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ef()}(e,t.precondition)),n}function Uv(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Tp.updateTime(Ev(e.updateTime)):void 0!==e.exists?Tp.exists(e.exists):Tp.none()}(t.currentDocument):Tp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)If("REQUEST_TIME"===t.setToServerValue),n=new gp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wp(i)}else"increment"in t?n=new xp(e,t.increment):Ef();var a=Wf.fromServerFormat(t.fieldPath);return new Sp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Tv(e,t.update.name),a=new Md({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ld(t.map((function(e){return Wf.fromServerFormat(e)})))}(t.updateMask);return new Up(i,a,o,n,r)}return new Mp(i,a,n,r)}if(t.delete){var u=Tv(e,t.delete);return new zp(u,n)}if(t.verify){var s=Tv(e,t.verify);return new Hp(s,n)}return Ef()}function jv(e,t){return{documents:[_v(e,t.path)]}}function Bv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_v(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_v(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Kv(ld.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Gv(e.field),direction:qv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Ch(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Fv(e){var t=Nv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){If(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Vv(e);return t instanceof ld&&dd(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Cd(Qv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ch(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ad(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ad(n,t)}(n.endAt)),Wd(t,i,u,o,s,"F",c,l)}function Vv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qv(e.unaryFilter.field);return cd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qv(e.unaryFilter.field);return cd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qv(e.unaryFilter.field);return cd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qv(e.unaryFilter.field);return cd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ef()}}(e):void 0!==e.fieldFilter?function(e){return cd.create(Qv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ef()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ld.create(e.compositeFilter.filters.map((function(e){return Vv(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ef()}}(e.compositeFilter.op))}(e):Ef()}function qv(e){return yv[e]}function zv(e){return gv[e]}function Hv(e){return kv[e]}function Gv(e){return{fieldPath:e.canonicalString()}}function Qv(e){return Wf.fromServerFormat(e.fieldPath)}function Kv(e){return e instanceof cd?function(e){if("=="===e.op){if(Jh(e.value))return{unaryFilter:{field:Gv(e.field),op:"IS_NAN"}};if(Xh(e.value))return{unaryFilter:{field:Gv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jh(e.value))return{unaryFilter:{field:Gv(e.field),op:"IS_NOT_NAN"}};if(Xh(e.value))return{unaryFilter:{field:Gv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gv(e.field),op:zv(e.op),value:e.value}}}(e):e instanceof ld?function(e){var t=e.getFilters().map((function(e){return Kv(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Hv(e.op),filters:t}}}(e):Ef()}function Wv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Yv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Xv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Zv(t)),t=Jv(e.get(n),t);return Zv(t)}function Jv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Zv(e){return e+"\x01\x01"}function $v(e){var t=e.length;if(If(t>=2),2===t)return If("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ef(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ef()}a=o+2}return new Qf(r)}var em=["userId","batchId"];function tm(e,t){return[e,Xv(t)]}function nm(e,t,n){return[e,Xv(t),n]}var rm={},im=["prefixPath","collectionGroup","readTime","documentId"],am=["prefixPath","collectionGroup","documentId"],om=["collectionGroup","readTime","prefixPath","documentId"],um=["canonicalId","targetId"],sm=["targetId","path"],cm=["path","targetId"],lm=["collectionId","parent"],fm=["indexId","uid"],hm=["uid","sequenceNumber"],dm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pm=["indexId","uid","orderedDocumentKey"],vm=["userId","collectionPath","documentId"],mm=["userId","collectionPath","largestBatchId"],ym=["userId","collectionGroup","largestBatchId"],gm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),km=[].concat(h(gm),["documentOverlays"]),bm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wm=bm,Am=[].concat(wm,["indexConfiguration","indexState","indexEntries"]),xm=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return y(n)}(oh);function Em(e,t){var n=Sf(e);return fh.M(n.se,t)}var Im=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Rp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Op(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Op(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=tv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Dp(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Hf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),av())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vf(this.mutations,e.mutations,(function(e,t){return Lp(e,t)}))&&Vf(this.baseMutations,e.baseMutations,(function(e,t){return Lp(e,t)}))}}]),e}(),Sm=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){If(t.mutations.length===r.length);for(var i=rv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cm=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Tm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nh.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),_m=y((function e(t){d(this,e),this.ie=t}));function Nm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Cv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wv(e,t.version.toTimestamp()),createTime:wv(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rm(t.version)};else{if(!t.isUnknownDocument())return Ef();r.unknownDocument={path:n.path.toArray(),version:Rm(t.version)}}return r}function Dm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Rm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Om(e){var t=new zf(e.seconds,e.nanoseconds);return Hf.fromTimestamp(t)}function Pm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uv(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uv(e.ie,t)})),u=zf.fromMillis(t.localWriteTimeMs);return new Im(t.batchId,u,n,o)}function Lm(e){var t,n,r=Om(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Om(e.lastLimboFreeSnapshotVersion):Hf.min();return void 0!==e.query.documents?(If(1===(n=e.query).documents.length),t=tp(Yd(Nv(n.documents[0])))):t=function(e){return tp(Fv(e))}(e.query),new Tm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nh.fromBase64String(e.resumeToken))}function Mm(e,t){var n,r=Rm(t.snapshotVersion),i=Rm(t.lastLimboFreeSnapshotVersion);n=zd(t.target)?jv(e.ie,t.target):Bv(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vd(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Um(e){var t=Fv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rp(t,t.limit,"L"):t}function jm(e,t){return new Cm(t.largestBatchId,Uv(e.ie,t.overlayMutation))}function Bm(e,t){var n=t.path.lastSegment();return[e,Xv(t.path.popLast()),n]}function Fm(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Rm(r.readTime),documentKey:Xv(r.documentKey.path),largestBatchId:r.largestBatchId}}var Vm=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return qm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Om(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return qm(e).put({bundleId:(n=t).id,createTime:Rm(Ev(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return zm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Um(t.bundledQuery),readTime:Om(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return zm(e).put(function(e){return{name:e.name,readTime:Rm(Ev(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function qm(e){return Em(e,"bundles")}function zm(e){return Em(e,"namedQueries")}var Hm=function(){function e(t,n){d(this,e),this.yt=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Gm(e).get(Bm(this.userId,t)).next((function(e){return e?jm(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=ev();return ch.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Cm(t,a);i.push(r.oe(e,o))})),ch.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Xv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Gm(e).Y("collectionPathOverlayIndex",i))})),ch.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ev(),a=Xv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gm(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=jm(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ev(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gm(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=jm(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Gm(e).put(function(e,t,n){var r=l(Bm(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Mv(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Gm(e){return Em(e,"documentOverlays")}var Qm=function(){function e(){d(this,e)}return y(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Oh(e.integerValue));else if("doubleValue"in e){var n=Oh(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Th(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ph(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?ed(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ef()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Yf.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Km(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Wm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Km(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Qm.Ie=new Qm;var Ym=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Wm(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Wm(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xm=function(){function e(t){d(this,e),this.$e=t}return y(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Jm=function(){function e(t){d(this,e),this.$e=t}return y(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Zm=function(){function e(){d(this,e),this.$e=new Ym,this.Be=new Xm(this.$e),this.Le=new Jm(this.$e)}return y(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),$m=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ey(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ty(e.arrayValue,t.arrayValue))?n:0!==(n=ty(e.directionalValue,t.directionalValue))?n:Yf.comparator(e.documentKey,t.documentKey)}function ty(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ny=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"je",value:function(e){If(e.collectionGroup===this.collectionId);var t=Jf(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Zf(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=C(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ry(e){var t,n;if(If(e instanceof cd||e instanceof ld),e instanceof cd){if(e instanceof Ed){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return cd.create(e.field,"==",t)})))||[];return ld.create(r,"or")}return e}var i=e.filters.map((function(e){return ry(e)}));return ld.create(i,e.op)}function iy(e){if(0===e.getFilters().length)return[];var t=sy(ry(e));return If(uy(t)),ay(t)||oy(t)?[t]:t.getFilters()}function ay(e){return e instanceof cd}function oy(e){return e instanceof ld&&dd(e)}function uy(e){return ay(e)||oy(e)||function(e){if(e instanceof ld&&hd(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ay(r)&&!oy(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function sy(e){if(If(e instanceof cd||e instanceof ld),e instanceof cd)return e;if(1===e.filters.length)return sy(e.filters[0]);var t=e.filters.map((function(e){return sy(e)})),n=ld.create(t,e.op);return uy(n=fy(n))?n:(If(n instanceof ld),If(fd(n)),If(n.filters.length>1),n.filters.reduce((function(e,t){return cy(e,t)})))}function cy(e,t){var n;return If(e instanceof cd||e instanceof ld),If(t instanceof cd||t instanceof ld),n=e instanceof cd?t instanceof cd?function(e,t){return ld.create([e,t],"and")}(e,t):ly(e,t):t instanceof cd?ly(t,e):function(e,t){if(If(e.filters.length>0&&t.filters.length>0),fd(e)&&fd(t))return yd(e,t.getFilters());var n=hd(e)?e:t,r=hd(e)?t:e,i=n.filters.map((function(e){return cy(e,r)}));return ld.create(i,"or")}(e,t),fy(n)}function ly(e,t){if(fd(t))return yd(t,e.getFilters());var n=t.filters.map((function(t){return cy(e,t)}));return ld.create(n,"or")}function fy(e){if(If(e instanceof cd||e instanceof ld),e instanceof cd)return e;var t=e.getFilters();if(1===t.length)return fy(t[0]);if(pd(e))return e;var n=t.map((function(e){return fy(e)})),r=[];return n.forEach((function(t){t instanceof cd?r.push(t):t instanceof ld&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:ld.create(r,e.op)}var hy=function(){function e(){d(this,e),this.Je=new dy}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),ch.resolve()}},{key:"getCollectionParents",value:function(e,t){return ch.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ch.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ch.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ch.resolve(null)}},{key:"getIndexType",value:function(e,t){return ch.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ch.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ch.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ch.resolve(rh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ch.resolve(rh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ch.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ch.resolve()}}]),e}(),dy=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rd(Qf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rd(Qf.comparator)).toArray()}}]),e}(),py=new Uint8Array(0),vy=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Ye=new dy,this.Xe=new Wp((function(e){return Vd(e)}),(function(e,t){return qd(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Xv(i)};return my(e).put(a)}return ch.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qf(t),""],!1,!0);return my(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push($v(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=gy(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ky(e);return a.next((function(e){o.put(Fm(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=gy(e),r=ky(e),i=yy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=yy(e),i=!0,a=new Map;return ch.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=av(),o=[];return ch.forEach(a,(function(i,a){var u;bf("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vd(t)));var s=function(e,t){var n=Jf(t);if(void 0===n)return null;var r,i=C(Hd(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Zf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(Hd(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Zf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Gd(e,o.fieldPath,e.startAt):Qd(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ad(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Zf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qd(e,o.fieldPath,e.endAt):Gd(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ad(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ch.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Yf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ch.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:iy(ld.create(e.filters,"and")).map((function(t){return Fd(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[d/c]):py,f=u.on(e,s,n[d%c],r),p=u.un(e,s,i[d%c],a),v=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"on",value:function(e,t,n,r){var i=new $m(e,Yf.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new $m(e,Yf.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new ny(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return ch.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Rd(Wf.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Zm,i=C(Zf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Qm.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Zm;return Qm.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Zm;return Qm.Ie.ue(Kh(this.databaseId,t),n.qe(function(e){var t=Zf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Zm);var i,a=0,o=C(Zf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Yh(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Qm.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Zm;f.seed(l.Fe()),Qm.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof cd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=gy(e),i=ky(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ch.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new eh(t.sequenceNumber,new rh(Om(t.readTime),new Yf($v(t.documentKey)),t.largestBatchId)):eh.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new $f(Wf.fromServerFormat(n),r)}));return new Xf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ff(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=gy(e),a=ky(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ch.forEach(t,(function(t){return a.put(Fm(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ch.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ch.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ch.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?ch.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return yy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return yy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=yy(e),i=new Rd(ey);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new $m(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Rd(ey),r=this.cn(t,e);if(null==r)return n;var i=Jf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Yh(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new $m(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new $m(t.indexId,e.key,py,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;bf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Pd(a),s=Pd(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Pd(o)):l?(i(u),u=Pd(a)):(u=Pd(a),s=Pd(o))}}(r,i,ey,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),ch.waitFor(o)}},{key:"dn",value:function(e){var t=1;return ky(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ey(e,t)})).filter((function(e,t,n){return!t||0!==ey(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ey(o,e),s=ey(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,py,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,py,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return ey(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(by)}},{key:"getMinOffset",value:function(e,t){var n=this;return ch.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Ef()}))})).next(by)}}]),e}();function my(e){return Em(e,"collectionParents")}function yy(e){return Em(e,"indexEntries")}function gy(e){return Em(e,"indexConfiguration")}function ky(e){return Em(e,"indexState")}function by(e){If(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ih(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new rh(t.readTime,t.documentKey,n)}var wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ay=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function xy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){If(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=nm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ch.waitFor(a).next((function(){return l}))}function Ey(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ef();t=e.noDocument}return JSON.stringify(t).length}Ay.DEFAULT_COLLECTION_PERCENTILE=10,Ay.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ay.DEFAULT=new Ay(41943040,Ay.DEFAULT_COLLECTION_PERCENTILE,Ay.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ay.DISABLED=new Ay(-1,0,0);var Iy=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cy(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ty(e),o=Cy(e);return o.add({}).next((function(u){If("number"==typeof u);var s,c=new Im(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Mv(e.ie,t)})),i=n.mutations.map((function(t){return Mv(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Rd((function(e,t){return Ff(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=nm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,rm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ch.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Cy(e).get(t).next((function(e){return e?(If(e.userId===n.userId),Pm(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ch.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Cy(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(If(t.batchId>=r),a=Pm(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cy(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cy(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Pm(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=tm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ty(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=$v(c);if(s===n.userId&&t.path.isEqual(h))return Cy(e).get(f).next((function(e){if(!e)throw Ef();If(e.userId===n.userId),a.push(Pm(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rd(Ff),i=[];return t.forEach((function(t){var a=tm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ty(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=$v(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),ch.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=tm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Rd(Ff);return Ty(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=$v(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Cy(e).get(t).next((function(e){if(null===e)throw Ef();If(e.userId===n.userId),r.push(Pm(n.yt,e))})))})),ch.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return xy(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ch.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ch.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ty(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=$v(e[1]);i.push(a)}else r.done()})).next((function(){If(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Sy(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return _y(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return If(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Sy(e,t,n){var r=tm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ty(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Cy(e){return Em(e,"mutations")}function Ty(e){return Em(e,"documentMutations")}function _y(e){return Em(e,"mutationQueues")}var Ny=function(){function e(t){d(this,e),this.bn=t}return y(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Dy=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.yt=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Ny(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Hf.fromTimestamp(new zf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ry(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return If(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ry(e).Z((function(o,u){var s=Lm(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ch.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ry(e).Z((function(e,n){var r=Lm(n);t(r)}))}},{key:"Vn",value:function(e){return Oy(e).get("targetGlobalKey").next((function(e){return If(null!==e),e}))}},{key:"Sn",value:function(e,t){return Oy(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Ry(e).put(Mm(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ry(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Lm(n);qd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Py(e);return t.forEach((function(t){var o=Xv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ch.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Py(e);return ch.forEach(t,(function(t){var a=Xv(t.path);return ch.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Py(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Py(e),i=av();return r.Z({range:n,X:!0},(function(e,t,n){var r=$v(e[1]),a=new Yf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Xv(t.path),r=IDBKeyRange.bound([n],[qf(n)],!1,!0),i=0;return Py(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Ry(e).get(t).next((function(e){return e?Lm(e):null}))}}]),e}();function Ry(e){return Em(e,"targets")}function Oy(e){return Em(e,"targetGlobal")}function Py(e){return Em(e,"targetDocuments")}function Ly(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Ff(r,o);return 0===s?Ff(i,u):s}var My=function(){function e(t){d(this,e),this.xn=t,this.buffer=new Rd(Ly),this.Nn=0}return y(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ly(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Uy=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;bf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ph(e.t0)){e.next=12;break}bf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,uh(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),jy=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ch.resolve(wh.at);var r=new My(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bf("LruGarbageCollector","Garbage collection skipped; disabled"),ch.resolve(wy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),wy):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(bf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),kf()<=Pt.DEBUG&&bf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ch.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),By=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new jy(e,t)}(this,n)}return y(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Fy(e,n)}},{key:"removeReference",value:function(e,t,n){return Fy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Fy(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return _y(e).tt((function(r){return Sy(e,r,t).next((function(e){return e&&(n=!0),ch.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Hf.min()),Py(e).delete([0,Xv(o.path)])}))}));i.push(s)}})).next((function(){return ch.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Fy(e,t)}},{key:"Kn",value:function(e,t){var n,r=Py(e),i=wh.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==wh.at&&t(new Yf($v(n)),i),i=s,n=u):i=wh.at})).next((function(){i!==wh.at&&t(new Yf($v(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Fy(e,t){return Py(e).put(function(e,t){return{targetId:0,path:Xv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Vy=function(){function e(){d(this,e),this.changes=new Wp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,jd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ch.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),qy=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Qy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Qy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Dm(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=jd.newInvalidDocument(t);return Qy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ky(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:jd.newInvalidDocument(t)};return Qy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ky(t))},(function(e,i){r={document:n.jn(t,i),size:Ey(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Xp();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Xp(),i=new _d(Yf.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Ey(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ch.resolve();var r=new Rd(Yy);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ky(r.first()),Ky(r.last())),a=r.getIterator(),o=a.getNext();return Qy(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yf.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Yy(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Ky(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Dm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qy(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Xp(),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Yf.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Xp(),o=Wy(t,n),u=Wy(t,rh.max());return Qy(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Yf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Hy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Gy(e).get("remoteDocumentGlobalKey").next((function(e){return If(!!e),e}))}},{key:"Qn",value:function(e,t){return Gy(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Pv(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yf.fromSegments(t.noDocument.path),i=Om(t.noDocument.readTime);n=jd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ef();var a=Yf.fromSegments(t.unknownDocument.path),o=Om(t.unknownDocument.version);n=jd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new zf(e[0],e[1]);return Hf.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Hf.min()))return n}return jd.newInvalidDocument(e)}}]),e}();function zy(e){return new qy(e)}var Hy=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Wp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rd((function(e,t){return Ff(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Nm(t.Yn.yt,o);i=i.add(a.path.popLast());var c=Ey(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Nm(t.Yn.yt,o.convertToNoDocument(Hf.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ch.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Vy);function Gy(e){return Em(e,"remoteDocumentGlobal")}function Qy(e){return Em(e,"remoteDocumentsV14")}function Ky(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wy(e,t){var n=t.documentKey.path.toArray();return[e,Dm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Yy(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ff(n[a],r[a]))return i;return(i=Ff(n.length,r.length))||((i=Ff(n[n.length-2],r[r.length-2]))||Ff(n[n.length-1],r[r.length-1]))}var Xy=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Jy=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Op(r.mutation,e,Ld.empty(),zf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,av()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:av(),i=ev();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Zp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ev();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,av())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Xp(),a=nv(),o=nv();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Up)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Op(o.mutation,t,o.mutation.getFieldMask(),zf.now())):a.set(t.key,Ld.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Xy(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=nv(),i=new _d((function(e,t){return e-t})),a=av();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ld.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||av()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=tv();c.forEach((function(e){if(!a.has(e)){var n=Dp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ch.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Yf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$d(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ch.resolve(ev()),u=-1,s=a;return o.next((function(t){return ch.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ch.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,av())})).next((function(e){return{batchId:u,changes:$p(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Yf(t)).next((function(e){var t=Zp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Zp();return this.indexManager.getCollectionParents(e,i).next((function(o){return ch.forEach(o,(function(o){var u=function(e,t){return new Kd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,jd.newInvalidDocument(n)))}));var n=Zp();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Op(a.mutation,i,Ld.empty(),zf.now()),up(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Zy=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return ch.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ev(n.createTime)}),ch.resolve()}},{key:"getNamedQuery",value:function(e,t){return ch.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Um(e.bundledQuery),readTime:Ev(e.readTime)}}(t)),ch.resolve()}}]),e}(),$y=function(){function e(){d(this,e),this.overlays=new _d(Yf.comparator),this.es=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return ch.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ev();return ch.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),ch.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ch.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ev(),i=t.length+1,a=new Yf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ch.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _d((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ev(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ev(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ch.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Cm(t,n));var a=this.es.get(t);void 0===a&&(a=av(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),eg=function(){function e(){d(this,e),this.ns=new Rd(tg.ss),this.rs=new Rd(tg.os)}return y(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new tg(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new tg(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Yf(new Qf([])),r=new tg(n,e),i=new tg(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Yf(new Qf([])),n=new tg(t,e),r=new tg(t,e+1),i=av();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new tg(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),tg=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return y(e,null,[{key:"ss",value:function(e,t){return Yf.comparator(e.key,t.key)||Ff(e._s,t._s)}},{key:"os",value:function(e,t){return Ff(e._s,t._s)||Yf.comparator(e.key,t.key)}}]),e}(),ng=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Rd(tg.ss)}return y(e,[{key:"checkEmpty",value:function(e){return ch.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Im(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new tg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ch.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ch.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ch.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ch.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ch.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new tg(t,0),i=new tg(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ch.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rd(Ff);return t.forEach((function(e){var t=new tg(e,0),i=new tg(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ch.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yf.isDocumentKey(i)||(i=i.child(""));var a=new tg(new Yf(i),0),o=new Rd(Ff);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ch.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;If(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ch.forEach(t.mutations,(function(i){var a=new tg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new tg(t,0),r=this.gs.firstAfterOrEqual(n);return ch.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ch.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),rg=function(){function e(t){d(this,e),this.Es=t,this.docs=new _d(Yf.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ch.resolve(n?n.document.mutableCopy():jd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Xp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():jd.newInvalidDocument(e))})),ch.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Xp(),i=new Yf(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ih(nh(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ch.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ef()}},{key:"As",value:function(e,t){return ch.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ig(this)}},{key:"getSize",value:function(e){return ch.resolve(this.size)}}]),e}(),ig=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ch.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Vy),ag=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new Wp((function(e){return Vd(e)}),qd),this.lastRemoteSnapshotVersion=Hf.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eg,this.targetCount=0,this.vs=Ny.Pn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ch.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ch.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ch.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ch.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ch.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ny(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ch.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ch.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ch.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ch.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ch.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ch.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ch.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ch.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ch.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ch.resolve(n)}},{key:"containsKey",value:function(e,t){return ch.resolve(this.Ps.containsKey(t))}}]),e}(),og=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new wh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new ag(this),this.indexManager=new hy,this.remoteDocumentCache=new rg((function(e){return r.referenceDelegate.xs(e)})),this.yt=new _m(n),this.Ns=new Zy(this.yt)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $y,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ng(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;bf("MemoryPersistence","Starting transaction:",e);var i=new ug(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return ch.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ug=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(oh),sg=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new eg,this.$s=null}return y(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Ef()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ch.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ch.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ch.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ch.forEach(this.Ls,(function(r){var i=Yf.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Hf.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return ch.or([function(){return ch.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),cg=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new lh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",em,{unique:!0}),e.createObjectStore("documentMutations")}(e),lg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ch.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),lg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",em,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ch.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:vm});t.createIndex("collectionPathOverlayIndex",mm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ym,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:im});t.createIndex("documentKeyIndex",am),t.createIndex("collectionGroupIndex",om)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fm}).createIndex("sequenceNumberIndex",hm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:dm}).createIndex("documentKeyIndex",pm,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Ey(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ch.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ch.forEach(r,(function(r){If(r.userId===n.userId);var i=Pm(t.yt,r);return xy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Qf(n),o=function(e){return[0,Xv(e)]}(a);r.push(t.get(o).next((function(n){return n?ch.resolve():function(n){return t.put({targetId:0,path:Xv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ch.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:lm});var n=t.store("collectionParents"),r=new dy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Xv(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Qf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],$v(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Lm(r),a=Mm(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yf(Qf.fromString(i.document.name).popFirst(5)):i.noDocument?Yf.fromSegments(i.noDocument.path):i.unknownDocument?Yf.fromSegments(i.unknownDocument.path):Ef()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ch.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=zy(this.yt),a=new og(sg.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:av();Pm(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ch.forEach(r,(function(e,r){var o=new mf(r),u=Hm.re(n.yt,o),s=a.getIndexManager(o),c=Iy.re(o,n.yt,s,a.referenceDelegate);return new Jy(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new xm(t,wh.at),e).next()}))}))}}]),e}();function lg(e){e.createObjectStore("targetDocuments",{keyPath:sm}).createIndex("documentTargetsIndex",cm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",um,{unique:!0}),e.createObjectStore("targetGlobal")}var fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Tf(Cf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new By(this,i),this.ii=n+"main",this.yt=new _m(s),this.ri=new fh(this.ii,this.Xs,new cg(this.yt)),this.Cs=new Dy(this.referenceDelegate,this.yt),this.remoteDocumentCache=zy(this.yt),this.Ns=new Vm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&wf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Tf(Cf.FAILED_PRECONDITION,fg);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new wh(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=_t(Ct().mark((function n(r){return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=_t(Ct().mark((function t(n){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return pg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ph(t))return bf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return bf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return dg(e).get("owner").next((function(e){return ch.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return pg(e).delete(this.clientId)}},{key:"yi",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i,a=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Em(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ch.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ch.resolve(!0):dg(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Tf(Cf.FAILED_PRECONDITION,fg);return!1}}return!(!t.networkEnabled||!t.inForeground)||pg(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&bf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=_t(Ct().mark((function e(){var t=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new xm(e,wh.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return pg(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Iy.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new vy(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Hm.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;bf("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Am:14===i?wm:13===i?bm:12===i?km:11===i?gm:void Ef();return this.ri.runTransaction(e,o,u,(function(i){return a=new xm(i,r.Ss?r.Ss.next():wh.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw wf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Tf(Cf.FAILED_PRECONDITION,ah);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return dg(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Tf(Cf.FAILED_PRECONDITION,fg)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dg(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=dg(e);return n.get("owner").next((function(e){return t.mi(e)?(bf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ch.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(wf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return bf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Eu){wf("Failed to set zombie client id.",Eu)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Eu){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return fh.C()}}]),e}();function dg(e){return Em(e,"owner")}function pg(e){return Em(e,"clientMetadata")}function vg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var mg=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return y(e,null,[{key:"Ci",value:function(t,n){var r,i=av(),a=av(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yg=function(){function e(){d(this,e),this.xi=!1}return y(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Xd(t))return ch.resolve(null);var r=tp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=rp(t,null,"F"),r=tp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=av.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,rp(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Xd(t)||r.isEqual(Hf.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(kf()<=Pt.DEBUG&&bf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),op(t)),i.Bi(e,o,t,th(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Rd(cp(e));return t.forEach((function(t,r){up(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return kf()<=Pt.DEBUG&&bf("QueryEngine","Using full collection scan to execute query:",op(t)),this.Ni.getDocumentsMatchingQuery(e,t,rh.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),gg=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new _d(Ff),this.Ui=new Wp((function(e){return Vd(e)}),qd),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return y(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jy(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function kg(e,t,n,r){return new gg(e,t,n,r)}function bg(e,t){return wg.apply(this,arguments)}function wg(){return wg=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=av(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function Ag(e,t){var n=Sf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ch.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);If(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=av(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function xg(e){var t=Sf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Eg(e,t){var n=Sf(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Nh.EMPTY_BYTE_STRING,Hf.min()).withLastLimboFreeSnapshotVersion(Hf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Xp(),s=av();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ig(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Hf.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ch.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Ig(e,t,n){var r=av(),i=av();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Xp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Hf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):bf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Sg(e,t){var n=Sf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Cg(e,t){var n=Sf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ch.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Tm(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Tg(e,t,n){return _g.apply(this,arguments)}function _g(){return _g=_t(Ct().mark((function e(t,n,r){var i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sf(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ph(e.t1)){e.next=12;break}throw e.t1;case 12:bf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),_g.apply(this,arguments)}function Ng(e,t,n){var r=Sf(e),i=Hf.min(),a=av();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sf(e),i=r.Ui.get(n);return void 0!==i?ch.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,tp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Hf.min(),n?a:av())})).next((function(e){return Og(r,sp(t),e),{documents:e,Hi:a}}))}))}function Dg(e,t){var n=Sf(e),r=Sf(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Rg(e,t){var n=Sf(e),r=n.Ki.get(t)||Hf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,th(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Og(n,t,e),e}))}function Og(e,t,n){var r=e.Ki.get(t)||Hf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Pg(e,t,n,r){return Lg.apply(this,arguments)}function Lg(){return Lg=_t(Ct().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Sf(t),o=av(),u=Xp(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Cg(a,function(e){return tp(Yd(Qf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ig(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Mg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=_t(Ct().mark((function e(t,n){var r,i,a,o=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:av(),e.next=3,Cg(t,tp(Um(n.bundledQuery)));case 3:return i=e.sent,a=Sf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ev(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Nh.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function jg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Vg=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Tf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),qg=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tf(i.error.code,i.error.message))),a?new e(t,i.state,r):(wf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),zg=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=uv(),o=0;i&&o<r.activeTargetIds.length;++o)i=_h(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Hg=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Gg=function(){function e(){d(this,e),this.activeTargetIds=uv()}return y(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Qg=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new _d(Ff),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=jg(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Gg),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return y(e,[{key:"start",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(jg(this.persistenceKey,i)))&&(o=zg.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=C(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fg(this.persistenceKey,e));if(n){var r=qg.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return bf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){bf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){bf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(bf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void wf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(_t(Ct().mark((function e(){var r,i,a,o,u,s,c;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=wh.at;if(null!=e)try{var n=JSON.parse(e);If("number"==typeof n),t=n}catch(e){wf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==wh.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Vg(this.currentUser,e,t,n),i=Bg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Bg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Fg(this.persistenceKey,e),i=new qg(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return zg.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Vg.Zi(new mf(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return qg.Zi(r,t)}},{key:"yr",value:function(e){return Hg.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:bf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=uv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Kg=function(){function e(){d(this,e),this.Lr=new Gg,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Gg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wg=function(){function e(){d(this,e)}return y(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Yg=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return y(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){bf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){bf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Xg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Jg=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return y(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Zg=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return y(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new pf;o.setWithCredentials(!0),o.listenOnce(cf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case sf.NO_ERROR:var t=o.getResponseJson();bf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case sf.TIMEOUT:bf("Connection",'RPC "'+e+'" timed out'),a(new Tf(Cf.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:var n=o.getStatus();if(bf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cf).indexOf(t)>=0?t:Cf.UNKNOWN}(u.status);a(new Tf(s,u.message))}else a(new Tf(Cf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Tf(Cf.UNAVAILABLE,"Connection failed."));break;default:Ef()}}finally{bf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=of(),a=uf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hf({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");bf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Jg({Hr:function(e){l?bf("Connection","Not sending because WebChannel is closed:",e):(c||(bf("Connection","Opening WebChannel transport."),s.open(),c=!0),bf("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,df.EventType.OPEN,(function(){l||bf("Connection","WebChannel transport opened.")})),h(s,df.EventType.CLOSE,(function(){l||(l=!0,bf("Connection","WebChannel transport closed"),f.io())})),h(s,df.EventType.ERROR,(function(e){l||(l=!0,Af("Connection","WebChannel transport errored:",e),f.io(new Tf(Cf.UNAVAILABLE,"The operation could not be completed")))})),h(s,df.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];If(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vp[e];if(void 0!==t)return Kp(t)}(a),u=i.message;void 0===o&&(o=Cf.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Tf(o,u)),s.close()}else bf("Connection","WebChannel received:",n),f.ro(n)}})),h(a,lf.STAT_EVENT,(function(e){e.stat===ff.PROXY?bf("Connection","Detected buffering proxy"):e.stat===ff.NOPROXY&&bf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);bf("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return bf("RestConnection","Received: ",e),e}),(function(t){throw Af("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Xg[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function $g(){return"undefined"!=typeof window?window:null}function ek(){return"undefined"!=typeof document?document:null}function tk(e){return new bv(e,!0)}var nk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&bf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),rk=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nk(t,n)}return y(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Cf.RESOURCE_EXHAUSTED?(wf(n.toString()),wf("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Cf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Tf(Cf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return bf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(bf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ik=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return y(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ef()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(If(void 0===t||"string"==typeof t),Nh.fromBase64String(t||"")):(If(void 0===t||t instanceof Uint8Array),Nh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Cf.UNKNOWN:Kp(e.code);return new Tf(t,e.message||"")}(o);n=new hv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Tv(e,s.document.name),l=Ev(s.document.updateTime),f=s.document.createTime?Ev(s.document.createTime):Hf.min(),h=new Md({mapValue:{fields:s.document.fields}}),d=jd.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new lv(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Tv(e,m.document),g=m.readTime?Ev(m.readTime):Hf.min(),k=jd.newNoDocument(y,g),b=m.removedTargetIds||[];n=new lv([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var A=Tv(e,w.document),x=w.removedTargetIds||[];n=new lv([],x,A,null)}else{if(!("filter"in t))return Ef();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new Gp(I),C=E.targetId;n=new fv(C,S)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Hf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Hf.min():t.readTime?Ev(t.readTime):Hf.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Dv(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=zd(r)?{documents:jv(e,r)}:{query:Bv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Av(e,t.resumeToken):t.snapshotVersion.compareTo(Hf.min())>0&&(n.readTime=wv(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ef()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Dv(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(rk),ak=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return y(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,ir(b(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(If(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(If(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ev(e.updateTime):Ev(t);return n.isEqual(Hf.min())&&(n=Ev(t)),new Cp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ev(e.commitTime);return this.listener.Zo(n,t)}return If(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Dv(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mv(t.yt,e)}))};this.Bo(n)}}]),n}(rk),ok=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return y(n,[{key:"su",value:function(){if(this.nu)throw new Tf(Cf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tf(Cf.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Tf(Cf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return y((function e(){d(this,e)}))}());var uk=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return y(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(wf(t),this.ou=!1):bf("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),sk=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kk(o),!e.t0){e.next=5;break}return bf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sf(t))._u.add(4),e.next=4,fk(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,ck(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new uk(r,i)}));function ck(e){return lk.apply(this,arguments)}function lk(){return lk=_t(Ct().mark((function e(t){var n,r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kk(t)){e.next=18;break}n=C(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),lk.apply(this,arguments)}function fk(e){return hk.apply(this,arguments)}function hk(){return hk=_t(Ct().mark((function e(t){var n,r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),hk.apply(this,arguments)}function dk(e,t){var n=Sf(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),gk(n)?yk(n):Wk(n).ko()&&vk(n,t))}function pk(e,t){var n=Sf(e),r=Wk(n);n.du.delete(t),r.ko()&&mk(n,t),0===n.du.size&&(r.ko()?r.Fo():kk(n)&&n.gu.set("Unknown"))}function vk(e,t){e.yu.Ot(t.targetId),Wk(e).zo(t)}function mk(e,t){e.yu.Ot(t),Wk(e).Ho(t)}function yk(e){e.yu=new pv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Wk(e).start(),e.gu.uu()}function gk(e){return kk(e)&&!Wk(e).No()&&e.du.size>0}function kk(e){return 0===Sf(e)._u.size}function bk(e){e.yu=void 0}function wk(e){return Ak.apply(this,arguments)}function Ak(){return Ak=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){vk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}function xk(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bk(t),gk(t)?(t.gu.hu(n),yk(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Ik(e,t,n){return Sk.apply(this,arguments)}function Sk(){return Sk=_t(Ct().mark((function e(t,n,r){var i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof hv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ck(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof lv?t.yu.Kt(n):n instanceof fv?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Hf.min())){e.next=29;break}return e.prev=14,e.next=17,xg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Nh.EMPTY_BYTE_STRING,n.snapshotVersion)),mk(e,t);var r=new Tm(n.target,t,1,n.sequenceNumber);vk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ck(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Sk.apply(this,arguments)}function Ck(e,t,n){return Tk.apply(this,arguments)}function Tk(){return Tk=_t(Ct().mark((function e(t,n,r){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ph(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,fk(t);case 5:t.gu.set("Offline"),r||(r=function(){return xg(t.localStore)}),t.asyncQueue.enqueueRetryable(_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,ck(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function _k(e,t){return t().catch((function(n){return Ck(e,n,t)}))}function Nk(e){return Dk.apply(this,arguments)}function Dk(){return Dk=_t(Ct().mark((function e(t){var n,r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sf(t),r=Yk(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Rk(n)){e.next=19;break}return e.prev=3,e.next=6,Sg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Ok(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ck(n,e.t0);case 17:e.next=2;break;case 19:Pk(n)&&Lk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Dk.apply(this,arguments)}function Rk(e){return kk(e)&&e.fu.length<10}function Ok(e,t){e.fu.push(t);var n=Yk(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Pk(e){return kk(e)&&!Yk(e).No()&&e.fu.length>0}function Lk(e){Yk(e).start()}function Mk(e){return Uk.apply(this,arguments)}function Uk(){return Uk=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yk(t).eu();case 1:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function jk(e){return Bk.apply(this,arguments)}function Bk(){return Bk=_t(Ct().mark((function e(t){var n,r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yk(t),r=C(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function Fk(e,t,n){return Vk.apply(this,arguments)}function Vk(){return Vk=_t(Ct().mark((function e(t,n,r){var i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Sm.from(i,n,r),e.next=3,_k(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nk(t);case 5:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function qk(e,t){return zk.apply(this,arguments)}function zk(){return zk=_t(Ct().mark((function e(t,n){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Yk(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qp(i=n.code)||i===Cf.ABORTED){e.next=7;break}return r=t.fu.shift(),Yk(t).Mo(),e.next=5,_k(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Pk(t)&&Lk(t);case 5:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Hk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sf(t)).asyncQueue.verifyOperationInProgress(),bf("RemoteStore","RemoteStore received new credentials"),i=kk(r),r._u.add(3),e.next=6,fk(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,ck(r);case 12:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,ck(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,fk(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Wk(e){return e.pu||(e.pu=function(e,t,n){var r=Sf(e);return r.su(),new ik(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:wk.bind(null,e),Zr:xk.bind(null,e),Wo:Ik.bind(null,e)}),e.wu.push(function(){var t=_t(Ct().mark((function t(n){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),gk(e)?yk(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:bk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Yk(e){return e.Iu||(e.Iu=function(e,t,n){var r=Sf(e);return r.su(),new ak(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Mk.bind(null,e),Zr:qk.bind(null,e),tu:jk.bind(null,e),Zo:Fk.bind(null,e)}),e.wu.push(function(){var t=_t(Ct().mark((function t(n){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Nk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(bf("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Xk=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _f,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tf(Cf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Jk(e,t){if(wf("AsyncQueue","".concat(t,": ").concat(e)),ph(e))return new Tf(Cf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Zk=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Yf.comparator(e.key,n.key)}:function(e,t){return Yf.comparator(e.key,t.key)},this.keyedMap=Zp(),this.sortedSet=new _d(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),$k=function(){function e(){d(this,e),this.Tu=new _d(Yf.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ef():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),eb=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),tb=y((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),nb=y((function e(){d(this,e),this.queries=new Wp((function(e){return ap(e)}),ip),this.onlineState="Unknown",this.Ru=new Set}));function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=_t(Ct().mark((function e(t,n){var r,i,a,o,u;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new tb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Jk(e.t0,"Initialization of query '".concat(op(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&cb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ib.apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=_t(Ct().mark((function e(t,n){var r,i,a,o,u;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function ub(e,t){var n,r=Sf(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&cb(r)}function sb(e,t,n){var r=Sf(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function cb(e){e.Ru.forEach((function(e){e.next()}))}var lb=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new eb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=eb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),fb=function(){function e(t,n){d(this,e),this.ku=t,this.byteLength=n}return y(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),hb=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"Ji",value:function(e){return Tv(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Pv(this.yt,e.document,!1):jd.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Ev(e)}}]),e}(),db=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pb(t)}return y(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Qf.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new hb(this.yt),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||av()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pg(this.localStore,new hb(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Mg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function pb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var vb=y((function e(t){d(this,e),this.key=t})),mb=y((function e(t){d(this,e),this.key=t})),yb=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=av(),this.mutatedKeys=av(),this.Gu=cp(t),this.Qu=new Zk(this.Gu)}return y(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new $k,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=up(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ef()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new eb(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $k,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=av(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new mb(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new vb(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=av();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return eb.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),gb=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),kb=y((function e(t){d(this,e),this.key=t,this.nc=!1})),bb=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Wp((function(e){return ap(e)}),ip),this.rc=new Map,this.oc=new Set,this.uc=new _d(Yf.comparator),this.cc=new Map,this.ac=new eg,this.hc={},this.lc=new Map,this.fc=Ny.vn(),this.onlineState="Unknown",this.dc=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function wb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pw(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Cg(r.localStore,tp(n));case 8:return u=e.sent,r.isPrimaryClient&&dk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,xb(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function xb(e,t,n,r,i){return Eb.apply(this,arguments)}function Eb(){return Eb=_t(Ct().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=_t(Ct().mark((function e(t,n,r,i){var a,o,u;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Ng(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Hb(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ng(t.localStore,n,!0);case 3:return o=e.sent,u=new yb(n,o.Hi),s=u.Wu(o.documents),c=cv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Hb(t,r,l.Xu),f=new gb(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function Ib(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=_t(Ct().mark((function e(t,n){var r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ip(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Tg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),pk(r.remoteStore,i.targetId),qb(r,i.targetId)})).catch(uh);case 9:e.next=14;break;case 11:return qb(r,i.targetId),e.next=14,Tg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Cb(e,t,n){return Tb.apply(this,arguments)}function Tb(){return Tb=_t(Ct().mark((function e(t,n,r){var i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Sf(e),a=zf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),av());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Xp(),s=av();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Pp(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Up(c.key,l,Ud(l.value.mapValue),Tp.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$p(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new _d(Ff)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Kb(i,a.changes);case 9:return e.next=11,Nk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Jk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Tb.apply(this,arguments)}function _b(e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.prev=1,e.next=4,Eg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(If(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?If(n.nc):e.removedDocuments.size>0&&(If(n.nc),n.nc=!1))})),e.next=8,Kb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Nb.apply(this,arguments)}function Db(e,t,n){var r=Sf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&cb(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Rb(e,t,n){return Ob.apply(this,arguments)}function Ob(){return Ob=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s,c;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new _d(Yf.comparator)).insert(o,jd.newNoDocument(o,Hf.min())),s=av().add(o),c=new sv(Hf.min(),new Map,new Rd(Ff),u,s),e.next=9,_b(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Qb(i),e.next=16;break;case 14:return e.next=16,Tg(i.localStore,n,!1).then((function(){return qb(i,n,r)})).catch(uh);case 16:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Pb(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=_t(Ct().mark((function e(t,n){var r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=n.batch.batchId,e.prev=1,e.next=4,Ag(r.localStore,n);case 4:return a=e.sent,Vb(r,i,null),Fb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Kb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Lb.apply(this,arguments)}function Mb(e,t,n){return Ub.apply(this,arguments)}function Ub(){return Ub=_t(Ct().mark((function e(t,n,r){var i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sf(t),e.prev=1,e.next=4,function(e,t){var n=Sf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return If(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Vb(i,n,r),Fb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Kb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ub.apply(this,arguments)}function jb(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=_t(Ct().mark((function e(t,n){var r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kk((r=Sf(t)).remoteStore)||bf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Sf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Jk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Bb.apply(this,arguments)}function Fb(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Vb(e,t,n){var r=Sf(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function qb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||zb(e,t)}))}function zb(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(pk(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Qb(e))}function Hb(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof vb?(e.ac.addReference(a.key,t),Gb(e,a)):a instanceof mb?(bf("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||zb(e,a.key)):Ef()}}catch(o){i.e(o)}finally{i.f()}}function Gb(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(bf("SyncEngine","New document in limbo: "+n),e.oc.add(r),Qb(e))}function Qb(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Yf(Qf.fromString(t)),r=e.fc.next();e.cc.set(r,new kb(n)),e.uc=e.uc.insert(n,r),dk(e.remoteStore,new Tm(tp(Yd(n.path)),r,2,wh.at))}}function Kb(e,t,n){return Wb.apply(this,arguments)}function Wb(){return Wb=_t(Ct().mark((function e(t,n,r){var i,a,o,u;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sf(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=mg.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ch.forEach(n,(function(t){return ch.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ch.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ph(e.t0)){e.next=10;break}throw e.t0;case 10:bf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Yb(e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Sf(t)).currentUser.isEqual(n)){e.next=11;break}return bf("SyncEngine","User change. New user:",n.toKey()),e.next=5,bg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Tf(Cf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Kb(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function Jb(e,t){var n=Sf(e),r=n.cc.get(t);if(r&&r.nc)return av().add(r.key);var i=av(),a=n.rc.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Zb(e,t){return $b.apply(this,arguments)}function $b(){return $b=_t(Ct().mark((function e(t,n){var r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.next=3,Ng(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Hb(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function ew(e,t){return tw.apply(this,arguments)}function tw(){return tw=_t(Ct().mark((function e(t,n){var r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.abrupt("return",Rg(r.localStore,n).then((function(e){return Kb(r,e)})));case 2:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t,n,r){return rw.apply(this,arguments)}function rw(){return rw=_t(Ct().mark((function e(t,n,r,i){var a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sf(t),e.next=3,function(e,t){var n=Sf(e),r=Sf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ch.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Nk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Vb(a,n,i||null),Fb(a,n),function(e,t){Sf(Sf(e).mutationQueue).An(t)}(a.localStore,n)):Ef();case 11:return e.next=13,Kb(a,o);case 13:e.next=16;break;case 15:bf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pw(r=Sf(t)),vw(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ow(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Qk(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,dk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return qb(r,t),Tg(r.localStore,t,!0)})),pk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ow(r,c);case 21:return function(e){var t=Sf(e);t.cc.forEach((function(e,n){pk(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new _d(Yf.comparator)}(r),r.dc=!1,e.next=25,Qk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t,n){return uw.apply(this,arguments)}function uw(){return uw=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Sf(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Cg(i.localStore,tp(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Zb(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Dg(i.localStore,c);case 36:return y=e.sent,e.next=39,Cg(i.localStore,y);case 39:return l=e.sent,e.next=42,xb(i,sw(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),uw.apply(this,arguments)}function sw(e){return Wd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cw(e){var t=Sf(e);return Sf(Sf(t.localStore).persistence).vi()}function lw(e,t,n,r){return fw.apply(this,arguments)}function fw(){return fw=_t(Ct().mark((function e(t,n,r,i){var a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Sf(t)).dc){e.next=3;break}return e.abrupt("return",void bf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Rg(a.localStore,sp(o[0]));case 10:return u=e.sent,s=sv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Nh.EMPTY_BYTE_STRING),e.next=14,Kb(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Tg(a.localStore,n,!0);case 17:return qb(a,n,i),e.abrupt("break",20);case 19:Ef();case 20:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t,n){return dw.apply(this,arguments)}function dw(){return dw=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=pw(t)).dc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return bf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Dg(i.localStore,u);case 12:return s=e.sent,e.next=15,Cg(i.localStore,s);case 15:return c=e.sent,e.next=18,xb(i,sw(s),c.targetId,!1,c.resumeToken);case 18:dk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Tg(i.localStore,t,!1).then((function(){pk(i.remoteStore,t),qb(i,t)})).catch(uh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),dw.apply(this,arguments)}function pw(e){var t=Sf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rb.bind(null,t),t.sc.Wo=ub.bind(null,t.eventManager),t.sc.wc=sb.bind(null,t.eventManager),t}function vw(e){var t=Sf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mb.bind(null,t),t}function mw(e,t,n){var r=Sf(e);(function(){var e=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Sf(e),r=Ev(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(pb(i)),a=new db(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Kb(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Sf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Af("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var yw=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=tk(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return kg(this.persistence,new yg,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new og(sg.Bs,this.yt)}},{key:"gc",value:function(e){return new Kg}},{key:"terminate",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gw=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=_t(Ct().mark((function e(t){var r=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,vw(this.Ac.syncEngine);case 6:return e.next=8,Nk(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return kg(this.persistence,new yg,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Uy(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new bh(t,this.persistence);return new kh(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=vg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ay.withCacheSize(this.cacheSizeBytes):Ay.DEFAULT;return new hg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$g(),ek(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Kg}}]),n}(yw),kw=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=_t(Ct().mark((function e(t){var r,i=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Qg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:nw.bind(null,r),$r:lw.bind(null,r),Br:hw.bind(null,r),vi:cw.bind(null,r),Mr:ew.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iw(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=$g();if(!Qg.C(t))throw new Tf(Cf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(gw),bw=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=_t(Ct().mark((function e(t,n){var r=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Db(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Yb.bind(null,this.syncEngine),e.next=12,Qk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new nb}},{key:"createDatastore",value:function(e){var t,n=tk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Zg(t));return function(e,t,n,r){return new ok(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Db(o.syncEngine,e,0)},a=Yg.C()?new Yg:new Wg,new sk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new bb(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),bf("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,fk(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ww(e,t,n){if(!n)throw new Tf(Cf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Aw(e,t,n,r){if(!0===t&&!0===r)throw new Tf(Cf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xw(e){if(!Yf.isDocumentKey(e))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ew(e){if(Yf.isDocumentKey(e))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Iw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ef()}function Sw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tf(Cf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Iw(e);throw new Tf(Cf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Cw(e,t){if(t<=0)throw new Tf(Cf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Tw=new Map,_w=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tf(Cf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tf(Cf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Aw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Nw=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new Tf(Cf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tf(Cf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Df;switch(e.type){case"gapi":var t=e.client;return new Lf(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Tf(Cf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Tw.get(e);t&&(bf("ComponentProvider","Removing Datastore"),Tw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Dw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Sw(e,Nw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Af("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=mf.MOCK_USER;else{o=ct(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Tf(Cf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mf(s)}e._authCredentials=new Rf(new Nf(o,u))}}var Rw=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Pw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ow=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Pw=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,Yd(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Rw(this.firestore,null,new Yf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ow);function Lw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=St(e),ww("collection","path",t),e instanceof Nw){var a=Qf.fromString.apply(Qf,[t].concat(r));return Ew(a),new Pw(e,null,a)}if(!(e instanceof Rw||e instanceof Pw))throw new Tf(Cf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qf.fromString.apply(Qf,[t].concat(r)));return Ew(o),new Pw(e.firestore,null,o)}function Mw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=St(e),1===arguments.length&&(t=Bf.R()),ww("doc","path",t),e instanceof Nw){var a=Qf.fromString.apply(Qf,[t].concat(r));return xw(a),new Rw(e,null,new Yf(a))}if(!(e instanceof Rw||e instanceof Pw))throw new Tf(Cf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qf.fromString.apply(Qf,[t].concat(r)));return xw(o),new Rw(e.firestore,e instanceof Pw?e.converter:null,new Yf(o))}function Uw(e,t){return e=St(e),t=St(t),(e instanceof Rw||e instanceof Pw)&&(t instanceof Rw||t instanceof Pw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jw(e,t){return e=St(e),t=St(t),e instanceof Ow&&t instanceof Ow&&e.firestore===t.firestore&&ip(e._query,t._query)&&e.converter===t.converter}function Bw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return _t(Ct().mark((function r(){var i;return Ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return _t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fw=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):wf("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Vw=function(){function e(t,n){var r=this;d(this,e),this.Pc=t,this.yt=n,this.metadata=new _f,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=_t(Ct().mark((function e(){var t,n,r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new fb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=_t(Ct().mark((function e(){var t,n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=_t(Ct().mark((function e(){var t,n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qw=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=_t(Ct().mark((function e(t){var n,r=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Tf(Cf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=Dv(r.yt)+"/documents",a={documents:n.map((function(e){return Cv(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Lv(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());If(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=_t(Ct().mark((function e(){var t,n=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yf.fromPath(t);n.mutations.push(new Hp(r,n.precondition(r)))})),e.next=7,function(){var e=_t(Ct().mark((function e(t,n){var r,i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=Dv(r.yt)+"/documents",a={writes:n.map((function(e){return Mv(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ef();t=Hf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tf(Cf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hf.min())?Tp.exists(!1):Tp.updateTime(t):Tp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hf.min()))throw new Tf(Cf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tp.updateTime(t)}return Tp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zw=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new nk(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(_t(Ct().mark((function t(){var n,r;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qw(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qp(t)}return!1}}]),e}(),Hw=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mf.UNAUTHENTICATED,this.clientId=Bf.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=_t(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tf(Cf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _f;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_t(Ct().mark((function n(){var r;return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Jk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Gw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Kw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=_t(Ct().mark((function e(t,n){var r,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Yw(t);case 3:return r=e.sent,bf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Yw(e){return Xw.apply(this,arguments)}function Xw(){return Xw=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return bf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Gw(t,new yw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e){return Zw.apply(this,arguments)}function Zw(){return Zw=_t(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return bf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Kw(t,new bw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function $w(e){return Yw(e).then((function(e){return e.persistence}))}function eA(e){return Yw(e).then((function(e){return e.localStore}))}function tA(e){return Jw(e).then((function(e){return e.remoteStore}))}function nA(e){return Jw(e).then((function(e){return e.syncEngine}))}function rA(e){return Jw(e).then((function(e){return e.datastore}))}function iA(e){return aA.apply(this,arguments)}function aA(){return aA=_t(Ct().mark((function e(t){var n,r;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=wb.bind(null,n.syncEngine),r.onUnlisten=Ib.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function i(){return Ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fw({next:function(a){t.enqueueAndForget((function(){return ab(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Tf(Cf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Tf(Cf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new lb(Yd(n.path),a,{includeMetadataChanges:!0,Nu:!0});return rb(e,o)},i.next=3,iA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function uA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function i(){return Ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fw({next:function(n){t.enqueueAndForget((function(){return ab(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Tf(Cf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new lb(n,a,{includeMetadataChanges:!0,Nu:!0});return rb(e,o)},i.next=3,iA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sA=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nk(this,"async_queue_retry"),this.Wc=function(){var e=ek();e&&bf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=ek();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return y(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=ek();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new _f;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=_t(Ct().mark((function e(){var t=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ph(e.t0)){e.next=12;break}throw e.t0;case 12:bf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Xk.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Ef()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=_t(Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=C(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function cA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var lA=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new _f,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),fA=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new sA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||dA(this),this._firestoreClient.terminate()}}]),n}(Nw);function hA(e){return e._firestoreClient||dA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ah(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function pA(e,t,n){var r=new _f;return e.asyncQueue.enqueue(_t(Ct().mark((function i(){var a;return Ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Gw(e,n);case 3:return i.next=5,Kw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Cf.FAILED_PRECONDITION||e.code===Cf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Af("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function vA(e){return function(e){return e.asyncQueue.enqueue(_t(Ct().mark((function t(){var n,r;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$w(e);case 2:return n=t.sent,t.next=5,tA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Sf(e);return t._u.delete(0),ck(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(hA(e=Sw(e,fA)))}function mA(e){return function(e){return e.asyncQueue.enqueue(_t(Ct().mark((function t(){var n,r;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$w(e);case 2:return n=t.sent,t.next=5,tA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sf(t))._u.add(0),e.next=4,fk(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(hA(e=Sw(e,fA)))}function yA(e,t){var n=hA(e=Sw(e,fA)),r=new lA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Vw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Bw(e,t);if(e instanceof ArrayBuffer)return Bw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,tk(t));e.asyncQueue.enqueueAndForget(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mw,t.next=3,nA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function gA(e,t){return function(e,t){return e.asyncQueue.enqueue(_t(Ct().mark((function n(){return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Sf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,eA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(hA(e=Sw(e,fA)),t).then((function(t){return t?new Ow(e,null,t.query):null}))}function kA(e){if(e._initialized||e._terminated)throw new Tf(Cf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bA=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nh.fromBase64String(t))}catch(t){throw new Tf(Cf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nh.fromUint8Array(t))}}]),e}(),wA=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wf(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var AA=y((function e(t){d(this,e),this._methodName=t})),xA=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Tf(Cf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tf(Cf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ff(this._lat,e._lat)||Ff(this._long,e._long)}}]),e}(),EA=/^__.*__$/,IA=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Up(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mp(e,this.data,t,this.fieldTransforms)}}]),e}(),SA=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new Up(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function CA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ef()}}var TA=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return WA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(CA(this.sa)&&EA.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),_A=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||tk(t)}return y(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new TA({sa:e,methodName:t,fa:n,path:Wf.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function NA(e){var t=e._freezeSettings(),n=tk(e._databaseId);return new _A(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);HA("Data must be an object, but it was:",o,r);var u,s,c=qA(r,o);if(a.merge)u=new Ld(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=GA(t,d,n);if(!o.contains(p))throw new Tf(Cf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));YA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ld(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new IA(new Md(c),u,s)}var RA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(AA);function OA(e,t,n){return new TA({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var PA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new Sp(e.path,new gp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(AA),LA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=OA(this,e,!0),n=this._a.map((function(e){return VA(e,t)})),r=new kp(n);return new Sp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AA),MA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=OA(this,e,!0),n=this._a.map((function(e){return VA(e,t)})),r=new wp(n);return new Sp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AA),UA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wa=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new xp(e.yt,dp(e.yt,this.wa));return new Sp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AA);function jA(e,t,n,r){var i=e.da(1,t,n);HA("Data must be an object, but it was:",i,r);var a=[],o=Md.empty();Ih(r,(function(e,r){var u=KA(t,e,n);r=St(r);var s=i.ca(u);if(r instanceof RA)a.push(u);else{var c=VA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ld(a);return new SA(o,u,i.fieldTransforms)}function BA(e,t,n,r,i,a){var o=e.da(1,t,n),u=[GA(t,r,n)],s=[i];if(a.length%2!=0)throw new Tf(Cf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(GA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Md.empty(),h=u.length-1;h>=0;--h)if(!YA(l,u[h])){var d=u[h],p=s[h];p=St(p);var v=o.ca(d);if(p instanceof RA)l.push(d);else{var m=VA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ld(l);return new SA(f,y,o.fieldTransforms)}function FA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VA(n,e.da(r?4:3,t))}function VA(e,t){if(zA(e=St(e)))return HA("Unsupported field value:",t,e),qA(e,t);if(e instanceof AA)return function(e,t){if(!CA(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=VA(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=St(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dp(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zf.fromDate(e);return{timestampValue:wv(t.yt,n)}}if(e instanceof zf){var r=new zf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wv(t.yt,r)}}if(e instanceof xA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bA)return{bytesValue:Av(t.yt,e._byteString)};if(e instanceof Rw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Iv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Iw(e)))}(e,t)}function qA(e,t){var n={};return Sh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ih(e,(function(e,r){var i=VA(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zf||e instanceof xA||e instanceof bA||e instanceof Rw||e instanceof AA)}function HA(e,t,n){if(!zA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Iw(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function GA(e,t,n){if((t=St(t))instanceof wA)return t._internalPath;if("string"==typeof t)return KA(e,t);throw WA("Field path arguments must be of type string or ",e,!1,void 0,n)}var QA=new RegExp("[~\\*/\\[\\]]");function KA(e,t,n){if(t.search(QA)>=0)throw WA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(wA,h(t.split(".")))._internalPath}catch(r){throw WA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Tf(Cf.INVALID_ARGUMENT,u+e+s)}function YA(e,t){return e.some((function(e){return e.isEqual(t)}))}var XA=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Rw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new JA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ZA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),JA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return ir(b(n.prototype),"data",this).call(this)}}]),n}(XA);function ZA(e,t){return"string"==typeof t?KA(e,t):t instanceof wA?t._internalPath:t._delegate._internalPath}function $A(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tf(Cf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ex=y((function e(){d(this,e)})),tx=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(ex);function nx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ex&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ix})).length,n=e.filter((function(e){return e instanceof rx})).length;if(t>1||t>0&&n>0)throw new Tf(Cf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var rx=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return mx(e._query,t),new Ow(e.firestore,e.converter,np(e._query,t))}},{key:"_parse",value:function(e){var t=NA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vx(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(px(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=px(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vx(o,a),u=FA(n,"where",o,"in"===a||"not-in"===a);return cd.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tx);var ix=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ld.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;mx(r,a),r=np(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Ow(e.firestore,e.converter,np(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ex);var ax=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cd(t,n);return function(e,t){if(null===Jd(e)){var n=Zd(e);null!==n&&yx(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Ow(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Kd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tx);var ox=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new Ow(e.firestore,e.converter,rp(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tx);var ux=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=dx(e,this.type,this._docOrFields,this._inclusive);return new Ow(e.firestore,e.converter,function(e,t){return new Kd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tx);function sx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ux._create("startAt",t,!0)}function cx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ux._create("startAfter",t,!1)}var lx=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=dx(e,this.type,this._docOrFields,this._inclusive);return new Ow(e.firestore,e.converter,function(e,t){return new Kd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tx);function fx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lx._create("endBefore",t,!1)}function hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lx._create("endAt",t,!0)}function dx(e,t,n,r){if(n[0]=St(n[0]),n[0]instanceof XA)return function(e,t,n,r,i){if(!r)throw new Tf(Cf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(ep(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kh(t,r.key));else{var c=r.data.field(s.field);if(Lh(c))throw new Tf(Cf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ad(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=NA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Tf(Cf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$d(e)&&-1!==c.indexOf("/"))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qf.fromString(c));if(!Yf.isDocumentKey(l))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yf(l);u.push(Kh(t,f))}else{var h=FA(n,r,c);u.push(h)}}return new ad(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function px(e,t,n){if("string"==typeof(n=St(n))){if(""===n)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$d(t)&&-1!==n.indexOf("/"))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qf.fromString(n));if(!Yf.isDocumentKey(r))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kh(e,new Yf(r))}if(n instanceof Rw)return Kh(e,n._key);throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Iw(n),"."))}function vx(e,t){if(!Array.isArray(e)||0===e.length)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mx(e,t){if(t.isInequality()){var n=Zd(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Jd(e);null!==i&&yx(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function yx(e,t,n){if(!n.isEqual(t))throw new Tf(Cf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var gx=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ph(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ef()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ih(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new xA(Oh(e.latitude),Oh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Mh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Rh(e);return new zf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qf.fromString(e);If(Yv(n));var r=new xh(n.get(1),n.get(3)),i=new Yf(n.popFirst(5));return r.isEqual(t)||wf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var bx=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new bA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rw(this.firestore,null,t)}}]),n}(gx),wx=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ax=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return y(n,[{key:"exists",value:function(){return ir(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ZA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(XA),xx=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ir(b(n.prototype),"data",this).call(this,e)}}]),n}(Ax),Ex=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wx(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xx(n._firestore,n._userDataWriter,r.key,r,new wx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tf(Cf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ix(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ix(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ef()}}function Sx(e,t){return e instanceof Ax&&t instanceof Ax?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ex&&t instanceof Ex&&e._firestore===t._firestore&&jw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Cx=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new bA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rw(this.firestore,null,t)}}]),n}(gx);function Tx(e){e=Sw(e,Rw);var t=Sw(e.firestore,fA),n=hA(t),r=new Cx(t);return function(e,t){var n=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function r(){return Ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(Ct().mark((function e(t,n,r){var i,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Sf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Tf(Cf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Jk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ax(t,r,e._key,n,new wx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _x(e){e=Sw(e,Ow);var t=Sw(e.firestore,fA),n=hA(t),r=new Cx(t);return function(e,t){var n=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function r(){return Ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(Ct().mark((function e(t,n,r){var i,a,o,u,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ng(t,n,!0);case 3:i=e.sent,a=new yb(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Jk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ex(t,r,e,n)}))}function Nx(e,t,n){e=Sw(e,Rw);var r=Sw(e.firestore,fA),i=kx(e.converter,t,n);return Px(r,[DA(NA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Tp.none())])}function Dx(e,t,n){e=Sw(e,Rw);for(var r=Sw(e.firestore,fA),i=NA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Px(r,[("string"==typeof(t=St(t))||t instanceof wA?BA(i,"updateDoc",e._key,t,n,o):jA(i,"updateDoc",e._key,t)).toMutation(e._key,Tp.exists(!0))])}function Rx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=St(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||cA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(cA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Rw)l=Sw(e.firestore,fA),f=Yd(e._key.path),c={next:function(t){n[s]&&n[s](Lx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Sw(e,Ow);l=Sw(p.firestore,fA),f=p._query;var v=new Cx(l);c={next:function(e){n[s]&&n[s](new Ex(l,v,p,e))},error:n[s+1],complete:n[s+2]},$A(e._query)}return function(e,t,n,r){var i=new Fw(r),a=new lb(t,i,n);return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rb,t.next=3,iA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ab,t.next=3,iA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hA(l),f,h,c)}function Ox(e,t){return function(e,t){var n=new Fw(t);return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sf(e).Ru.add(t),t.next()},t.next=3,iA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(_t(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sf(e).Ru.delete(t)},t.next=3,iA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hA(e=Sw(e,fA)),cA(t)?t:{next:t})}function Px(e,t){return function(e,t){var n=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function r(){return Ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Cb,r.next=3,nA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(hA(e),t)}function Lx(e,t,n){var r=n.docs.get(t._key),i=new Cx(e);return new Ax(e,i,t._key,r,new wx(n.hasPendingWrites,n.fromCache),t.converter)}var Mx={maxAttempts:5},Ux=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=NA(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jx(e,this._firestore),i=kx(r.converter,t,n),a=DA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Tp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=St(t))||t instanceof wA?BA(this._dataReader,"WriteBatch.update",i._key,t,n,o):jA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Tp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jx(e,this._firestore);return this._mutations=this._mutations.concat(new zp(t._key,Tp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Tf(Cf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jx(e,t){if((e=St(e)).firestore!==t)throw new Tf(Cf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Bx=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=jx(e,this._firestore),i=new Cx(this._firestore);return ir(b(n.prototype),"get",this).call(this,e).then((function(e){return new Ax(t._firestore,i,r._key,e._document,new wx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=NA(t)}return y(e,[{key:"get",value:function(e){var t=this,n=jx(e,this._firestore),r=new bx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ef();var i=e[0];if(i.isFoundDocument())return new XA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new XA(t._firestore,r,n._key,null,n.converter);throw Ef()}))}},{key:"set",value:function(e,t,n){var r=jx(e,this._firestore),i=kx(r.converter,t,n),a=DA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=St(t))||t instanceof wA?BA(this._dataReader,"Transaction.update",i._key,t,n,o):jA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Fx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LA("arrayUnion",t)}function Vx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yf=e}(Sn),kn(new Nt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new fA(new Of(e.getProvider("auth-internal")),new Uf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tf(Cf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Rn(vf,"3.8.1",e),Rn(vf,"3.8.1","esm2017")}();function qx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function zx(){if("undefined"===typeof Uint8Array)throw new Tf("unimplemented","Uint8Arrays are not available in this environment.")}function Hx(){if("undefined"==typeof atob)throw new Tf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Gx=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return Hx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return zx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Hx(),new e(bA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return zx(),new e(bA.fromUint8Array(t))}}]),e}();function Qx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Kx=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){kA(e=Sw(e,fA));var n=hA(e),r=e._freezeSettings(),i=new bw;return pA(n,i,new gw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){kA(e=Sw(e,fA));var t=hA(e),n=e._freezeSettings(),r=new bw;return pA(t,r,new kw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Tf(Cf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _f;return e._queue.enqueueAndForgetEvenWhileRestricted(_t(Ct().mark((function n(){return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=_t(Ct().mark((function e(t){var n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fh.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(vg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Wx=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xh||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Af("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return vA(this._delegate)}},{key:"disableNetwork",value:function(){return mA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Aw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function n(){return Ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=jb,n.next=3,nA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(hA(e=Sw(e,fA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ox(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Tf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sE(this,Lw(this._delegate,e))}catch(t){throw eE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new $x(this,Mw(this._delegate,e))}catch(t){throw eE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aE(this,function(e,t){if(e=Sw(e,Nw),ww("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tf(Cf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ow(e,null,function(e){return new Kd(Qf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Sw(e,fA);var r=Object.assign(Object.assign({},Mx),n);return function(e){if(e.maxAttempts<1)throw new Tf(Cf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new _f;return e.asyncQueue.enqueueAndForget(_t(Ct().mark((function i(){var a;return Ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,rA(e);case 2:a=i.sent,new zw(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(hA(e),(function(n){return t(new Bx(e,n))}),r)}(this._delegate,(function(n){return e(new Xx(t,n))}))}},{key:"batch",value:function(){var e=this;return hA(this._delegate),new Jx(new Ux(this._delegate,(function(t){return Px(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return yA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return gA(this._delegate,e).then((function(e){return e?new aE(t,e):null}))}}]),e}(),Yx=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new Gx(new bA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return $x.forKey(t,this.firestore,null)}}]),n}(gx);var Xx=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Yx(t)}return y(e,[{key:"get",value:function(e){var t=this,n=cE(e);return this._delegate.get(n).then((function(e){return new rE(t._firestore,new Ax(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cE(e);return n?(qx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cE(e);return this._delegate.delete(t),this}}]),e}(),Jx=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=cE(e);return n?(qx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Zx=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new xx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Yx(t),n),i.set(n,a)),a}}]),e}();Zx.INSTANCES=new WeakMap;var $x=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yx(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sE(this.firestore,Lw(this._delegate,e))}catch(t){throw eE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=St(e))instanceof Rw&&Uw(this._delegate,e)}},{key:"set",value:function(e,t){t=qx("DocumentReference.set",t);try{return t?Nx(this._delegate,e,t):Nx(this._delegate,e)}catch(n){throw eE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Dx(this._delegate,e):Dx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Px(Sw(e.firestore,fA),[new zp(e._key,Tp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tE(n),a=nE(n,(function(t){return new rE(e.firestore,new Ax(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Rx(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Tx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sw(e,Rw);var t=Sw(e.firestore,fA);return oA(hA(t),e._key,{source:"server"}).then((function(n){return Lx(t,e,n)}))}(this._delegate):function(e){e=Sw(e,Rw);var t=Sw(e.firestore,fA);return oA(hA(t),e._key).then((function(n){return Lx(t,e,n)}))}(this._delegate),t.then((function(e){return new rE(n.firestore,new Ax(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Zx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Tf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Rw(n._delegate,r,new Yf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Rw(n._delegate,r,t))}}]),e}();function eE(e,t,n){return e.message=e.message.replace(t,n),e}function tE(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Qx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Qx(e[0])?e[0]:Qx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rE=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new $x(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Sx(this._delegate,e._delegate)}}]),e}(),iE=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ef()}(void 0!==t),t}}]),n}(rE),aE=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yx(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nx(this._delegate,function(e,t,n){var r=t,i=ZA("where",e);return rx._create(i,r,n)}(t,n,r)))}catch(i){throw eE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=ZA("orderBy",e);return ax._create(r,n)}(t,n)))}catch(r){throw eE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nx(this._delegate,function(e){return Cw("limit",e),ox._create("limit",e,"F")}(t)))}catch(n){throw eE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nx(this._delegate,function(e){return Cw("limitToLast",e),ox._create("limitToLast",e,"L")}(t)))}catch(n){throw eE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,nx(this._delegate,sx.apply(void 0,arguments)))}catch(t){throw eE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nx(this._delegate,cx.apply(void 0,arguments)))}catch(t){throw eE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nx(this._delegate,fx.apply(void 0,arguments)))}catch(t){throw eE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nx(this._delegate,hx.apply(void 0,arguments)))}catch(t){throw eE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_x(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sw(e,Ow);var t=Sw(e.firestore,fA),n=hA(t),r=new Cx(t);return uA(n,e._query,{source:"server"}).then((function(n){return new Ex(t,r,e,n)}))}(this._delegate):function(e){e=Sw(e,Ow);var t=Sw(e.firestore,fA),n=hA(t),r=new Cx(t);return $A(e._query),uA(n,e._query).then((function(n){return new Ex(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uE(n.firestore,new Ex(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tE(n),a=nE(n,(function(t){return new uE(e.firestore,new Ex(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Rx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Zx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oE=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uE=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new aE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Sx(this._delegate,e._delegate)}}]),e}(),sE=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new $x(this.firestore,e):null}},{key:"doc",value:function(e){try{return new $x(this.firestore,void 0===e?Mw(this._delegate):Mw(this._delegate,e))}catch(t){throw eE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Sw(e.firestore,fA),r=Mw(e),i=kx(e.converter,t);return Px(n,[DA(NA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Tp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new $x(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Uw(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Zx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aE);function cE(e){return Sw(e,Rw)}var lE,fE=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(wA,n)}return y(e,[{key:"isEqual",value:function(e){return(e=St(e))instanceof wA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Wf.keyField().canonicalString())}}]),e}(),hE=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new PA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new RA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Fx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Vx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new UA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dE={Firestore:Wx,GeoPoint:xA,Timestamp:zf,Blob:Gx,Transaction:Xx,WriteBatch:Jx,DocumentReference:$x,DocumentSnapshot:rE,Query:aE,QueryDocumentSnapshot:iE,QuerySnapshot:uE,CollectionReference:sE,FieldPath:fE,FieldValue:hE,setLogLevel:function(e){!function(e){gf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Nt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dE)))})(lE=nr,(function(e,t){return new Wx(e,t,new Kx)})),lE.registerVersion("@firebase/firestore-compat","0.3.1");var pE="firebasestorage.googleapis.com",vE="storageBucket",mE=function(e){k(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,yE(e),"Firebase Storage: ".concat(r," (").concat(yE(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(A(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return yE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(dt);function yE(e){return"storage/"+e}function gE(){return new mE("unknown","An unknown error occurred, please check the error payload for server response.")}function kE(){return new mE("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function bE(){return new mE("canceled","User canceled the upload/download.")}function wE(){return new mE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function AE(e){return new mE("invalid-argument",e)}function xE(){return new mE("app-deleted","The Firebase app was deleted.")}function EE(e){return new mE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function IE(e,t){return new mE("invalid-format","String does not match format '"+e+"': "+t)}function SE(e){throw new mE("internal-error","Internal error: "+e)}var CE,TE=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new mE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===pE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new mE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),_E=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function NE(e){return"string"===typeof e||e instanceof String}function DE(e){return RE()&&e instanceof Blob}function RE(){return"undefined"!==typeof Blob&&!ft()}function OE(e,t,n,r){if(r<t)throw AE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw AE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function PE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function LE(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ME(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(CE||(CE={}));var UE=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=gE();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?xE():bE());else i(kE())}};this.canceled_?t(0,new jE(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new jE(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===CE.NO_ERROR,a=r.getStatus();if(!n||ME(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===CE.ABORT;t(!1,new jE(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new jE(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),jE=y((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function BE(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function FE(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function VE(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qE(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function zE(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=LE(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return VE(c,t),BE(c,n),FE(c,a),qE(c,r),new UE(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function HE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GE(){for(var e=HE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(RE())return new Blob(n);throw new mE("unsupported-environment","This browser doesn't seem to support creating Blobs")}function QE(e){if("undefined"===typeof atob)throw new mE("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var KE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},WE=y((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function YE(e,t){switch(e){case KE.RAW:return new WE(XE(t));case KE.BASE64:case KE.BASE64URL:return new WE(JE(e,t));case KE.DATA_URL:return new WE(function(e){var t=new ZE(e);return t.base64?JE(KE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw IE(KE.DATA_URL,"Malformed data URL.")}return XE(t)}(t.rest)}(t),new ZE(t).contentType)}throw gE()}function XE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function JE(e,t){switch(e){case KE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw IE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case KE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw IE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=QE(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw IE(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var ZE=y((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw IE(KE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var $E=function(){function e(t,n){d(this,e);var r=0,i="";DE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(DE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(RE()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(GE.apply(null,i))}var a=n.map((function(e){return NE(e)?YE(KE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function eI(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function tI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function nI(e,t){return t}var rI=y((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||nI})),iI=null;function aI(){if(iI)return iI;var e=[];e.push(new rI("bucket")),e.push(new rI("generation")),e.push(new rI("metageneration")),e.push(new rI("name","fullPath",!0));var t=new rI("name");t.xform=function(e,t){return function(e){return!NE(e)||e.length<2?e:tI(e)}(t)},e.push(t);var n=new rI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rI("timeCreated")),e.push(new rI("updated")),e.push(new rI("md5Hash",null,!0)),e.push(new rI("cacheControl",null,!0)),e.push(new rI("contentDisposition",null,!0)),e.push(new rI("contentEncoding",null,!0)),e.push(new rI("contentLanguage",null,!0)),e.push(new rI("contentType",null,!0)),e.push(new rI("metadata","customMetadata",!0)),iI=e}function oI(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new TE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function uI(e,t,n){var r=eI(t);return null===r?null:oI(e,r,n)}function sI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var cI="prefixes",lI="items";function fI(e,t,n){var r=eI(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[cI]){var i,a=C(n[cI]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new TE(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[lI]){var s,c=C(n[lI]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new TE(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var hI=y((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function dI(e){if(!e)throw gE()}function pI(e,t){return function(n,r){var i=uI(e,r,t);return dI(null!==i),i}}function vI(e,t){return function(n,r){var i=uI(e,r,t);return dI(null!==i),function(e,t,n,r){var i=eI(t);if(null===i)return null;if(!NE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return PE("/b/"+o(i)+"/o/"+o(a),n,r)+LE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function mI(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new mE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new mE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new mE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new mE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function yI(e){var t=mI(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new mE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function gI(e,t,n){var r=PE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new hI(r,"GET",pI(e,n),i);return a.errorHandler=yI(t),a}function kI(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=PE(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new hI(o,"GET",function(e,t){return function(n,r){var i=fI(e,t,r);return dI(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=mI(t),s}function bI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function wI(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=bI(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sI(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=$E.getBlob(c,r,l);if(null===f)throw wE();var h={name:s.fullPath},d=PE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new hI(d,"POST",pI(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=mI(t),v}var AI=y((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function xI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){dI(!1)}return dI(!!n&&-1!==(t||["active"]).indexOf(n)),n}var EI=262144;function II(e,t,n,r,i,a,o,u){var s=new AI(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new mE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw wE();var v=t.maxUploadRetryTime,m=new hI(n,"POST",(function(e,n){var i,o=xI(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?pI(t,a)(e,n):null,new AI(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=mI(e),m}var SI={STATE_CHANGED:"state_changed"},CI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TI(e){switch(e){case"running":case"pausing":case"canceling":return CI.RUNNING;case"paused":return CI.PAUSED;case"success":return CI.SUCCESS;case"canceled":return CI.CANCELED;default:return CI.ERROR}}var _I=y((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function NI(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var DI=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=CE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=CE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=CE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return y(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw SE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw SE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw SE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw SE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw SE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),RI=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(DI);function OI(){return new RI}var PI=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=aI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(ME(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=kE()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return y(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=bI(t,r,i),u={name:o.fullPath},s=PE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=sI(o,n),f=e.maxUploadRetryTime,h=new hI(s,"POST",(function(e){var t;xI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){dI(!1)}return dI(NE(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=mI(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,OI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new hI(n,"POST",(function(e){var t=xI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){dI(!1)}n||dI(!1);var i=Number(n);return dI(!isNaN(i)),new AI(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=mI(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,OI,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=EI*this._chunkMultiplier,n=new AI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=II(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,OI,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(EI*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=gI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,OI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=wI(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,OI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=bE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=TI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new _I(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(TI(this._state)){case CI.SUCCESS:NI(this._resolve.bind(null,this.snapshot))();break;case CI.CANCELED:case CI.ERROR:NI(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(TI(this._state)){case CI.RUNNING:case CI.PAUSED:e.next&&NI(e.next.bind(e,this.snapshot))();break;case CI.SUCCESS:e.complete&&NI(e.complete.bind(e))();break;default:e.error&&NI(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),LI=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof TE?n:TE.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new TE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return tI(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new TE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw EE(e)}}]),e}();function MI(e,t,n){return UI.apply(this,arguments)}function UI(){return(UI=_t(Ct().mark((function e(t,n,r){var i,a,o,u;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,jI(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,h(u.prefixes)),(a=n.items).push.apply(a,h(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,MI(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jI(e,t){null!=t&&"number"===typeof t.maxResults&&OE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=kI(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,OI)}function BI(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=PE(t.fullServerUrl(),e.host,e._protocol),a=sI(n,r),o=e.maxOperationRetryTime,u=new hI(i,"PATCH",pI(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=yI(t),u}(e.storage,e._location,t,aI());return e.storage.makeRequestWithTokens(n,OI)}function FI(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=PE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new hI(r,"GET",vI(e,n),i);return a.errorHandler=yI(t),a}(e.storage,e._location,aI());return e.storage.makeRequestWithTokens(t,OI).then((function(e){if(null===e)throw new mE("no-download-url","The given file does not have any download URLs.");return e}))}function VI(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=PE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new hI(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=yI(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,OI)}function qI(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new TE(e._location.bucket,n);return new LI(e.storage,r)}function zI(e,t){if(e instanceof KI){var n=e;if(null==n._bucket)throw new mE("no-default-bucket","No default bucket found. Did you set the '"+vE+"' property when initializing the app?");var r=new LI(n,n._bucket);return null!=t?zI(r,t):r}return void 0!==t?qI(e,t):e}function HI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof KI)return new LI(e,t);throw AE("To use ref(service, url), the first argument must be a Storage instance.")}return zI(e,t)}function GI(e,t){var n=null===t||void 0===t?void 0:t[vE];return null==n?null:TE.makeFromBucketSpec(n,e)}function QI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ct(i,e.app.options.projectId))}var KI=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=pE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?TE.makeFromBucketSpec(i,this._host):GI(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=TE.makeFromBucketSpec(this._url,e):this._bucket=GI(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){OE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){OE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=_t(Ct().mark((function e(){var t,n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_t(Ct().mark((function e(){var t,n;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new LI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new _E(xE());var o=zE(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=_t(Ct().mark((function e(t,n){var r,i,a,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),WI="@firebase/storage",YI="0.10.1",XI="storage";function JI(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new PI(e,new $E(t),n)}(e=St(e),t,n)}function ZI(e){return function(e){e._throwIfRoot("getMetadata");var t=gI(e.storage,e._location,aI());return e.storage.makeRequestWithTokens(t,OI)}(e=St(e))}function $I(e){return function(e){var t={prefixes:[],items:[]};return MI(e,t).then((function(){return t}))}(e=St(e))}function eS(e,t){return HI(e=St(e),t)}function tS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};QI(e,t,n,r)}function nS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new KI(r,i,a,n,Sn)}kn(new Nt(XI,nS,"PUBLIC").setMultipleInstances(!0)),Rn(WI,YI,""),Rn(WI,YI,"esm2017");var rS=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return y(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),iS=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return y(e,[{key:"snapshot",get:function(){return new rS(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new rS(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new rS(e,i,i._ref))}:{next:t.next?function(e){return t.next(new rS(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),aS=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return y(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new oS(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new oS(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),oS=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return y(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return qI(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new iS(JI(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=YE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new iS(new PI(this._delegate,new $E(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return $I(this._delegate).then((function(t){return new aS(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return jI(e=St(e),t)}(this._delegate,e||void 0).then((function(e){return new aS(e,t.storage)}))}},{key:"getMetadata",value:function(){return ZI(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return BI(e=St(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return FI(St(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),VI(St(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw EE(e)}}]),e}(),uS=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return y(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(sS(e))throw AE("ref() expected a child path but got a URL, use refFromURL instead.");return new oS(eS(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!sS(e))throw AE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{TE.makeFromUrl(e,this._delegate.host)}catch(t){throw AE("refFromUrl() expected a valid full URL but got an invalid one.")}return new oS(eS(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tS(this._delegate,e,t,n)}}]),e}();function sS(e){return/^[A-Za-z]+:\/\//.test(e)}function cS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new uS(r,i)}!function(e){var t={TaskState:CI,TaskEvent:SI,StringFormat:KE,Storage:uS,Reference:oS};e.INTERNAL.registerComponent(new Nt("storage-compat",cS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.2.1")}(nr);var lS=nr.initializeApp({apiKey:"AIzaSyDt3FxzF1AJwPOi8G5nOl9DgILtkqyQMYU",authDomain:"book--cart.firebaseapp.com",projectId:"book--cart",storageBucket:"book--cart.appspot.com",messagingSenderId:"1011235815575",appId:"1:1011235815575:web:34fc3c830a2e3338c7e9d2",measurementId:"G-PQVMKEHZ0R"}),fS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=bn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Ar(e,{popupRedirectResolver:eu,persistence:[Xa,Ia,Ca]}),r=ut("authTokenSyncURL");if(r){var i=cu(r);ba(n,i,(function(){return i(n.currentUser)})),ka(n,(function(e){return i(e)}))}var a=at("auth");return a&&Ri(n,"http://".concat(a)),n}(lS),hS=new oa,dS=lS.firestore(),pS=nr.storage(),vS=function(){!function(e,t,n){ho.apply(this,arguments)}(fS,hS)},mS=function(){!function(e){St(e).signOut()}(fS)};var yS=function(e){var t=e.userId,n=e.userPic;return console.log(n),(0,Ye.jsxs)("div",{id:"sideNav",children:[(0,Ye.jsx)(Ge,{to:"/",children:(0,Ye.jsx)("img",{className:"sideNavlogo",src:"data:image/png;base64,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",alt:"BookCart logo"})}),(0,Ye.jsxs)("div",{id:"sideNavMenu",children:[(0,Ye.jsx)(Ge,{to:"/",className:"sideNavItems",id:"nav_home",children:(0,Ye.jsx)("svg",{className:"sideNavOptions",viewBox:"0 0 37 31",xmlns:"http://www.w3.org/2000/svg",children:(0,Ye.jsx)("path",{d:"M17.9762 1.70561e-06C17.5509 1.70561e-06 16.6129 0.261902 15.9217 0.804745L0.0089403 14.6255C-0.0260826 14.8461 0.0428078 15.07 0.197781 15.2405C0.352756 15.4107 0.708289 15.9798 0.948193 15.9844C1.42229 16.1029 1.97857 16.1483 2.14142 15.9844L18.0157 2.44382C18.1222 2.36008 18.5029 2.24951 18.4898 2.24951C18.4466 2.24951 18.6695 2.25438 18.8429 2.29802C19.016 2.34165 19.1841 2.42431 19.2089 2.44383L34.609 15.9844C34.7719 16.1483 35.5572 16.8346 36.0313 16.4688C36.5054 16.1029 36.8245 15.6702 36.9795 15.5C36.9979 15.4799 37.0145 15.2362 36.9795 15.0156L20.6527 0.804743C20.3104 0.535898 19.3145 0.0783241 19.0034 1.70561e-06C17.9762 -2.13201e-06 18.2254 1.70561e-06 17.9762 1.70561e-06ZM5.08734 15.3137C4.86553 15.317 4.65393 15.4018 4.49954 15.5498C4.34486 15.6978 4.26022 15.8967 4.26372 16.1029V30.223C4.26372 30.6523 4.63817 31 5.10046 31H31.8785C32.3408 31 32.7152 30.6523 32.7152 30.223V16.1029C32.7184 15.8948 32.6317 15.6945 32.4744 15.5463C32.3171 15.398 32.1026 15.3148 31.8785 15.3148C31.6546 15.3148 30.2483 15.398 30.091 15.5463C29.9337 15.6945 29.7858 15.8948 29.789 16.1029V22.634V28.3571H7.19047V22.634V16.1029C7.26949 15.1342 5.31383 15.3105 5.08734 15.3137Z"})})}),(0,Ye.jsx)(Ge,{to:"category",className:"sideNavItems",id:"nav_category",children:(0,Ye.jsx)("svg",{className:"sideNavOptions",viewBox:"0 0 40 37",xmlns:"http://www.w3.org/2000/svg",children:(0,Ye.jsx)("path",{d:"M14.6154 0H3.84615C2.82655 0.0012706 1.84888 0.376416 1.12774 1.04316C0.406928 1.71022 0.00140659 2.61456 0 3.55769V13.5192C0.00137363 14.4624 0.406937 15.3667 1.12774 16.0338C1.84889 16.7005 2.82655 17.0756 3.84615 17.0769H14.6154C15.635 17.0757 16.6127 16.7005 17.3338 16.0338C18.0546 15.3667 18.4601 14.4624 18.4615 13.5192V3.55769C18.4602 2.61456 18.0546 1.71021 17.3338 1.04316C16.6126 0.376408 15.635 0.0013011 14.6154 0ZM16.9231 13.5192C16.9231 14.0853 16.6799 14.6285 16.2473 15.0287C15.8146 15.4288 15.2273 15.6538 14.6154 15.6538H3.8462C3.23425 15.6538 2.64699 15.4289 2.21437 15.0287C1.78176 14.6284 1.53855 14.0852 1.53855 13.5192V3.55769C1.53855 2.99164 1.78168 2.44842 2.21437 2.04826C2.64707 1.64809 3.23433 1.42312 3.8462 1.42312H14.6154C15.2274 1.42312 15.8146 1.64801 16.2473 2.04826C16.6799 2.4485 16.9231 2.99171 16.9231 3.55769V13.5192ZM36.1538 0H25.3846C24.365 0.0012706 23.3873 0.376416 22.6662 1.04316C21.9454 1.71022 21.5399 2.61456 21.5385 3.55769V13.5192C21.5398 14.4624 21.9454 15.3667 22.6662 16.0338C23.3874 16.7005 24.365 17.0756 25.3846 17.0769H36.1538C37.1735 17.0757 38.1511 16.7005 38.8723 16.0338C39.5931 15.3667 39.9986 14.4624 40 13.5192V3.55769C39.9986 2.61456 39.5931 1.71021 38.8723 1.04316C38.1511 0.376408 37.1735 0.0013011 36.1538 0ZM38.4615 13.5192C38.4615 14.0853 38.2184 14.6285 37.7857 15.0287C37.353 15.4288 36.7658 15.6538 36.1539 15.6538H25.3847C24.7727 15.6538 24.1855 15.4289 23.7528 15.0287C23.3202 14.6284 23.077 14.0852 23.077 13.5192V3.55769C23.077 2.99164 23.3201 2.44842 23.7528 2.04826C24.1855 1.64809 24.7728 1.42312 25.3847 1.42312H36.1539C36.7658 1.42312 37.3531 1.64801 37.7857 2.04826C38.2183 2.4485 38.4615 2.99171 38.4615 3.55769V13.5192ZM14.6154 19.9231H3.84615C2.82655 19.9243 1.84888 20.2995 1.12774 20.9662C0.406928 21.6333 0.00140659 22.5376 0 23.4808V33.4423C0.00137363 34.3854 0.406937 35.2898 1.12774 35.9568C1.84889 36.6236 2.82655 36.9987 3.84615 37H14.6154C15.635 36.9987 16.6127 36.6236 17.3338 35.9568C18.0546 35.2898 18.4601 34.3854 18.4615 33.4423V23.4808C18.4602 22.5376 18.0546 21.6333 17.3338 20.9662C16.6126 20.2995 15.635 19.9244 14.6154 19.9231ZM16.9231 33.4423C16.9231 34.0084 16.6799 34.5516 16.2473 34.9517C15.8146 35.3519 15.2273 35.5769 14.6154 35.5769H3.8462C3.23425 35.5769 2.64699 35.352 2.21437 34.9517C1.78176 34.5515 1.53855 34.0083 1.53855 33.4423V23.4808C1.53855 22.9147 1.78168 22.3715 2.21437 21.9713C2.64707 21.5712 3.23433 21.3462 3.8462 21.3462H14.6154C15.2274 21.3462 15.8146 21.5711 16.2473 21.9713C16.6799 22.3716 16.9231 22.9148 16.9231 23.4808V33.4423ZM30.7692 19.9231C28.3211 19.9231 25.9732 20.8226 24.2421 22.424C22.511 24.0253 21.5385 26.197 21.5385 28.4615C21.5385 30.7261 22.5109 32.8979 24.2421 34.4991C25.9733 36.1004 28.3211 37 30.7692 37C33.2174 37 35.5653 36.1005 37.2963 34.4991C39.0274 32.8978 40 30.7261 40 28.4615C39.9973 26.1976 39.024 24.0275 37.2936 22.4265C35.5628 20.8258 33.2167 19.9256 30.7692 19.9231ZM30.7692 35.5769C28.7291 35.5769 26.7727 34.8273 25.33 33.4928C23.8874 32.1584 23.0769 30.3487 23.0769 28.4615C23.0769 26.5744 23.8874 24.7647 25.33 23.4303C26.7727 22.0958 28.7291 21.3462 30.7692 21.3462C32.8094 21.3462 34.7658 22.0958 36.2084 23.4303C37.6511 24.7647 38.4615 26.5744 38.4615 28.4615C38.4591 30.3481 37.648 32.1567 36.2061 33.4906C34.7641 34.8245 32.8087 35.5747 30.7692 35.5769Z"})})}),(0,Ye.jsx)(Ge,{to:"seller",className:"sideNavItems",id:"nav_seller",children:(0,Ye.jsx)("svg",{className:"sideNavOptions",viewBox:"0 0 35 32",xmlns:"http://www.w3.org/2000/svg",children:(0,Ye.jsx)("path",{d:"M25.6155 16.6012L25.0514 11.036C24.9915 10.4454 24.6946 9.92389 24.2512 9.55071C23.81 9.17939 23.2203 8.95414 22.5739 8.95414H20.8827V12.9273C20.8827 13.3441 20.5163 13.6828 20.0654 13.6828C19.6145 13.6828 19.2481 13.3441 19.2481 12.9273V8.95414H8.87211V12.9273C8.87211 13.3441 8.5057 13.6828 8.0548 13.6828C7.60394 13.6828 7.23749 13.3441 7.23749 12.9273V8.95414H5.54628C4.89991 8.95414 4.31116 9.17826 3.86899 9.55071C3.42557 9.9241 3.12869 10.4444 3.06758 11.036L1.64021 25.1207C1.60593 25.4595 1.64245 25.7775 1.74802 26.0699C1.8526 26.3601 2.02997 26.6338 2.27913 26.8855C2.52581 27.1363 2.80378 27.3241 3.10808 27.4484C3.41139 27.5719 3.74923 27.635 4.11763 27.635H18.9897C18.4586 26.6198 18.1608 25.481 18.1608 24.278C18.1608 22.1457 19.0955 20.2149 20.6074 18.8175C21.9193 17.6048 23.6674 16.7928 25.614 16.6004L25.6155 16.6012ZM25.8816 19.885C26.0311 19.7151 26.2597 19.6055 26.5163 19.6055C26.7726 19.6055 27.0014 19.7142 27.151 19.885L29.8902 22.6266C30.1948 22.9328 30.1734 23.4099 29.842 23.6924C29.5109 23.9739 28.9947 23.9542 28.6891 23.6478L27.3333 22.2909V28.1949C27.3333 28.6117 26.9669 28.9504 26.516 28.9504C26.0651 28.9504 25.6987 28.6117 25.6987 28.1949V22.2909L24.3418 23.6478C24.0373 23.9539 23.5203 23.9737 23.1889 23.6924C22.8578 23.4109 22.8364 22.933 23.1408 22.6266L25.8816 19.885ZM21.0867 27.9382C21.2919 28.1979 21.5185 28.443 21.7641 28.67C22.9798 29.7939 24.6594 30.4892 26.5153 30.4892C28.3712 30.4892 30.0505 29.7939 31.2664 28.67C32.4822 27.5462 33.2344 25.9937 33.2344 24.278C33.2344 22.5624 32.4822 21.0101 31.2664 19.886C30.0507 18.7622 28.3712 18.0669 26.5153 18.0669C24.6594 18.0669 22.9801 18.7622 21.7641 19.886C20.5484 21.0098 19.7962 22.5624 19.7962 24.278C19.7962 25.646 20.2749 26.912 21.0857 27.9382H21.0867ZM20.0312 29.1461H4.1187C3.5235 29.1461 2.96479 29.0396 2.45082 28.829C1.93686 28.6196 1.47529 28.3084 1.07363 27.9006C0.672939 27.4946 0.382302 27.0413 0.203921 26.5475C0.0265514 26.0556 -0.0353003 25.5323 0.0191043 24.9841L1.44647 10.8994C1.54584 9.91568 2.03844 9.05246 2.77024 8.4352C3.50532 7.817 4.48079 7.44364 5.54599 7.44364H7.23721V6.30788C7.23721 4.57249 8.00428 2.99536 9.24042 1.85272C10.4766 0.710086 12.1829 0 14.0599 0C15.9372 0 17.6433 0.710027 18.8794 1.85272C20.1154 2.99542 20.8836 4.57279 20.8836 6.30788V7.44364H22.5748C23.64 7.44364 24.6155 7.81703 25.3505 8.4352C26.0833 9.05246 26.575 9.91568 26.6743 10.8994L27.2501 16.5852C29.264 16.7471 31.074 17.5699 32.4234 18.8173C33.9352 20.2148 34.87 22.1456 34.87 24.2778C34.87 26.4102 33.9353 28.341 32.4234 29.7374C30.9116 31.1349 28.8238 32 26.5173 32C24.2106 32 22.1219 31.1347 20.6103 29.7374C20.4073 29.5498 20.2138 29.3512 20.0322 29.1447L20.0312 29.1461ZM8.87171 7.44379H19.2477V6.30803C19.2477 4.98944 18.6632 3.79142 17.7232 2.92138C16.7829 2.05222 15.4859 1.51208 14.0596 1.51208C12.6332 1.51208 11.3372 2.05127 10.396 2.92138C9.45474 3.79148 8.87146 4.9895 8.87146 6.30803L8.87171 7.44379Z"})})}),(0,Ye.jsx)(Ge,{to:"recommend",className:"sideNavItems",id:"nav_recommend",children:(0,Ye.jsx)("svg",{className:"sideNavOptions",viewBox:"0 0 35 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ye.jsx)("path",{d:"M8.09153 0.00115527C8.09153 0.00115527 5.16285 0.209019 3.47782 0.719843C3.17248 0.812759 2.96677 1.0769 2.9678 1.37434V3.80984C2.09862 4.11541 1.23746 4.47869 0.394116 4.89324C0.149844 5.01321 -0.00205245 5.24886 2.09599e-05 5.50486V22.6705C0.00209106 22.9104 0.139496 23.1317 0.362292 23.2546C0.58483 23.3774 0.860667 23.3836 1.08964 23.2713C3.65425 22.0105 6.28947 21.2777 8.89111 21.2973H8.90276C12.0636 21.2973 14.9568 22.0574 16.7161 22.9172C16.8228 22.9718 16.9423 23.0012 17.0639 23.0031H17.806C17.9277 23.0012 18.0472 22.9718 18.1538 22.9172C19.9152 22.0565 22.8079 21.2866 25.9672 21.2866H25.9789C28.5807 21.2669 31.216 21.9997 33.7803 23.2605C34.0093 23.3729 34.2852 23.3666 34.5077 23.2438C34.7305 23.1212 34.8679 22.8997 34.87 22.6597V5.49407C34.8728 5.31039 34.7959 5.13318 34.6565 5.00219C34.517 4.87144 34.3268 4.79768 34.1281 4.79768C33.9293 4.79768 33.7392 4.87144 33.5997 5.00219C33.4602 5.13318 33.3834 5.31039 33.3862 5.49407V21.5758C30.9893 20.5365 28.4933 19.8962 25.967 19.9129C25.9631 19.9131 25.9592 19.9129 25.9553 19.9129C23.6854 19.9153 21.5864 20.2846 19.8346 20.8143C21.9086 19.7785 24.2209 19.2263 26.7086 19.2263C28.2493 19.2263 29.502 19.4486 30.9283 19.8808C31.1547 19.9498 31.4031 19.9139 31.5961 19.7841C31.7889 19.6545 31.9028 19.4469 31.902 19.2263V1.37409C31.903 1.07666 31.6973 0.812514 31.392 0.719586C29.859 0.255005 28.4064 0.000898023 26.7086 0.000898023C23.2831 0.000898023 20.1135 1.02587 17.4346 2.79031C14.7556 1.02587 11.586 0.000898023 8.16051 0.000898023C8.13723 -0.000299341 8.11482 -4.20914e-05 8.09153 0.00115527ZM8.16114 1.37428C11.3245 1.37428 14.2133 2.33243 16.6933 4.00277V20.117C14.1719 18.6478 11.2681 17.8532 8.16114 17.8532C6.82514 17.8532 5.64237 18.0527 4.45151 18.3468V1.92112C5.83355 1.60214 8.0517 1.3841 8.16114 1.37428ZM26.7093 1.37428C28.0598 1.37428 29.1996 1.5776 30.4189 1.91071V18.3468C29.228 18.0527 28.0452 17.8532 26.7093 17.8532C23.5904 17.8532 20.7044 18.6904 18.1771 20.1707V4.02393C20.6589 2.35047 23.5426 1.37428 26.7093 1.37428ZM2.96767 5.30098V19.2266C2.97051 19.4455 3.08592 19.6497 3.27818 19.7769C3.47044 19.9041 3.71678 19.9388 3.94141 19.8703C5.36769 19.4381 6.62035 19.2266 8.16104 19.2266C10.6674 19.2266 12.996 19.7779 15.0821 20.8251C13.3207 20.2906 11.203 19.9251 8.91475 19.924H8.90311C6.37679 19.9072 3.88081 20.5476 1.48387 21.5869V5.94469C1.97474 5.71432 2.47243 5.49927 2.96767 5.30098Z"})})}),(0,Ye.jsx)(Ge,{to:"about",className:"sideNavItems",id:"nav_about",children:(0,Ye.jsxs)("svg",{className:"sideNavOptions",viewBox:"0 0 34 34",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ye.jsx)("path",{d:"M16.7344 0C7.51719 0 0 7.51719 0 16.7344C0 25.9516 7.51719 33.4688 16.7344 33.4688C25.9516 33.4688 33.4688 25.9516 33.4688 16.7344C33.4688 7.51719 25.9516 0 16.7344 0ZM16.7344 31.3438C8.68594 31.3438 2.125 24.7828 2.125 16.7344C2.125 8.68594 8.68594 2.125 16.7344 2.125C24.7828 2.125 31.3438 8.68594 31.3438 16.7344C31.3438 24.7828 24.7828 31.3438 16.7344 31.3438Z"}),(0,Ye.jsx)("path",{d:"M17.7969 14.2109H15.6719V24.8359H17.7969V14.2109Z"}),(0,Ye.jsx)("path",{d:"M17.7969 9.16406H15.6719V11.2891H17.7969V9.16406Z"})]})})]}),t?(0,Ye.jsx)(Ge,{to:"user/".concat(t),children:(0,Ye.jsx)("img",{className:"sideNavlogo",src:n,alt:"user",title:"User Profile",style:{borderRadius:"50%"}})}):(0,Ye.jsx)("img",{className:"sideNavlogo",src:"data:image/png;base64,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",alt:"google logo",title:"Login or Signup using Google",onClick:vS})]})},gS=n.p+"static/media/laptop.4bc633a5107e85563f30.png";var kS=function(){return(0,Ye.jsxs)("section",{id:"home",children:[(0,Ye.jsxs)("div",{id:"homePagedetails",children:[(0,Ye.jsx)("h1",{children:"BOOKCART"}),(0,Ye.jsx)("h2",{className:"gradient_head",children:"WHERE OLD BOOKS COME ALIVE AGAIN"}),(0,Ye.jsx)("p",{id:"homeDetailp",children:"Your one-stop shop for buying and selling books. Whether you are looking for your next favorite read or looking to sell some of your gently used books, we've got you covered."}),(0,Ye.jsxs)("div",{className:"detailButtons",children:[(0,Ye.jsx)(Ge,{to:"/category/science",children:(0,Ye.jsx)("button",{children:"Explore"})}),(0,Ye.jsx)(Ge,{to:"/seller",children:(0,Ye.jsx)("button",{children:"Sell Now"})})]})]}),(0,Ye.jsx)("img",{src:gS,alt:"laptop"})]})},bS=n.p+"static/media/category.7b8de8c923f7ed1ab6fe.png",wS="data:image/png;base64,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",AS="data:image/png;base64,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",xS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAsCAYAAADxRjE/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVPSURBVHgB7VnNTxtHFH9je40xBLCBfBTIIUX0i6Iqf0CRovbeQ/+PSLlH6oEeOHGu1P+ihyqVolRUqkoamiKqJgpC7YHPxvkoOODY3nl5szuzM+Nde2eJc+OJ9c7Mm5n9zdvfe/NmATiXc+kqzKXT0sp3VwoeX8QWlMIWHutjt/jdFJHO7+iKOc+nv99u37y5BfCWoJeXly9AaeR7RPYVAyyiqUQE5zpqDSbUkYTmf9wo8C+/vXVrF3pIDlIkPzRUpfm/hiyABaAEwAg2YLNO1mME+8NiK38DUqSQ1qHVyjPGjMX10bqxOiBjHPPwtqBtPAinIxXYn1ug6fPABUBxcQmWY2hkeedc/MiyoVdlAghXnv0LF//fyQLDHTRKqzyfvgb/XftYgkXgfgguKBt37oeLUW0o28K6bq8XyhHoiC4pksppE3BQZky2qUtaWz5R3UHqAM2+eozSo4wFmi48FU8meoDxsODOwQCLkfU720HpAIxFoJrOMoqLuIE2nCt8iGlh28phUbebV8hv2/qWMzqCd6OHAR6UJTlYNNDgsQt14u1qPgtwOjsy0ENOWtn7B46ql8DP5SIqcK6pwTl00EQtEmP9GP1cfbb17ulRflmDj375IWyWuqhbWr0DXAws1X1IFwd6NBJ3um47W9Q1I2BEdAp3QjLTo+B5MD09DTmih2qr1+twcHAAYuu8dPkyDA0NRbpWqwU7OzvQbrdhbGwMJiYmiBcsiiiHh4dwdHQEWSQzPWZmZmB2drZDjQHoYmkAFhYWAvDm2CYB39vdhbm5ORgXoA2pVquwtramn+GnJ57p9GgYrxoxMS0UIAVwhmADDpWRHlh8NJNvLIsrpoJ+rQBLyebnalDvUbY23RXdcw+XPnimJanBzl3dNxdJj2NyGs7tHeD4+DgALJytTmVThCO+IkcV+rrsp3EivHzxwo5IDuLsiAq88Paf7tyxHmwCXF1djY1VPf7a3IRNupJ05nP6Axq0tYVTDQwMhM4ldW0CKwCLBRSLRcjndR4vcufXDYr19HYaLfIRXwMTM5SLdMJgkIkeTqDNjWJqago+mZ+3osTJyQn8fO8eeAT488XFALgSsZg/Hz4M3tDdbQ7bNRM0wAcXAb6Y1dRwOWlnooeQUqkUC2vlcjmcjCxsAhbi0WZULHpBudHEWCQ6DkIqM57T53w6bavtFj10CopxGgRV9m7p0bWPQywOF807xgnA+vTikJm6hTwTcKvZjAFsUpvqJzhsDw23ceg8EWB0CtCnlyC/hlTJfLAVyY8AYbK60WgEDzyl+/qDB1AaLIVMgDCy1J4+VbMk0CMbNZxBm5YVG8geAe+Mr4pCCqCVzqp6cNxJMmXemK/fB1uSSqUCn1ImF6SmUsSO+Pv9+1CkSPHZ9eswPDwc6QRd/lhfD3ZScxGRGAt2lUz5tJi2Oj5ugRIyODgY6POFAkxOTsZC4ujoaAgaE+iRRJl+gDbpwZLSS2N37KVHogdiQvQARScyjMN56wzfPbC3Pqk50qnLHoPKax0lc/RIisfRBxlZ7rQ2yqyQJVCBsWyAnUGbQA/29wMOM+WIpBO5h+gh4vXjR48CzqsR3PehVqsF9fn3PLgwwDRuWtvVSphc6bfRl0MAxWDwIoBHFCk2NjaiuhnaREzeevKk68n8/YlCcMX0/XbElu+h+CxDRsklxt4edROwrtt0sAGTW7JcqqlTt/ERz39OgH/kxsc5BPs0062OhuOq73sKcPRpTIOnCvvbz7XvpmFy+kfRNysrY+1T/wZv8xFb02EUnljULT1sSB/Y/TzDX5eWbm/DuZzL2eUN6Klt4f6V+fUAAAAASUVORK5CYII=",ES="data:image/png;base64,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",IS="data:image/png;base64,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",SS="data:image/png;base64,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",CS=n.p+"static/media/category_select.bdee0b4589446e0967ce.png";var TS=function(e){var t=e.books,n=Ae().catId,i=l((0,r.useState)([]),2),a=i[0],o=i[1],u={science:wS,programming:AS,mathematics:xS,growth:SS,novel:IS,literature:ES};return(0,r.useEffect)((function(){dS.collection("categories").doc(n).get().then((function(e){var t;return o(null===(t=e.data())||void 0===t?void 0:t.books)}))}),[n]),(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:"CATEGORIES"}),(0,Ye.jsxs)("div",{className:"boxAndLogo",children:[(0,Ye.jsxs)("div",{id:"book_category",className:"books_box",children:[(0,Ye.jsxs)(Ge,{to:"/category/science",className:"books_category",children:[(0,Ye.jsx)("img",{src:wS,alt:"Science"}),(0,Ye.jsx)("p",{children:"Science"})]}),(0,Ye.jsxs)(Ge,{to:"/category/programming",className:"books_category",children:[(0,Ye.jsx)("img",{src:AS,alt:"Programming"}),(0,Ye.jsx)("p",{children:"Programming"})]}),(0,Ye.jsxs)(Ge,{to:"/category/mathematics",className:"books_category",children:[(0,Ye.jsx)("img",{src:xS,alt:"Mathematics"}),(0,Ye.jsx)("p",{children:"Mathematics"})]}),(0,Ye.jsxs)(Ge,{to:"/category/growth",className:"books_category",children:[(0,Ye.jsx)("img",{src:SS,alt:"Growth"}),(0,Ye.jsx)("p",{children:"Growth"})]}),(0,Ye.jsxs)(Ge,{to:"/category/novel",className:"books_category",children:[(0,Ye.jsx)("img",{src:IS,alt:"Novel"}),(0,Ye.jsx)("p",{children:"Novel"})]}),(0,Ye.jsxs)(Ge,{to:"/category/literature",className:"books_category",children:[(0,Ye.jsx)("img",{src:ES,alt:"Literature"}),(0,Ye.jsx)("p",{children:"Literature"})]})]}),(0,Ye.jsx)("img",{src:bS,alt:"recommend logo",width:300})]}),(0,Ye.jsxs)("div",{children:[n?(0,Ye.jsxs)("div",{id:"bookByCategoryHead",children:[(0,Ye.jsx)("img",{src:u[n.toLowerCase()],alt:n}),(0,Ye.jsx)("p",{children:n[0].toUpperCase()+n.substring(1)})]}):(0,Ye.jsxs)("div",{className:"category_select",children:[(0,Ye.jsx)("img",{src:CS,alt:"category"}),(0,Ye.jsxs)("p",{children:["SELECT ",(0,Ye.jsx)("br",{})," CATEGORY ",(0,Ye.jsx)("br",{})," to BROWSE ",(0,Ye.jsx)("br",{})," BOOKS"]})]}),(0,Ye.jsx)("div",{id:"bookByCategory",children:null===a||void 0===a?void 0:a.map((function(e,n){var r,i,a,o,u=null===(r=t[e])||void 0===r?void 0:r.name;return(null===(i=u)||void 0===i?void 0:i.length)>21&&(u=u.substring(0,20)+"..."),(0,Ye.jsxs)(Ge,{to:"/book/".concat(e),target:"_blank",className:"bookOverview",children:[(0,Ye.jsx)("img",{src:null===(a=t[e])||void 0===a?void 0:a.bookFront,alt:"book"}),(0,Ye.jsx)("h2",{children:u}),(0,Ye.jsxs)("button",{children:["\u20b9",null===(o=t[e])||void 0===o?void 0:o.price]})]},n)}))})]})]})};var _S=function(e){var t=e.books,n=e.wishlist,i=e.setWishlist,a=e.user,o=parseInt(Ae().bookId);null!==n&&void 0!==n&&n.includes(o)?console.log("Book already in user wishlist"):console.log("Book not in user wishlist"),console.log("bookId :",o);var u=l((0,r.useState)({}),2),s=u[0],c=u[1];return(0,r.useEffect)((function(){c(t[o]);var e=document.querySelector(".currentBookPage"),n=document.querySelectorAll(".bookOptionImage"),r=n[0];e.setAttribute("src",r.getAttribute("src")),r.classList.add("bookDetailImageActive"),n.forEach((function(t){t.addEventListener("mouseenter",(function(){e.setAttribute("src",t.getAttribute("src")),r.classList.remove("bookDetailImageActive"),t.classList.add("bookDetailImageActive"),r=t}))}))}),[o,t]),(0,Ye.jsx)("section",{className:"bookDetailSection",children:(0,Ye.jsxs)("div",{className:"bookDetailsContainer",children:[(0,Ye.jsxs)("div",{className:"bookDetailsImages",children:[(0,Ye.jsxs)("div",{className:"bookDetailsImagesOption",children:[(0,Ye.jsx)("img",{className:"bookOptionImage",src:null===s||void 0===s?void 0:s.bookFront,alt:"book front"}),(0,Ye.jsx)("img",{className:"bookOptionImage",src:null===s||void 0===s?void 0:s.bookIndex,alt:"book index"}),(0,Ye.jsx)("img",{className:"bookOptionImage",src:null===s||void 0===s?void 0:s.bookMiddle,alt:"book middle"}),(0,Ye.jsx)("img",{className:"bookOptionImage",src:null===s||void 0===s?void 0:s.bookBack,alt:"book back"})]}),(0,Ye.jsx)("img",{className:"currentBookPage",src:null===s||void 0===s?void 0:s.bookFront,alt:"book front"})]}),(0,Ye.jsx)("div",{className:"bookDetailDivider"}),(0,Ye.jsxs)("div",{className:"bookDetailsAbout",children:[(0,Ye.jsx)("h1",{children:null===s||void 0===s?void 0:s.name}),(0,Ye.jsxs)("div",{className:"bookDetailsUser",children:[(0,Ye.jsxs)("div",{className:"bookDetailsUserLocation",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQTSURBVHgB7VdbaJNJFP4maRIbd12lyq6bRdBduhZZt+x2uwtbq/F+xQtWfOhDFaHiHVFQFPXJBxUVBGkFS2mLD8XiBeqFqoiiaL1BtQpaxPsNFVu1adIk4zc/BWP+xMy0xKd+ZfrPnDln5ps5Z85MgF70Ir0Q6CHkb/BgMH6FxABLEEUrgrgvrqEdPUC3iclC5JDEMo4whc1BLJkk52D7I+vPWOrZv1tcwCN0A90iRlJzSGI7q8NSqD7nDIvEORyDIRwwhCzAEpI6oEFKYTB1ay0bQxjtGCf4nxYNUG4zg4o3vziPRl2DDF1FWQQ3HbPBRkqik2SvslxBhH9O/MfYymPbFaPlZXuzBKYLZaEBfVe+gJ+DT4iTBlhWYRwKGEcrGeirOWIhp17R1Re7gDHsyYUmTGJsMuJ3WGIfCe8XW7hHXRBnESbBMlbr4uy91JqINBDLtknCTActzFqJILAtgfRfaMKEmD0eXzPqko98L4FU+9DoExNosckGYWhS/QhGJpA2QxP6xMI4Y00XCyfWJ1K1rilgU5xYndh6pIHYWQb7l+4RKJKjsF2O+exmq/4z1rA67QtdiQf4gMvQhFmCHcW7Edhj78BT/r/GZUZ48vI5qs+mE8VantYdSAuxCdyLDitO+sMMLzhTPnPdY10Do7tSNFivhp0wR4UJKQXjS5xZay9d90pbX+IWbYwXY0xMNOINrRZAHYfUCDO21lk26SZmYSxO8P9JDc0jvISOoxvQDv7a2tqfgsHgcCFEbiQSGZH15lHuxPqtea5QIKF+pzsTJ2dsvP4ua8h12jRHo9Fm2t0sKSl5yXbKF8bXiImKiopfXC7XVCnlXEWIsqxYm99vNeCfi1U2w6jDhUuFC3E/uyBWrMi0cqwrHKuOpb64uPhJssmTurKmpmae2+0+zWoZBxnP70DELaRl+Gg8GWJ/ybz05eDhsPx4sbLtz7HU06mMBE9VVVXNQhLYdqy8vNzl9Xq3srqcxYMU6Pv+NaYc2ow+HW1WuyOzH07M3IQP/X6EBoIkuos7Z7vabDvm8XiyuZqVOqQUPn4/EE15s+m+DKtcLijRJWVNx7kWV1ZWjojvsD1lnE5nBpVhgrs54/Add07SAY+H5sEQXs7pRSpi7e3tt+nKw6wWQRdCoOmvWYg61XBmvwjpyoM+n+9GvNzmytLS0k5iKY+3ytbvoYmwq4/lSgNCbfTMXqagxX6/35asv7o8nsw/OMB8kpyLRE9rQ3SFiHo61TkcjmoG/R0k+dWkte8cUFRXV//N6iQSHcn2n/wO4NfDrzokaqucSpeLiHDSMPvUb4EA+1XuusfSSPlRkmnqaYJNCt4CisQPgUBA5ba+nMitCklxfhliUg5R3hYKhd4y07fqEOlFL741PgEwjVkeYy7GwwAAAABJRU5ErkJggg==",alt:"location"}),(0,Ye.jsx)("p",{children:null===s||void 0===s?void 0:s.location})]}),(0,Ye.jsx)("ul",{children:(0,Ye.jsxs)("li",{children:["Sold by\xa0",(0,Ye.jsx)(Ge,{to:"/user/".concat(null===s||void 0===s?void 0:s.sellerId),target:"_blank",className:"bookDetailsUserInfo",children:null===s||void 0===s?void 0:s.seller})]})})]}),(0,Ye.jsxs)("div",{className:"bookDetailsPrice",children:[(0,Ye.jsxs)("div",{className:"bookDetailsCurrPrice",title:"Current price",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASsSURBVHgB7ZhbbFVFFIa/OW3VQriDomgR5OIDEVSCYCARFQOmitaGxERDQRI1JBofeDD4YLy8GEMiGG8xATVEoyktpG0kysVQo6U0oZFoSRUboKWEYiv26uk523/v3cRz23ufSw8v9E/mnJnZM7P/vdaaNbMWjOEahSEHWCco4jJTGKCEEHNVbiLKBPchffrtULuVYs6ylm5j915Nola9yHTzsKqlKqtU5vsMj6j8oXKYf6kR6WPmUa6QT6LWx4zjFsoll+fUXKnZITLDsMpPkvIuZlFtlhJOd2LaRK0qbqeADzXDluB4coElqkbSLWCLpHspnSmBRC1LY6plYYV8puYMRhMWbSrPmPX8GDQ0mGgVG0Tyc1WvJz+4KAPaSiNV5nVJ2gO+NmbtdyS5i/yRtGF7ig+4mxV+gzwlah1gjp4eV3U6VwOG8zKD5eYx2lM/TgHHP3ZwQE/X4oUlu8kKJzd5PzPs1TatMKsd75DwKAUkzWf1t8fX/ZRm6btrfLdFn975lCnlYOKDJCJWHRP1tzULHzkaGC97fdXambwnCpOGRhxHfi9BiJOM6kX6vqkrYeHbMHGx231O5tG8mQyxijtYov8GvIha9hstyvRbGLjctAeS+4Z1vLe+CXd9IuJTYdbTcKFSH9/3/5jLR/GFrckIGxOJxhmMdZAbdR7X4392u8iPjY4Q4bR5nDtju+LtMMxtGhRMMt8IscCqZWZsV7yKLealffr7uZkZj7hqt9H2PvQ0kRHsY3sY29A7SUmU+K/wxfk9qftvuFWGs92tRwdls9pcQ51kjAIdODFIlOj47G6omnSd7isz18Pcl+Vk5rndZz/NjqSNCJPxJGoyuIEHbabO/dCynawRiueSqPp/yBXhbvhzJ5x5V+6qlxzQE9tIlOjFtGUaHdJXjxwgkQFFR19B12H5ySNSd4dzkc0JISd8iWnGIqxAzI1xgtGwDgbOufWCYvc06j0Fg+25k7Q5RDmJJ1FLdybDadKBLbmfH5KCjrvtSffAUtnl9DXkDEOrHH4XnkQvKbaMcox00ScFNJXrmNzntotLRPYbmP2iXpZDJB7hUGJXHFHzvJRvqIXk+6AnbPU3V2jz7JBGNK1wEix6Dxa8oQWLyAJh+dDdvkQddPGdyNaTCYblLH7dptOqQvUrLsH5r8GyGl1OppAhvucMpwgiajYxqN6PZK8ZuirFZe174UQZ9Le5XfZRet+3MGFxekvYYfQw75iXGCKIqINiKiXVI2SDLplXgzZUb4vbnrwMltdpkz1IYNBrFJI/kVqb3sHdPqYpcmpUdQ7ZwLbV2S+4rstGpN89UsN/ec34TTmsFWYDf5MJUYdsLWukDOlzlBMPSS/iglS+zpTR7DXEPy5qlJtQJsNZKH/4Xetv9CNpIy1nZ1Vzvz7pS40uYTRh0aI1N9NEg1+WxEb6SbKvlX8bxw4tV55zhOp6lEo59lfMk/GXDy9kmnYs4mYnL7ptJKsXHATGwz5IflB5SxmRo5lMzC6RW6e4O8oizd6i/9XqWugz3L7k2L7qkGZ9odovqfxkXogmwgnELMU4RjnUiFLlIcd19zhXtX6a5XLSyoGOYQwp8B+gqk4e+qr1SwAAAABJRU5ErkJggg==",alt:"rupee"}),(0,Ye.jsx)("p",{children:null===s||void 0===s?void 0:s.price})]}),(0,Ye.jsxs)("p",{title:"Market price",children:["MRP : \u20b9",null===s||void 0===s?void 0:s.mrp]})]}),(0,Ye.jsxs)("div",{className:"bookDetailsDescription",children:[(0,Ye.jsx)("h3",{className:"gradient_head",children:"Description"}),(0,Ye.jsx)("p",{children:null===s||void 0===s?void 0:s.description})]}),(0,Ye.jsxs)("div",{className:"bookDetailsOthers",children:[(0,Ye.jsxs)("p",{children:[(0,Ye.jsx)("span",{children:"Publisher"})," ",null===s||void 0===s?void 0:s.publisher]}),(0,Ye.jsxs)("p",{children:[(0,Ye.jsx)("span",{children:"Edition(year)"})," ",null===s||void 0===s?void 0:s.edition]}),(0,Ye.jsxs)("p",{children:[(0,Ye.jsx)("span",{children:"Category"})," ",null===s||void 0===s?void 0:s.category]})]}),(0,Ye.jsxs)("div",{className:"bookDetailUserConnect",children:[(0,Ye.jsx)("a",{href:"https://t.me/".concat(null===s||void 0===s?void 0:s.telegram),target:"_blank",rel:"noreferrer",children:(0,Ye.jsxs)("button",{className:"bookDuserConnect telegramConnect",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,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",alt:"telegram"}),(0,Ye.jsxs)("p",{children:["Connect on ",(0,Ye.jsx)("span",{children:"Telegram"})]})]})}),(0,Ye.jsxs)("button",{className:"bookDuserConnect wishlist",onClick:function(){(null===n||void 0===n?void 0:n.indexOf(o))>-1?(i((function(e){var t=e.filter((function(e){return e!==o}));return dS.collection("users").doc(a).update({wishlist:t}),t})),console.log("Book removed from wishlist")):(i((function(e){var t=[].concat(h(e),[o]);return dS.collection("users").doc(a).update({wishlist:t}),t})),console.log("Book added to wishlist")),console.log("Wishlist Updated : ",n)},children:[(0,Ye.jsx)("img",{src:null!==n&&void 0!==n&&n.includes(o)?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVR4nO3aP0vDQBjH8RSL7dD30EUHfQtFRHwpBVuKoJtYHBzdEzp1cNPVP5CC6NRRd1+CODpWmq9EHpeau8b2krvi/eCW5nmOfLg2x7UNAh8fn1ID9IHnOaMfuBzgnPy5KPvmqsAZMAIeNGPM3zOeM+dIVrhqAnKM/RyZgAxtK4ChCcg+8GkRMQH2loYIZhtoAwcljzawZQTh41NwgJaFz0irCEhk4YkVeYgqfkWWSxSYjl+RFVyRD+AJeMtxg2nNo/Q4BXkHmlLXAO40tem1htQ2pdcZyGCmtqbApK/VZmoHLkHijPpZzC+E1MUuQdJ0FZh7GVmILvpENiAJ0FFgshAd6XEOgtxYL8dc6YFpiuMbYqLD/AHhxM5+C1Qy5qjINVYBEgN1zTzrwI3rkFiHWAAT2YCoHrHfpz3No9kpyGvWSggikZGFqUuvM5BQg/iJChO6BHkB1jSITEzaI73OQJBvz3vA5ZwdO5GanvQ4vY+YSuQhqvgVcfCtFVJ+wiIgpxYgJ0VANkv+5WoCbBiHCOYwx6nORKZ5DmjLYnaB6xx/Clh0XAE7hSJ8fP5hvgCrEt78U2D5CAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+klEQVR4nO3dW4hNURjA8eVuxItLSUIpPOHBi+RWEk9KSiapcRm8uBYPiOTBq1zKg8gLCUMab0hJcklJKArlwf3WuMww89fqfIXMmLP3WWuvtff+fnXeZs7+1vfN7LPX9RijlFJKKaWUUkoppZRSSimVAtAXmAnsBJqAB8B7oA34DrwCbgNHgUZgVNaJBkYDq4FjwB2J6bvE+F5ibpI2zAD6mNgBE4ADwFuSuw6sAPp5jK8/sBK4kSK+N8B+YLyJDTAGOAW0U7vnQAPQy2F8vYHl8t61sm08af+DXMVXS8N6AJuAL7j3EJjnIMb58l6u2TZvsDlwk83kDRsEXMCvDuAgMCBFfAOAQ/IePp0HBvrJcteNGwrcIjuPgMkJ4pssv5OVmzYnfrP+91++fYLJWguwoMpbzqcA8d3y/p8g93zft53uPgA3/Ce+zY4eBNI65/UzQT5wY7Ctk9h2EIf1Ph81fTzt1FwEYDvxaPHSsZTn/Jh0SH+hIYMnnaRO+Ojhhry3dqVNXrFpd9pjluEFlcx+V8nvI+MgKpnXTgbwgFkJL6x+m+6iAHY4VqWzw0UBbOdCpXPWRQHsxIRK576LArxLeXEFb10UoFUzmVqriwLE2NEpVQE+hG5Fjr1zUYBnoVuRY09dFOBq6Fbk2BUXBbBrd1Q6R1wUwM4yqXQ2uijAtJQXVzDVRQHqgG+azcS+2pV4NRdAitCc/Pqld8FJ8qUAa0qfzuTWuCzAEFk5rKpjh2+GOSuAFOFslRdXcNpp8qUA8zSzVZvrvABShLvVx1Ba97ytjgOWhm5dDiz1knwpQM9AC3Pzwt4henorgBRBV0l0bY7X5P9RBJ2o/1dTJsmXAozVfsE/z/3jMiuAFGH33zGU2u5Mk//HzsM02z2L5nawPcRyK/pMebUE3zcsu83LqtHEwI59UD6nTSxk0ibLbasxdLiy3RvcHWAE8ILiexnicJGqAFNkKq6ovjmZ5/UJqI90P1mtbJvqTR7IySSx7VyshW3LWpMndsMyxbHV5BGwi/zbafIM2EN+7TFFAKzL2WdCB7DFFAmwDPhB/H4Cq0wRAYsj3/LUamM0RSaLfe0u8tjYzYizTRnIMPZD4vHEHkhiygQYDFwOnXngmvNlhHlBZVZtb8DkH7an/JqyA5bI7FKWg2oNodsdFWAi8DiD5NtrTAzd3ihROWx1n8fkH7fHboZuZ/SAhSkPAO/Kx9wMJccCGA5cdJD8S8DI0O3JJSoHxa5PuTunTUZj/S6WLQNgUsJV2fZnJ4WOu1CoLI1v7GYhmD1YdqvL7x5Qna++ONNJ8puj+FKFsgAWyUku9rUodDylRGVBWF3oOJRSSimllFJKKWWq9AvEL0HDfIcyrQAAAABJRU5ErkJggg==",alt:"wishlist"}),(0,Ye.jsxs)("p",{children:[null!==n&&void 0!==n&&n.includes(o)?"Remove from":"Add to",(0,Ye.jsx)("span",{children:"Wishlist"})]})]})]})]})]})})},NS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkUlEQVR4nO2ZfU8TQRDGj1pLEZAgGGprxEYQqQiISkRQSAFFBPb7f5of2WQubtZ727u9F+JNMn91OzPP7rMzs3NB0EorrbTSimcBZoG3wBS4BX4AC8FDEWAJ+CjBK0uPgyYL0AFGwElE8KZeBw2nz68UAKFeBA2kzx5wkxFAqIdNCH4GGADfHINXhm7VTZ9N4GcBAEp08BDocwOcp6zpN50+U2AbuEtYc9V0+hwAazF1w9SjJmYfrX+kdjzV9SHD+kkZxWtYMPucAvPAnMMpjpqWfT7IZvQyXG5l6Hyd9DH1t74LYvMR8N2RhjN10cfU4zB1SmY7dPz/SZ3FS0k6nZi7CezmoWOQEcCipMG0FOiiuhFctfy8y2nrVRYQLzwD0PpVn67lZ72AvaUsQK48AtAbshHhY5BStVWKzU6VQC6B5Qj7zwpmvNNUEOLotQcQX4DHEbYXJO0Wsb2fCYhx9Gc5j30cY7Mvp1R0k8aZgRjOn0j6nWZwcB53CYFuzo1REfoPXV1BLUq6vIgwrlN1N6GY+iqkd7oLKATECm4Z2JFWQcXNl6Rqf/IEQmlmeANhBXogDjZift/xCELpTSkLyDBuUCbNpU8QKm7DfADpSqbS3O2VfBrKbnF8gzkSJy+tC+6zQ1CivTKBjG3+Sr/mG8RlaSAk6DlxdB32QDneF82YKvK32K3KG8Z396z0TLgKINvi7D3wJiEYlze5qnyqKAUyDPQsaXwjQPOcWL90IBJg0qeATWvtisOnA1XJVNEIbi8iAF1f1hO64bQPOar0qWICvUK9TRuiSS82qXyqmCb60SOONW2eO/xvZDSgKkKHQdUilOnkfCZEZbVpHnu1ivRuu9Le6AL7ubJs1Uor/4HcAzAjnJSiTg0jAAAAAElFTkSuQmCC",DS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC60lEQVR4nO2ZDU8TQRCGj4BSURq1SOVDaLQULRWsBYGWSkUKglL//695zeTeS0i525277u1dDJNMcrnbnZ3nsrszOxsEj/KfC4CnAN4B6AEYAhhTh3wn354EZRUAFQAHAO4A/LWotNkHsBiUSRD+5T8KgGn9DWAzKIMAaGcAmNZ20RA7DiAi3SkKYhXAxCGI2Fr1DTEH4MIhRKQ/xbZPkO0cICLd8glypnDoEkADwDK1wXe2fme+IBYVa0NAF2L6Lih+wkSCqg+QusURiScVQ/9niphTL8P6OFbYOLbY2PYB0rI40VHY6FhstHyAfLA4caiwcWix8d4HyJrFiVtTdivf2MZk462vLNe2hfbiAhsDaU/Rv5I7CB06VzgzAFCj83N8Hij6nXuBIMiuwqH7cSFNTtbyCfLCccJ4H/q5NxBlLMii37xCEGQlB5CadxDCDB1C+EkWE0BeOQR5XRgIYY4cQFizgdwFwFLGCkqk0ncpKINgtiJEMyiLIIzcowwQI69ndI3wOKupMkYqbatBGQXpplh5plTCFNMkhoPCpxTCavsmS6X1hDT/lwHiOq54zVpAG8BGbsUHAPNSb+KfnE4W1xPSl7ikchKXhoiNmHYDjjnvCkBS9hvDH+4m9G1q14XYMNi/YZ0gGxAPQuNZKoNTp8GvhnZbinHGqZNKzlPTVirf+nIvorC1onGAdyx9xbgPpnKWeNAn5IMqoitBWI3cMOx+4tuyxlA3AcB78AJQ5diqdWkrLJx68drs02nqAkVCWv65iJtYhDWw/Rh/jmY5wsrF5Z5qfrqZUh2OGedLzVV99weh6i6iMLMFsdWhbXd3jdw5bKXNSK8AnPCefZeXOussr76hrvFdg20OOPevlGPcqrfehNNfN2V67lrvAHyRe5VMEDFAe8pI70rHHDOfYzCAlwA+MWAlLcYsKrYkZnyUMXJx3nL+qHLuN7lVylr5zmPsJdP2az6P+O2EbZvsWy3dkfdRgtnkH8s690CZ9S1SAAAAAElFTkSuQmCC",RS=n.p+"static/media/pageNotFound.21b8f93598b07d6ce99c.png";var OS=function(e){var t,n,i=e.books,a=e.currUser,o=e.userData,u=Ae().userId,s=l((0,r.useState)({}),2),c=s[0],f=s[1];return(0,r.useEffect)((function(){u===a?f(o):dS.collection("users").doc(u).get().then((function(e){f(e.data())}))}),[u,a,o]),(0,Ye.jsxs)("section",{children:[(0,Ye.jsx)("h1",{className:"gradient_head",id:"userInfoHead",children:c?"Account Details":"No user found"}),c?(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsxs)("div",{id:"userInfoDetails",children:[(0,Ye.jsxs)("div",{id:"userLogout",children:[(0,Ye.jsx)("img",{src:null===c||void 0===c?void 0:c.image,alt:"user pic",id:"userImage"}),u===a?(0,Ye.jsx)(Ge,{to:"/",children:(0,Ye.jsx)("button",{onClick:mS,children:"Sign Out"})}):(0,Ye.jsx)(Ye.Fragment,{})]}),(0,Ye.jsxs)("div",{id:"userDetails",children:[(0,Ye.jsxs)("div",{children:[(0,Ye.jsxs)("div",{className:"userInfoData",title:"User name",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR4nO2Yb0vCUBSHly/8A1IZphH2psjEBAu8ziIoLNLItu//aZ4YHGna0O3u6u5qB35vxvY759m9Z7v3Ok4R/yiAJvAiajp5DOAAmAO+aO7kMYByCGKpspO3ACoRIBUbCjsB7oDHmHKB0zW5CZ4fAg3TEFcRb3ebfvXEWs/E1aUpiCPA0yjgM6L5Fxo+HnBoAuRWI/lS5yGfTgqfvgmQUYoCPOkLV3NUfdHIBIhKUYApqQJkGcWIUEwt38YemQET0SyPzf4OtCO8zjSBVBYgQaG1DX41jaWKygKkE8PzwnaQBVCK4VlKuO5S+waZJvCd2gzymsD3zWYQL852VrbBnu3NfhPDs2d7s/vAF9Da4NeSe6wH8WXaDIB6yKcu17w8LlF8eftJR8C3EcSE1L5BgmnzFOyxZY8eHJkei5pyrS/3WPnV+gC6SU4S5RPclWetAHHTnCDKieQkaxA3OK8ykKO0BUbtEiRY9FVTJ/jJU92wkNwpyMQIwWquhyxAhkaqX801zAJkbKT61VzjLECC/8A9cG1IgVfm/5FdSxUgf3FERhaAjEyADCwAGZgAaVgA0kgNornHNqmeEYgQTFt+WM970jjq/LiIIopwtOIbzp754Nb1PHUAAAAASUVORK5CYII=",alt:"name"}),null===c||void 0===c?void 0:c.name]}),null!==c&&void 0!==c&&c.verified?(0,Ye.jsxs)("div",{className:"userInfoData",title:"User telegram id",children:[(0,Ye.jsx)("img",{src:NS,alt:"telegram"}),null===c||void 0===c?void 0:c.telegram]}):(0,Ye.jsxs)("div",{className:"userInfoData",title:"non verified",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR4nO2aUW6DMBAF4Tupkl4mNOIEbUJy/9NMZdWpVESDjXctb7sj7V/ktwPGxEDXOY7jOI7jOI5TDeAAnIEp1gDsFfNeYsZHzAvZB628JdkLcJ9VaOa1EyaMGcee512qSPN1dOfhKtJPZB91lspaBOjjlLprSyfIhppKc1YBritNFEsnyoa6bs1IBjglNLJZOkM21KnTBthlNJQlnSkbfrfTtf25Ur9LSgNHrQPZnHTzspLSZmQlpM3JlkiblS1YYe3KbjzTtmUVpNuXFZS2IysgbU+2QNqubCDz1mNbmHxZu9Jsl7UnTbmsHWnkZNuX5j/9tWTDRkDjIUIVKNj1mJNGYItnRhrB/Wzz0ihs3puVBvYNPaZVe4H3DfCmeRYypYfc8TXeLRVPuYzpHXrpt+akCt9qXF+J0rrCAWCstZgkTO9RKmtthZ4aeCEeejhK5z2THuP0fnzysFO+Mwwx6xaz68guXNP9X81zHMdxHMdxnO53PgHGAdUnL+ceTQAAAABJRU5ErkJggg==",alt:"telegram"}),"Not Seller"]})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsxs)("div",{className:"userInfoData",title:"User email",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVR4nO2Za0sCQRiFvWBKF8qyjCiIoLRSiEiNSsrpZjfn//+aJ5ZmQRZnZ9ZmdT7MgQN+mZn32Xn3zMgWCkFBQUFBQTkIqAMd4AboeeAOsJUVogVIT92yhdj0oFhp8KoNyDow8aBYqfEHULHdlQbw4kHRMuGH6EFbQUzBlIA28OMBwCdwAhQzQSSA1oC7JUIMgNrcADOAjlR/LgrgFdhzBpCAqQLXOQNMgEugrKmhYtViwBXwHu2AIQyec4B4jOI/5Z1tqXd2YAMiEimxkTLxqaMw+FZzFTVrbSfqEllBpCr0Iio8pzC41R1w/LVRd8a5NhdI7Ohc2U0ZdwCMMwCMDe27D7xpxv4LJHZ0gatmfIJJR4GxopmjBvQN452AGA8oYEczT7SrDc2YInAMfFms7wwk9r0hDM5UC43V71LKRfUpw7rOQeIw6Opy37BWWQVJ1kuqyANkum2sT2KgqU7vedYSeYIYw8Dh7UAsAkQbBg7va2JRILGHwKECGDqcVywaJC+LAMLyd0GGHWH5T16GHSGkFt611siDd0AaPLIBMf2p8cF921up9NxNI4iCOfegWKlx2wpixoeenkcfeuqZIIKCgoKCggp2+gUk7kpQrieozwAAAABJRU5ErkJggg==",alt:"mail"}),null===c||void 0===c?void 0:c.email]}),null!==c&&void 0!==c&&c.verified?(0,Ye.jsxs)("div",{className:"userInfoData",title:"User location",children:[(0,Ye.jsx)("img",{src:DS,alt:"location"}),(null===c||void 0===c?void 0:c.location)+" - "+(null===c||void 0===c?void 0:c.pincode)]}):""]})]})]}),(0,Ye.jsxs)("div",{id:"userBookDetail",children:[u===a?(0,Ye.jsxs)("div",{className:"userBooks",children:[(0,Ye.jsx)("h1",{children:"Wishlist"}),(0,Ye.jsx)("div",{children:null===c||void 0===c||null===(t=c.wishlist)||void 0===t?void 0:t.map((function(e){var t,n,r,a,o=null===(t=i[e])||void 0===t?void 0:t.name;return(null===(n=o)||void 0===n?void 0:n.length)>21&&(o=o.substring(0,20)+"..."),(0,Ye.jsxs)(Ge,{to:"/book/".concat(e),className:"bookOverview",children:[(0,Ye.jsx)("img",{src:null===(r=i[e])||void 0===r?void 0:r.bookFront,alt:"book"}),(0,Ye.jsx)("h2",{children:o}),(0,Ye.jsxs)("button",{children:["\u20b9",null===(a=i[e])||void 0===a?void 0:a.price]})]})}))})]}):"",null!==c&&void 0!==c&&c.verified?(0,Ye.jsxs)("div",{className:"userBooks",children:[(0,Ye.jsx)("h1",{children:"Books to sell"}),(0,Ye.jsx)("div",{children:null===c||void 0===c||null===(n=c.bookToSell)||void 0===n?void 0:n.map((function(e){var t,n,r,a,o=null===(t=i[e])||void 0===t?void 0:t.name;return(null===(n=o)||void 0===n?void 0:n.length)>21&&(o=o.substring(0,20)+"..."),(0,Ye.jsxs)(Ge,{to:"/book/".concat(e),className:"bookOverview",target:"_blank",children:[(0,Ye.jsx)("img",{src:null===(r=i[e])||void 0===r?void 0:r.bookFront,alt:"book"}),(0,Ye.jsx)("h2",{children:o}),(0,Ye.jsxs)("button",{children:["\u20b9",null===(a=i[e])||void 0===a?void 0:a.price]})]})}))})]}):""]})]}):(0,Ye.jsx)("img",{className:"pageNotFound",src:RS,alt:"page not found"})]})},PS=n.p+"static/media/sellerStore.47bf0db7d52c5e232a98.png";var LS=function(e){var t=e.verified,n=e.setVerified,r=e.user;return(0,Ye.jsxs)("section",{id:"home",children:[(0,Ye.jsxs)("form",{id:"details",onSubmit:function(e){e.preventDefault()},children:[(0,Ye.jsx)("h1",{children:"SELL BOOKS"}),(0,Ye.jsx)("h2",{className:"gradient_head",children:"MAKE YOUR BOOK ALIVE AGAIN"}),(0,Ye.jsxs)("div",{id:"sellerInput",children:[(0,Ye.jsx)("p",{style:{marginBottom:"22px"},children:t?"Verified Seller":"Fill details to become a seller"}),t?(0,Ye.jsxs)("div",{children:["Seller ID: ",r]}):(0,Ye.jsxs)("div",{children:[(0,Ye.jsxs)("div",{className:"sellerDetailInput",children:[(0,Ye.jsx)("img",{src:NS,alt:"telegram"}),(0,Ye.jsx)("input",{type:"text",placeholder:"Enter your telegram id here",required:!0})]}),(0,Ye.jsxs)("div",{className:"sellerDetailInput",children:[(0,Ye.jsx)("img",{src:DS,alt:"location"}),(0,Ye.jsx)("input",{type:"text",placeholder:"Enter your location to sell books",required:!0})]})]})]}),(0,Ye.jsx)("div",{className:"detailButtons",children:t?(0,Ye.jsx)(Ge,{to:"verified",children:(0,Ye.jsx)("button",{children:"Upload New Book"})}):(0,Ye.jsx)("button",{type:"submit",onClick:function(){if(r){var e=document.querySelectorAll(".sellerDetailInput input"),t=e[0],i=e[1];dS.collection("users").doc(r).update({verified:!0,telegram:t.value,location:i.value,bookToSell:[]}),n(!0),t.value="",i.value=""}else alert("Please Sign In to proceed")},children:"Become Seller"})})]}),(0,Ye.jsx)("img",{src:PS,alt:"online store",width:600})]})},MS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFN0lEQVR4nO1dDW/iMAwNN8bYTWNsMMbtg7ExxsTKgPL/f9s7VfhOVZSWfqSN0/pJlaYBaVI39rPjOEoJBAKBQCAQCFoIAB0AfQBDAFMAcwArAGsAAYAdgJCuHf1vTd+Z02+G1EbH9Xi8BIALAGMA7wC2AA6Wrj2AJQnpt+txsgaAHj2owKIATl0bAE/RC+B6/JzU0R2pl4Pja0V96bRVEOMcs2FLquYFwD2AawCXpNrOqL0O/X1Bnw3ouy/026yqL6C+tUMwAEYAfjLo+gWASfRwLd77ktpc0D1OqbORaiqI5SwzqI1x9KbX0J9fAG4BfBBDS+uTtZfCOUiVPKUMek9qpeeYUMxSZk1IY/BbjdFAv1IEEQ3yXDEBgHMAzymC+XL54pQCOWNJhvSD88BwFMw8oe+R83mrfAL5E0kMZqA8AYCbFCY4VT6AprxpAIs6jLVtEJV+SxjTi2JuvE0dj/TxWHkOHH0ak215Y2nsE4SxbVLMCMBVgl18Ux6oqcix6quGAcdIgMmuzBRjA77mRGcrYmHf7Aw9sRDTzGBLaS0LZWMY/9Cl06fr020T1dQJ9fVj8FN6LhiV7oHvm2TAcxp6nX191cq8KOShT1XvqW1JSqw/j6e6bn5pCBS+13JzA/QHofjQ/rCWKLFhdS9w6YGDj0DODHT4s47FJX1q3lR6U08EQn0ZGJ7PXZWG/IeLquIoEOrPwuAG2DfwtJKnsyrn/gb4CaRnYF3jKmZH4IRFeCaQhFBSYHWWUHqMPjtYhEbAUyDnhllyVyWzYrMOAIYCiUBr9PG+rWyGB3Tm4Nx2eCAQ03MrnyEJ4FFrdKkYAUwFEiHyQ7T+/bHRqG7MWSWPgbdAdGYa2AiT6Mac1bo4eAvkzGDci0fDKe0y3thCMQMYCyQCpTzF+zix6XUWb6y9Anmw8lKTM7jTGmOX4wr+AtHV/rZMcnT5hloukAiGldV+0VRQtnTXM4EsS6+7G7JJ2HjnHgpkVjo7xZBsfK8YAn4IRGerrzbiV9eKIeCHQAal41qU7MaaYXkkEJ1prYs0suEaUPRQIBelQygGqtYt2amDz5cqN/ZuaRfCkOpTasWr5QLpaO2FRRoRgYCXQERlgZfKEqPOzKgL7WVGe3XHkOXuWVg0vtwdQwmdMAudSHCxuuDiQ5FGJPzOLPwuC1TMFqhkCdcCom1+pX2QWGOS5GA/yaH4Fg5JA6okDaj4Qp8kyjFLlKNGJZWUSyppQrJ1tRsZG+SpV5VsLdsROG1HoMZlww6XDTvUuGxpY7alTTZ9ctr0STeRbdHZbce+8k1ONEs23PaLgBnLMjiC1RQOoJtJaY18EXK7tiMjt5biM+q/V76p3WejsLyUZ8pWnqnvsoAZy+z4OmAIwkbXI4cSf1eqnSX+Qt0JrL24shTBVP8o7tZ5EcyYUKRMLJiUiT1RSPmbS7WgVhVSbmmp8X5CAWUepcYzFONvjKGHL8X4MxxXcd8Qaht6c1xFww90eU8YE8ut4nmOPNq4LitbgEWa7EWxdFAGg/H1ULBeyqzw71CwHMfmPXt2bN6K84tk82DJmcsTm3H0uGcpfQwp+4av8S446CxHr07KbsHOYaxHGfr0ybVogs2EiSRDeYjNmo+KDid+oLazHE5c7eJSA47vnpGQBrHju7ux47u72vHdE/pN3uO7R41ST1khB9zzZ2TTHLPGxrUhwuGMUHgBHNXOmHyBrKomy7Uj9TVt43lZtiOsQ3qQr8TG1jSbtkRLQ/o7oM9W9N0p/bZxkWeBQCAQCAQCgcqIv7OUC+DSK/BhAAAAAElFTkSuQmCC",US="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAACD0lEQVR4nO2cPU4DMRBGXQFH4O+IEDqgywmS+axNn9vwUwFHQUmTapFFkAJl0M7Yu+9J08ePb2e9ZuSUAAAAAAAAAAAgrdfrM0l3kl4lbSX1I62tpBczm+WcT13/9DnnazP7qEBC71lm9l7W7pbkKUrWb9nDJ3vfLvopV8751kP0aw2LVWyqnwcXbWab6IUqXvRmcNHRi1QlhWghuo9OIYlWvDhah+Kl0qOF6MMU7CTdd113mSqj/CYze9j/xrYTXRaSKmcvu23Ry+XyIlXOarU6b150jS3jL4vF4qp50S20DkmPzYsuLxoze6gx2aN6GY61EqKFaFWQRBKteHm0DsWLpUcL0e5nHd0/tmvNJzrig8WOOLtoXnTEWcfqiLOL5kVHfBEujji7aF50ROvQEWcXzYv2POvopvwyHGslRAvRqiCJJFrx8mgdihdLjxaif1KwY67DYXvXwj9njbkOH5jrcIK5DieY6xgY5joUv09mH606auinjdM7Ibon0Yp/1Gkdipc2lh69Y67DQTRzHU6imetwEs1cx4hbh5jrGBbmOhS/HZvC9q4fYyFaiO6jU0iiFS+O1qGJ9miuY1P5Nvj0eBlywaD5XDA4i35sFV83g4suF6CWi1ArWGwfVG/z+fxkcNEH1xpPUfZbGbZxkXwg+7TcOlv61ZhfkPa9tqfSLtySDAAAAAAAAACQ6uYLC9AShBYmD3EAAAAASUVORK5CYII=",jS="data:image/png;base64,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";var BS=function(e){var t=e.verified,n=e.userId,i=e.user,a=l((0,r.useState)(""),2),o=a[0],u=a[1],s=l((0,r.useState)(""),2),c=s[0],f=s[1],d=l((0,r.useState)(""),2),p=d[0],v=d[1],m=l((0,r.useState)(""),2),y=m[0],g=m[1],k=l((0,r.useState)(""),2),b=k[0],w=k[1],A=l((0,r.useState)(""),2),x=A[0],E=A[1];function I(){return I=_t(Ct().mark((function e(r){var a,s,l,d,m,k,A,I,S,C,T,_,N,D,R,O,P;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t){e.next=4;break}return alert("Please signin or verify to sell your book"),e.abrupt("return");case 4:if(p&&b&&x&&y){e.next=8;break}alert("Please upload the images of book"),e.next=59;break;case 8:return e.next=10,dS.collection("totalCount").get();case 10:return a=e.sent,s=a.docs[0].data().count,l=document.querySelectorAll(".bookInputBox input"),d=l[1],m=l[2],k=l[4],A=l[5],I=document.getElementById("bookInputCategorySelect"),e.next=20,pS.ref("frontCovers/bookFront".concat(s,".").concat(p.name.slice(-3))).put(p);case 20:return S=e.sent,e.next=23,pS.ref("backCovers/bookBack".concat(s,".").concat(y.name.slice(-3))).put(y);case 23:return C=e.sent,e.next=26,pS.ref("indexPage/boodIndex".concat(s,".").concat(b.name.slice(-3))).put(b);case 26:return T=e.sent,e.next=29,pS.ref("middlePage/bookMiddle".concat(s,".").concat(x.name.slice(-3))).put(x);case 29:return _=e.sent,e.next=32,S.ref.getDownloadURL();case 32:return N=e.sent,e.next=35,C.ref.getDownloadURL();case 35:return D=e.sent,e.next=38,T.ref.getDownloadURL();case 38:return R=e.sent,e.next=41,_.ref.getDownloadURL();case 41:O=e.sent,console.log("bookFrontURL :",N),P={bookID:s,bookFront:N,bookBack:D,bookIndex:R,bookMiddle:O,name:o,price:parseInt(d.value),mrp:parseInt(m.value),description:c,publisher:A.value,edition:parseInt(k.value),category:I.value,seller:null===i||void 0===i?void 0:i.name,sellerId:n,location:null===i||void 0===i?void 0:i.location,telegram:null===i||void 0===i?void 0:i.telegram},console.log(P),dS.collection("books").add(P),dS.collection("totalCount").doc("count").update({count:s+1}),dS.collection("users").doc(n).update({bookToSell:[].concat(h(i.bookToSell),[s])}),v(""),g(""),w(""),E(""),u(""),d.value="",m.value="",f(""),k.value="",A.value="",I.value="";case 59:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}return(0,Ye.jsxs)("section",{children:[(0,Ye.jsx)("h1",{className:"gradient_head",id:"vSellerHead",children:"Sell Books"}),(0,Ye.jsxs)("div",{id:"vSellerUploadBook",children:[(0,Ye.jsxs)("div",{id:"vSellerBookPhotos",children:[(0,Ye.jsx)("p",{children:"Upload 4 photos of the book"}),(0,Ye.jsxs)("div",{className:"vSellerBookPhotosMain",children:[(0,Ye.jsxs)("label",{className:"UploadBookImage",children:[(0,Ye.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return v(e.target.files[0])}}),(0,Ye.jsx)("img",{src:p?URL.createObjectURL(p):MS,alt:"add"}),(0,Ye.jsx)("p",{children:"Front"})]}),(0,Ye.jsxs)("label",{className:"UploadBookImage",children:[(0,Ye.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return w(e.target.files[0])}}),(0,Ye.jsx)("img",{src:b?URL.createObjectURL(b):MS,alt:"add"}),(0,Ye.jsx)("p",{children:"Index"})]})]}),(0,Ye.jsxs)("div",{className:"vSellerBookPhotosMain",children:[(0,Ye.jsxs)("label",{className:"UploadBookImage",children:[(0,Ye.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return E(e.target.files[0])}}),(0,Ye.jsx)("img",{src:x?URL.createObjectURL(x):MS,alt:"add"}),(0,Ye.jsx)("p",{children:"Middle"})]}),(0,Ye.jsxs)("label",{className:"UploadBookImage",children:[(0,Ye.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return g(e.target.files[0])}}),(0,Ye.jsx)("img",{src:y?URL.createObjectURL(y):MS,alt:"add"}),(0,Ye.jsx)("p",{children:"Back"})]})]})]}),(0,Ye.jsx)("div",{id:"vSellerDivider"}),(0,Ye.jsxs)("div",{id:"vSellerBookDetails",children:[(0,Ye.jsxs)("div",{id:"bookDetailsHead",children:[(0,Ye.jsx)("h2",{children:"Book Details"}),(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR4nO3bXWoTURjG8VmEov3Yj1JciE1xH15kzvu8TETFO7fg105icRO16o20ooxNod5ozmSOPOj/BwO9SEvhISfJhH/XAQAAAD9l5mEp5SQi3kXEe0lfxmvz81tJi/ExV49GM5l5W1JKupD0/Q/Xt4h4WUrZY5IGJD2IiPMthvjl2vzOEaPMO8YiIi5rx7gxymVEHDPKDDLz/i5j3DzCxmcZo+xgGIb9KcfUb66Pq9XqLqNMJOnFjGNcH19PGWSCzDzc8t1U7XXR9/0Bo9QP8qjBGNfXgkEq6eoDXqtBXjNIpYj40HCQUwapH+Rzq0HGv80glSR9ajjIOYPUD3La8MhaM0iliHjT8BnyikEqlVJOGj5DHjKI0QfDYRj2GWQCSc8aHFdPGGOiUsreeENwxkHOJN1hkB1ExD1uv5uJiONdv6DihXxmko4mHl9n45dcc/8/6LpuuVzekvRY0tdt3k1FxHO+kPoL+r4/2Bxj44fH9XhvanPvaz3eyR2PJ97aAgAAAMA/LOlDPCR9iA/Rh/gQfYiPpA/xMdCHeBF9iI+kD/GS9CFeRB/iJehDvAR9iBfRh3gRfYiXoA/xUuhDvCR9iB/Rh3gp9CF+gj7ET9CH+BF9iJ8lfYinnj4EAAAAAP5vSR/iIelDfIg+xIfoQ3wkfYiPgT7Ei+hDfCR9iJekD/Ei+hAvQR/iJehDvIg+xIvoQ7wEfYiXQh/iJelD/Ig+xEuhD/ET9CF+gj7Ej+hD/CzpQzz19CEAAADoavwAnv/P9QvEwlYAAAAASUVORK5CYII=",alt:"menu",onClick:function(){var e=document.getElementById("bookDetailHeadMenu");e.style.display="flex"===e.style.display?"none":"flex","flex"===e.style.display&&setTimeout((function(){document.addEventListener("click",(function t(n){e.contains(n.target)||(e.style.display="none",document.removeEventListener("click",t))}))}),10)}})]}),(0,Ye.jsxs)("div",{id:"bookDetailHeadMenu",children:[(0,Ye.jsx)("h3",{children:"Options"}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,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",alt:"Preview"}),(0,Ye.jsx)("p",{children:"Overview"})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("img",{src:US,alt:"Example"}),(0,Ye.jsx)("p",{children:"Example"})]})]}),(0,Ye.jsxs)("form",{onSubmit:function(e){return I.apply(this,arguments)},children:[(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAADHElEQVR4nO2dzWoUQRSFSwR/SECX+jLmTTSvIPFno2RpyzBzTmuDgovsg5q3UNeu4i6KibhQF4nrloIRQtI90zOpmTrT935Qm6G6OF/d6h9mmOoQHMdxHMdxHMdxHMdJAICbADZJ7pHcJ3lCsl6RdhIzA3hP8l50WZlFsbOzc43kI5J/BCayTtEA/AbwsCzLq0GZ0Wh0m+Sn3BPGxRXiY1VVt4Lq5AM4yD1JXHwRDuSKEE/NPq98nm8fpC5HAB4LTEq95LYVFIhPCJNuuADelmW5MRgM1sKKMBgM1mLm8VNQWwF+FUVxQ6EAmxNC3g8rDsmtCYvrrkLAvZaA70JPoLIjyS8tq+NO6AllWW60FGBf4RJ03BSuqqr10BOqqlpvWWTHCmdA4/Ux9Ayqes4abHt7+wqA5ySPBB4l/6/kQ5JFzJbKc2nMGiyK5p5wtrciladyAWRWPs+fCT9SeSoXoFZuIZHn0vACZMYLkBkvQGa8AJnxAmTGC5AZL0BmvACZ8QJkxguQGS/AihVg/NVvLdq+p/JUPgNkv44G8CyV59KYNVj80SMWQelMgKUfZFYVqnrKBrPiKRvMiqdsMCuessGseMoGs+IpG8yKp2wwK56ywax4ygaz4ikbzIqnbDArnrLBrHjKBrPiKRvMiqdsMCuessGseMoGs+IpG8yKp2wwK56ywax4ygaz4ikbzIqnbDArnrLBrHjKBrPiKRvMiqdsMCuessGseMoGs+IpG8yKp2wwK56ywax4ygaz4ikbzIqnbDArnrLBrHjKBrPiKRvMiqdsMCue8wY7vYMuJvxROu7lT7Ii+ZPkN5JPd3d3L887Xtd+qTwXzrzBWrYsKBr6vTnbL77R6ALjdeqXylO5AEfTdq6NKx3A34bxP88z3iz9UnkunKbXl8T3bk07rmmvCACH8xagy3iz9EvluXDG1+ezwV50OK7osltJ0yWoLMsHFxivU79UngtnOBxeJ/k6rtRxexU/m3bc6V1TMOUmDOBlvAkD+ArgSdtNuMt4Xful8lwadV1fii30nNqIp+M4juM4juM4Tugr/wCDiH19sdePRAAAAABJRU5ErkJggg==",alt:"title"}),(0,Ye.jsx)("input",{value:o,onChange:function(e){return u(e.target.value)},maxLength:30,type:"text",placeholder:"Enter book title or name",style:{width:"81%"},required:!0}),(0,Ye.jsx)("span",{title:"Character Limit",children:30-o.length})]}),(0,Ye.jsxs)("div",{className:"bookInputRow",children:[(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:jS,alt:"rupee"}),(0,Ye.jsx)("input",{type:"number",placeholder:"Enter book price",required:!0,min:0,max:1e4})]}),(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:jS,alt:"rupee"}),(0,Ye.jsx)("input",{type:"number",placeholder:"Book market price(MRP)",required:!0,min:0,max:1e4})]})]}),(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:US,alt:"description"}),(0,Ye.jsx)("input",{value:c,onChange:function(e){return f(e.target.value)},maxLength:280,type:"text",placeholder:"Enter description about book & its condition",style:{width:"80%"},required:!0}),(0,Ye.jsx)("span",{title:"Character Limit",children:280-c.length})]}),(0,Ye.jsxs)("div",{className:"bookInputRow",children:[(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAACyUlEQVR4nO2cTW4TQRhECxYEzgBHhHAEn8B8PRAJdrkNkBXhFMAGED/rQSN5EQUHXFCVKVlfSW8TPcnWc6uza6DX6/V6vV6v1+v1er1er2ff+fn5/THG0zHGxRjjxxhjXonls99W1ek0TSdH9dNP0/Soqt6vGHcvVXW5fDckb7PZ3D30JCdGvhY772Rvt9sHY4yzMcbXhap6sfztJn93XczJTNP0BGmrqrHnVDy7yd/dyavH/MupfhN3FVTVxz1f9MMf/O9rhzyAbwi8CuZ9sH4aCLwK5g79b6F/uwrGGJ86tHiqEwrST0Pd1RYOpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQusDgfST8MWWB0OpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQusDgfST8MWWB0OpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQusDgfST8MWWB0OpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQusDgfST8MWWB0OpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQusDgfST8MWWB0OpJ+GLbA6HEg/DVtgdTiQfhq2wOpwIP00bIHV4UD6adgCq8OB9NOwBVaHA+mnYQt8JcSX6x9aVZ/ZcCD9NGyBr4Q42xP6ORsOpJ8GbunxqldV9XPHy368yrh5nu8sqK+a6ufYbu2quVj7Woh6YNB11VTV6dohD+AxUjcfeNUsD6wuD60GxLyJd5vN5h6O6Fnjy8TI2+32IY5p0zSdLK/aLvfhmv8gd5/9erkujuYk93q9Xq/X6/V6vV6v1+vh//YLPVAH3vHudjsAAAAASUVORK5CYII=",alt:"edition"}),(0,Ye.jsx)("input",{type:"number",placeholder:"Edition(Year)",required:!0,min:1990,max:(new Date).getFullYear()})]}),(0,Ye.jsxs)("div",{className:"bookInputBox",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2cPU4jURCEJ8JILCeAM0AGeyh+juDYskZdz3Lu2+wuEXAGToBAgqzREw4AMQZbXk+3+T7pRWPZNaWqcvaaBgAAAAAAAAAAAAAWMZvNdiVdSrqS9CjJ//N5lPTPzC5KKYNt0/kppZRDM7vdgGj/7JjZTdWwLTo7E9KneL1/iUF2nZ3Ma+gRTinlPLvORUZfRRCv17T8za6zEzN7CPQCD9l1dtK3aH042XVitDDaSXSgSirAXDAdwmgn0ckqqQDamA5htJPoZJVUAG1MhzDaSXSySiqANqZDGO0kOlklFUAb0yGMdhKdrJIKoI3pEEY7iU5WSQXQxnQIo51EJ6ukAmhjOoTRTqKTVVIBtDEdwmgn0ckqqQDamA5htJPoZJVUAG1MhzDaSXSySiqANqZDGO0kOlklFUAb0yGMdhKdrJIKoI3pEEY7iU5WSQXQxnQIo51EB7xwREmmw8zum2WJdIWO8hi90lU/F30LVzKjJZ0tbXS9WqxeMRZAvCcx+no4HO4sbfSbi/tCmN3ENvq6bduDlUx+Y/ag3udW96fPP8gmmNFzL/7UuVg5yX0yHo/3zOxUUjGz5+8abWZPZqa2bU/qd2xWdXImk8mxmd19ZfT8M0ebVbedZj93Pa9JxuQ1YWaTBc+0rt/58ZRSfneZUDf5xxu0Lkaj0X7Xs+l0+gujAQAAAAAAmtV5ATMFPSLkVUMJAAAAAElFTkSuQmCC",alt:"publisher"}),(0,Ye.jsx)("input",{type:"text",placeholder:"Publisher ",required:!0,maxLength:25})]})]}),(0,Ye.jsxs)("div",{id:"bookInputCategory",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,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",alt:"category"}),(0,Ye.jsx)("label",{htmlFor:"bookInputCategorySelect",children:"Select Category"}),(0,Ye.jsxs)("select",{id:"bookInputCategorySelect",children:[(0,Ye.jsx)("option",{value:"science",children:"Science"}),(0,Ye.jsx)("option",{value:"programming",children:"Programming"}),(0,Ye.jsx)("option",{value:"growth",children:"Growth"}),(0,Ye.jsx)("option",{value:"mathematics",children:"Mathematics"}),(0,Ye.jsx)("option",{value:"novel",children:"Novel"}),(0,Ye.jsx)("option",{value:"literature",children:"Literature"})]})]}),(0,Ye.jsx)("div",{className:"detailButtons",children:(0,Ye.jsx)("button",{type:"submit",disabled:!i,children:"Sell Book"})})]})]})]})]})},FS=n.p+"static/media/recommend_graphic.d0cbcbefd7c4ad2005f4.png";var VS=n.p+"static/media/recommend.53f269b32c94ff5ed8bd3fb348875c57.svg";var qS=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1];return(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:"Get Book Recommendation"}),(0,Ye.jsxs)("div",{className:"boxAndLogo",children:[(0,Ye.jsxs)("div",{id:"book_recommend",className:"books_box",children:[(0,Ye.jsx)("p",{children:"Find your next read"}),(0,Ye.jsxs)("div",{id:"book_recommend_input",children:[(0,Ye.jsx)("img",{src:VS,alt:"book icon",width:28}),(0,Ye.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Enter any category or book_name or author"})]}),(0,Ye.jsx)("button",{disabled:0===t.length,children:"Recommend Books"})]}),(0,Ye.jsx)("img",{src:FS,alt:"recommend logo",width:225})]})]})};var zS=function(){return(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:"About us"}),(0,Ye.jsxs)("p",{className:"aboutContent",children:[(0,Ye.jsx)("span",{children:"BookCart"})," is an online marketplace designed for book lovers and collectors. Our mission is to make it easy for users to buy and sell used books, and to give old books a new life. With ",(0,Ye.jsx)("span",{children:"BookCart"}),", you can find the books you've been looking for at a fraction of the cost, and sell your own books to other users."]}),(0,Ye.jsxs)("div",{id:"aboutOptions",children:[(0,Ye.jsxs)(Ge,{to:"terms&condition",className:"about_options",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACG0lEQVR4nO2Zv09UQRDHXwyF2mjUyvAXGKMGCjtjo/+AFTYWJufNPH+EAriZKzb+ASithVZ2WthBIHFnDkNFga2FPxopTNRQkCCBM6t38XIB5e7t8DjcbzLNbjHzyfzYfW+zLCkpKenAa/KeHyaQSUJ9EssYdYaqctO55hHT4DnXEUb9zqhNCyOQOVMIAlGr4LlldfRjZgAMsr67c1lj0FlGfVaonKp6ww5gt8BR7rtb/mh20MXdNYv6har+fDYo4m6AXK517jvnh+hO41wNFkdjGOc64h74kzYAoPOde2EMEug3o+n03FWWj0cGkMqfdX+JQDctpxOBPI4KUEe90rH+0Hq8MuhqVIBQo+311mlqC4DaTAD8X2UAZCWM2Z7HJzYuE+p06QA10OsFfX0oFYCqmvfrx1X8md9XlDIBQDcJ5GXPFzrQp4zyqfQSGvwmxoEHkB8M8qKfEiLQj6UDFGniWr5wuvQmLjpGaYcs7CsAo7zt9yBjkEell9AhaGJNABw7A4Tyec9TCOSVu710qlcfzvmh8G+IQLYsSmhmrwD13F8t4otQ30UHCB/W4QObUbb/mQHU6b6Dh8YFQtmIDtDWVGXhxPj40rG/AbTK6D2jLPdkICs7BR8VoFsDM4UOLQB3NLeZgaybAYS/cvuQgddmAOFRIjxO2AUvX6fuLl40A2hDhAPo13NR3OeniYn8zVnT4JOSkpKyGPoJwE6YWPQGesYAAAAASUVORK5CYII=",alt:"t&c"}),(0,Ye.jsx)("p",{children:"Terms & Condition"})]}),(0,Ye.jsxs)(Ge,{to:"privacy-policy",className:"about_options",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfElEQVR4nO2Yv4sTURDHH9hooaBw/kBPsLET/Ae00UqwEVOLCmdmYtSAeplZMQoKtl6lFgpW/sBSCznYmT2NNtrZqp0WHv6AQ+7MqbzYXPZWssm+fZvAfuE1gf1mPm/mzbxdY0qVKtVXF+vhDgZ5zCg/GPXPcEuWGPVtAFIxvoMnlPnhA0+EaXkD4O7Ouwz+3yLQK34AMpVNb8CFQLCjHe96gUyvgkC9MTYAhUCwYwDvEJwDgFcIzgnAGwTnCOAFIm8Aq6QW62zY+QCwSpwTGB014wKQBEEgb8w4AcQhCGXRjApA3uD/VQmAZQbGqYTkN4M+J5AjrZPtTVSPJsYCgFAWGfT+pZrsyRzwwACgT+1r56C+wWndRSgPGPUqnZndYvJSP4Bhgvcq9gzQqr/eQKhNAv3YXahN+1tuAIT6LACdzBo41aMJQr1GoF8T/ucbg15vVV9udg6Q/qAmX8wC0EkCvUkoCykO+wKjzExPze30DtCEuY09vlO6jVHvdjvQ4O12iUDuWQ9vAHFfQn2V2Re0XRwAyHLmsgRZLmwO5LUxq5RXGy0B0FEGhp0DhPoz+xnQX95S3ToWro35fsgMgDLvDeA8hltdt1FK89LvCoAx3NvjC3onsyfILW8ATQiP9wLI4cyeKIf6AhDIdxcAhHp7pW+j0V6Xxds+az3SZOCJkyyAfq5UHq3p/0lR0wJcNmnUrEW7GfSLkzKKpfzCiRfrLdgQm/HJPpsKoJuFU7PbGfShg3KK4t4BhAcZtTOAR4cwOmBGSYRRI/1ZihpmFEVVrfW5oXYIQzCjrAB1f9KEJpD3VJV9RceXSrY1ck3PMco7uwjkbPwaslJ/AeWAmAnr8gLyAAAAAElFTkSuQmCC",alt:"privacy"}),(0,Ye.jsx)("p",{children:"Privacy Policy"})]}),(0,Ye.jsxs)(Ge,{to:"safety-remarks",className:"about_options",children:[(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpElEQVR4nO1ZPWhTURS+/oCICOri4CIuDqIOrg6Cs2NHHXSo57SxlCLJPQ08RwUXB0EcHPwj1rFQKBTfOXmxOBR0cHBQAoKT1KEoKKKRm9jYpkle7rv35b1KPjgQAu++7zvfd+77U2qE/xBB0NhJwBcIuEbIKwR8KQjC3SrvuH65tl8DTxFKnVAaHVUn4GIJooMqbyiOh0c1yk1C/tKFeEfxmga5Y45RWaME0RkCeahBfsYT31wa+BcBz89ieDbDfNuR7uPKSupzEpNvX1X3Pid2+fbmyJrznLjk21dplznJijT1qJEAGjkgowhZYci7zdvtO8TAz80VWIPc2H4CoEV+/Zz9ROROgEaudN77tJzoHqd8CejovMHY2NwuDfw4/w4kIE9pCtAg751jg1yJO9ZagEb+Ed9NuW8IEPKjePIyl6Tz1DrP9yQCVuPIK9XYsU6knwgn8tg8/rO1gH4PLiY2g0bBJTbULv5g7wCwJBnGjU64dp7+1Qt7B4DvxWeztwiP5Bsa5a69AJRJl53FPTaysVFoLaCM0QmLE2xxwkfn6W+Vr9aOWwswOwwBfxrc5q1OOHcem+t+VElh3gxYWr3JCdfOU3NNuZ1YQHmCTybIa1OEF/JotuzqKeUCQqkmsL3iEhtqF7NyhcbqeXciyWp2IjznLKDlAi8Om7xGWVC+YF7xEcjX4ZHnbyWIjimf0BAWhuYAJLhwDQICeZZ690GeqrQwPb28V4NEKXb+1czM4j6VJoIry4cI+E0KnX9t1k6VfFvEVHhAI7/0SD4ya6pholBY2EMoDzwIeGKiqbKC+bYV+/jZrevIqyUML6o8QF9bOmweYCyGdZ7Gl46ovMF8CmqSQ/7dg3jNfOFUeUdxMjpNKLc08jtT5rf5L2teI6gU8AfRWxN4A1KmXAAAAABJRU5ErkJggg==",alt:"safety"}),(0,Ye.jsx)("p",{children:"Safety Remarks"})]})]})]})};var HS=function(){return(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:(0,Ye.jsxs)(Ge,{to:"/about",children:[(0,Ye.jsx)("span",{style:{fontSize:"20px"},children:"\u2190"}),"\xa0 Terms and Conditions"]})}),(0,Ye.jsxs)("ul",{className:"aboutContent",children:[(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Introduction: "}),"Welcome to BookCart, an online marketplace designed for book lovers and collectors. Our mission is to make it easy for users to buy and sell used books, and to give old books a new life. By using our website and services, you agree to be bound by the following terms and conditions."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"User Account:"})," In order to use certain features of our website, you must register for an account. You are responsible for maintaining the confidentiality of your account and password and for restricting access to your computer. You agree to accept responsibility for all activities that occur under your account or password."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Listing and Selling Books:"})," BookCart allows users to list and sell used books on our website. By listing a book for sale, you agree to accurately describe the condition of the book and to provide clear and accurate photos."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Buying Books:"})," When you purchase a book on BookCart, you agree to pay the price listed on the website at the time of purchase. You also understand that the condition of the book may vary from the description provided in the listing."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Shipping and Handling:"})," BookCart is not responsible for shipping and handling of the books."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Returns and Refunds:"})," BookCart is not responsible for returns and refunds of the books."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Disputes:"})," In the event of a dispute between a buyer and a seller, BookCart is not responsible for any disputes and will not be held liable for any damages or losses resulting from a dispute."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Liability:"})," BookCart will not be liable for any damages or losses resulting from the use of our website or services. We make no warranty, express or implied, about the completeness, accuracy, reliability, suitability or availability with respect to the website or the information, products, services, or related graphics contained on the website for any purpose."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Intellectual Property:"})," The content and designing of our website is the property of BookCart or its content suppliers and is protected by international copyright laws."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Changes to the Terms and Conditions:"})," BookCart reserves the right to make changes to these terms and conditions at any time. Your continued use of our website and services following any changes indicates your acceptance of the new terms and conditions."]})]})]})};var GS=function(){return(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:(0,Ye.jsxs)(Ge,{to:"/about",children:[(0,Ye.jsx)("span",{style:{fontSize:"20px"},children:"\u2190"}),"\xa0 Privacy Policy"]})}),(0,Ye.jsxs)("ul",{className:"aboutContent",children:[(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Introduction: "}),"BookCart is committed to protecting the privacy of our users. This privacy policy outlines the information we collect and how it is used. By using our website and services, you consent to the collection and use of your information as described in this policy."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Information Collection: "}),"BookCart collects personal information from users who register for an account, including name, email address, phone number, and address. We also collect information about the books you list for sale and purchase, including title, price, images and other details related to the book."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Use of Information: "}),"BookCart uses the information collected to provide and improve our website and services. We will use your address to display it with book details and you phone number to help other users connect you on WhatsApp ."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Information Sharing: "}),"BookCart does not share personal information with third parties, except as necessary to provide our website and services."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Data Retention: "}),"BookCart will retain your personal information for as long as your account is active or as needed to provide our website and services."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Data Security: "}),"BookCart takes appropriate security measures to protect against unauthorized access, alteration, disclosure, or destruction of personal information."]}),(0,Ye.jsxs)("li",{children:[(0,Ye.jsx)("span",{children:"Changes to the Privacy Policy: "}),"BookCart reserves the right to make changes to this privacy policy at any time. We will notify you of any changes by posting the new privacy policy on our website."]})]})]})};var QS=function(){return(0,Ye.jsxs)("section",{className:"bookWebPage",children:[(0,Ye.jsx)("h1",{className:"gradient_head",children:(0,Ye.jsxs)(Ge,{to:"/about",children:[(0,Ye.jsx)("span",{style:{fontSize:"20px"},children:"\u2190"}),"\xa0 Safety Remarks"]})}),(0,Ye.jsxs)("ul",{className:"aboutContent",children:[(0,Ye.jsx)("li",{children:"Be wary of unsolicited emails or messages that ask for personal information, even if they appear to be from BookCart or a legitimate source. Never click on links or download attachments from unknown or suspicious sources."}),(0,Ye.jsx)("li",{children:"Be cautious when buying or selling items with people you don't know. It's best to meet in a public place, and take a friend or family member with you."}),(0,Ye.jsx)("li",{children:"Always be mindful of your surroundings when receiving or sending books, and if you feel unsafe, don't hesitate to walk away from the situation."}),(0,Ye.jsx)("li",{children:"When buying or selling books, always check the condition of the book before making the transaction."}),(0,Ye.jsx)("li",{children:"Keep your account and login information safe, and never share it with anyone. If you suspect that your account has been hacked or compromised, contact BookCart immediately."}),(0,Ye.jsx)("li",{children:"Be aware of the potential risks associated with online transactions, and take the necessary precautions to protect yourself."})]})]})};var KS=function(e){var t=e.books,n=Ae(),i=n.option,a=n.search,o=l((0,r.useState)([]),2),u=o[0],s=o[1],c=we();return(0,r.useEffect)((function(){s([]);var e=null===a||void 0===a?void 0:a.toLowerCase();t.forEach((function(t){var n,r;null!==(n=t[i])&&void 0!==n&&null!==(r=n.toLowerCase())&&void 0!==r&&r.includes(e)&&s((function(e){return[].concat(h(e),[t])}))}))}),[i,a,t]),(0,Ye.jsxs)("section",{id:"searchResult",children:[(0,Ye.jsx)("h1",{onClick:function(){c(-1)},style:{cursor:"pointer"},className:"gradient_head",children:"\u2190 \xa0 Search Results"}),(0,Ye.jsxs)("div",{id:"resultBox",children:[(0,Ye.jsxs)("h2",{children:["Search for books with "," ".concat(i," '").concat(a,"'")]}),(0,Ye.jsx)("div",{children:u.map((function(e,t){var n,r=e.name;return(null===(n=r)||void 0===n?void 0:n.length)>21&&(r=r.substring(0,20)+"..."),(0,Ye.jsxs)(Ge,{to:"/book/".concat(e.bookID),className:"bookOverview",target:"_blank",children:[(0,Ye.jsx)("img",{src:e.bookFront,alt:"book"}),(0,Ye.jsx)("h2",{children:r}),(0,Ye.jsxs)("button",{children:["\u20b9",e.price]})]},t)}))})]})]})};var WS=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],u=l((0,r.useState)(""),2),s=u[0],c=u[1],f=l((0,r.useState)([]),2),h=f[0],d=f[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1],y=l((0,r.useState)({}),2),g=y[0],k=y[1];return(0,r.useEffect)((function(){dS.collection("books").orderBy("bookID").onSnapshot((function(e){n(e.docs.map((function(e){return e.data()})))})),fS.onAuthStateChanged((function(e){if(e){var t=e.email.split("@")[0];o(t),c(e.photoURL);var n=dS.collection("users").doc(t);n.get().then((function(t){if(t.exists)k(t.data()),d(t.data().wishlist),m(t.data().verified);else{var r={name:e.displayName,email:e.email,image:e.photoURL,wishlist:[],verified:!1};n.set(r),k(r)}}))}else o(""),c(""),d([]),m(!1),k({})}))}),[]),(0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsxs)("div",{id:"navigation",children:[(0,Ye.jsx)(yS,{userId:a,userPic:s}),(0,Ye.jsxs)("div",{id:"mainContent",children:[(0,Ye.jsx)(Xe,{}),(0,Ye.jsxs)(Le,{children:[(0,Ye.jsx)(Oe,{path:"/",element:(0,Ye.jsx)(kS,{})}),(0,Ye.jsx)(Oe,{path:"category",element:(0,Ye.jsx)(TS,{books:t})}),(0,Ye.jsx)(Oe,{path:"category/:catId",element:(0,Ye.jsx)(TS,{books:t})}),(0,Ye.jsx)(Oe,{path:"book/:bookId",element:(0,Ye.jsx)(_S,{books:t,wishlist:h,setWishlist:d,user:a})}),(0,Ye.jsx)(Oe,{path:"seller",element:(0,Ye.jsx)(LS,{setVerified:m,verified:v,user:a})}),(0,Ye.jsx)(Oe,{path:"seller/verified",element:(0,Ye.jsx)(BS,{verified:v,userId:a,user:g})}),(0,Ye.jsx)(Oe,{path:"recommend",element:(0,Ye.jsx)(qS,{})}),(0,Ye.jsx)(Oe,{path:"about",element:(0,Ye.jsx)(zS,{})}),(0,Ye.jsx)(Oe,{path:"about/terms&condition",element:(0,Ye.jsx)(HS,{})}),(0,Ye.jsx)(Oe,{path:"about/privacy-policy",element:(0,Ye.jsx)(GS,{})}),(0,Ye.jsx)(Oe,{path:"about/safety-remarks",element:(0,Ye.jsx)(QS,{})}),(0,Ye.jsx)(Oe,{path:"user/:userId",element:(0,Ye.jsx)(OS,{books:t,currUser:a,userData:g})}),(0,Ye.jsx)(Oe,{path:"search/:option/:search",element:(0,Ye.jsx)(KS,{books:t})})]})]})]})})};a.createRoot(document.getElementById("root")).render((0,Ye.jsx)(r.StrictMode,{children:(0,Ye.jsx)(qe,{children:(0,Ye.jsx)(WS,{})})}))}()}();
//# sourceMappingURL=main.2cc44b3a.js.map